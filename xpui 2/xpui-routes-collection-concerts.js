"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5783],{2245:(e,t,n)=>{n.d(t,{R:()=>N});var s=n(30758),a=n(97500),i=n.n(a),o=n(62798),r=n(73146),c=n(38756),l=n(33663),d=n(14422),u=n(16859),m=n(51283);const g="C3jVNGQUUZcUp5kTEOC0",h="pdLDCowVOiUIfeu9hihi",v="Sm3POgzbjs7wFj7tyYNh",p="vZSm_8xsDxBqMzp1tqmn",x="NXBXbVfJboNI6xdrNIDB",f="bF2GZTmgrRQLsrDcIZXd",j="qI009QzTkvisAXqhbw74",y="qIb0IOmZs9KwEeOkpvg1";var C=n(86070);const b=(0,s.memo)((({title:e,titleUri:t,titleMediaCircle:n,subtitle:a,pretitle:l,titleMedia:u,trailing:m,collapsable:b,children:N,className:S="",testId:k="component",id:_,seeAllUri:R,seeAllLabel:I,alwaysShowSeeAll:D=!1,showSeeAll:U=!0,onClickShelfTitle:w,onClickShelfSeeAll:E,elementRef:A,renderSubHeader:F,withEncoreCards:M=!0})=>{const B=(0,s.useRef)(null),P=!!U&&(D||U),T=b?{"data-shelf-collapsable":!0}:{},[O,L]=(0,s.useState)(!0),z=(0,d.W)();(0,s.useLayoutEffect)((()=>{if(B.current){const e=(0,r.X)(B.current,z);e?B.current.removeAttribute("data-shelf-notatedge"):B.current.setAttribute("data-shelf-notatedge","true"),L(e)}}),[A,z]);const H=O?"0px var(--margin, 0px)":"0px";return(0,C.jsxs)("section",{ref:e=>{B.current=e,"function"==typeof A&&A(e)},className:i()(S,g,{[v]:M}),"data-shelf":"carousel","data-testid":`${k}-shelf`,"aria-label":e??"",...T,children:[e&&(0,C.jsx)("div",{className:p,children:(0,C.jsx)(c.k,{seeAllUri:R,seeAllLabel:I,pageId:_,showSeeAll:P,onClickTitle:w,onClickSeeAll:E,title:e,titleUri:t,subtitle:a,pretitle:l,titleMedia:u,trailing:m,titleMediaCircle:n})}),F&&(0,C.jsx)("div",{className:x,children:F()}),(0,C.jsx)(o.FN,{className:h,chevronsClassName:y,scrollContentClassName:j,scrollerClassName:f,scrollingMethod:o.Hv.SNAP,scrollPadding:H,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:o.C_.ON_HOVER,edgeGradients:o.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:N})]})})),N=({index:e,logShelfImpressions:t=!1,...n})=>{const{seeAllUri:s,id:a}=n,{onClickShelfTitle:i,onClickShelfSeeAll:o,spec:r}=(0,l.w)({seeAllUri:s,index:e,id:a}),c=(0,m.t)(r,t);return(0,C.jsx)(u.r,{spec:r,children:(0,C.jsx)(b,{...n,elementRef:c,onClickShelfTitle:i,onClickShelfSeeAll:o})})}},10126:(e,t,n)=>{n.d(t,{p:()=>k});var s=n(30758),a=n(97500),i=n.n(a),o=n(44004),r=n(88019),c=n(91262),l=n(35570);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",g="(min-width: 768px) and (max-width: 1023px)",h="(min-width: 1024px)",v="(min-width: 1024px) and (max-width: 1279px)",p="(min-width: 1280px)",x="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",j="FvfvGU3jvHRskUU9v9_8",y="Q9AlbZn2EGzy3MTWXa8X",C="mxmxS0y8LiwSs5nueKPT",b="GXxVAveNFStY3pBI_NO4",N="eHcXC2s97InYP7rMNT0H";var S=n(86070);const k=(0,s.memo)((function(e){const{children:t,message:n,title:s,linkTitle:a,linkTo:k,onClick:_,renderInline:R=!1}=e,{isXSOnly:I,isSMOnly:D}={isXS:(0,l.U)(d),isXSOnly:(0,l.U)(u),isSM:(0,l.U)(m),isSMOnly:(0,l.U)(g),isMD:(0,l.U)(h),isMDOnly:(0,l.U)(v),isLG:(0,l.U)(p),isLGOnly:(0,l.U)(x),isXL:(0,l.U)(f)},U=I||D;return(0,S.jsxs)("section",{className:i()(j,{[y]:R}),children:[t,(0,S.jsx)(o.E,{as:"h1",variant:U?"titleSmall":"titleMedium",className:b,children:s}),(0,S.jsx)(o.E,{variant:U?"bodySmall":"bodyMedium",className:N,children:n}),a&&(k||_)&&(0,S.jsx)(r.$,{colorSet:"invertedLight",className:C,href:k,onClick:_,component:c.v,children:a})]})}))},34802:(e,t,n)=>{n.d(t,{DL:()=>r,Qe:()=>c,bU:()=>d,he:()=>l,nm:()=>o});var s=n(42534);const a=(e,t)=>{if(!e.includes(t))return;const n=e.split("/"),s=n.findIndex((e=>e===t));return n[s+1]},i=(e,t)=>{const n=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(n.push("location"),n.push(String(t.location??a(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(n.push("genre"),n.push(String(t.genre??a(e,"genre")))),n.join("/")},o=(e,t,n)=>{if(!t)return i(e,{location:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return i(e,s?{location:`${t}-${s}`}:{location:t})},r=(e,t,n)=>{if(!t)return i(e,{genre:null});const s=n?.normalize().replaceAll(/\W+/g,"-");return i(e,s?{genre:`${t}-${s}`}:{genre:t})},c=e=>{if(!e)return;const t=e.split("-"),[n]=t;return{id:`spotify:concept:${n}`,name:t.reduce(((e,t,n)=>0===n?e:`${e} ${t}`),"").trim()}},l=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),d=e=>(0,s.x)(e,{representation:"date"})},36772:(e,t,n)=>{n.d(t,{Q:()=>s});const s=e=>{const[t]=e;if(!("visuals"in t.data))return;const[n]=t.data.visuals.avatarImage?.sources??[];return n?.url}},73146:(e,t,n)=>{n.d(t,{X:()=>s});const s=(e,t)=>{const n=e.parentElement.getBoundingClientRect(),s=e.getBoundingClientRect(),a=t?n.right:n.left,i=t?s.right:s.left;return!(e instanceof HTMLElement&&Math.abs(i-a)>48)}},79881:(e,t,n)=>{n.d(t,{I:()=>d});var s=n(30758),a=n(45005),i=n(79252),o=n(16498),r=n(36772),c=n(8146),l=n(15845);const d=e=>{const t=(0,l.s)(),n=(0,s.useMemo)((()=>{const t=(0,a.o_h)((0,o.$V)(e)?e.data.uri:"");return e.spec?.eventCardFactory({identifier:t?.id,position:e.position,uri:t?.toURI()??""})}),[e]);if(!(0,o.$V)(e))return;return{imageUrl:(0,r.Q)(e.data.artists.items)??"",uri:e.data.uri,title:e.data.title,subTitle:[e.data.location.name,e.data.location.city].join(i.Ru.getSeparator()),date:e.data.startDateIsoString,dateRange:(0,c.Y)(new Date(e.data.startDateIsoString)),handleClick:()=>n&&t.logInteraction(n.hitUiNavigate({destination:e.data.uri}))}}},88451:(e,t,n)=>{n.r(t),n.d(t,{default:()=>bs});var s=n(30758),a=n(97500),i=n.n(a),o=n(62411),r=n(60749),c=n(97547),l=n(88019),d=n(43409),u=n(96489),m=n(4370),g=n(7262),h=n(74745),v=n(79252),p=n(25373),x=n(11936),f=n(97514),j=n(11891),y=n(7106),C=n(9242),b=n(54264),N=n(85387),S=n(83793),k=n(45005),_=n(66973),R=n(23946),I=n(80882),D=n(81572);const U="gTBBvHPsmI4wQAMvZkZg",w="oH8142OCLHWFsonR04W8",E="vnpiTOiF2um7QiJAcpgw",A="uTm3fSPtqqJzQkcfn4yA",F="x4_6X4ZJHSGg6IAuXsXv";var M=n(86070);const B=e=>{const t=(0,s.useMemo)((()=>e.spec?.genreButtonFactory({position:e.position,uri:e.uri})),[e.spec,e.position,e.uri]);return(0,M.jsx)(D.v,{variant:e.isSelected?"contrasting":"tinted",onClick:()=>{t&&t.hitUiElementToggle(),e.onClick()},children:(0,M.jsx)("div",{className:F,children:e.name})},e.uri)},P=e=>{const[t,n]=(0,s.useState)(e.defaultConcepts),a=(0,s.useMemo)((()=>e.spec?.genreDoneButtonFactory()),[e.spec]),i=(0,s.useMemo)((()=>e.spec?.genreClearButtonFactory()),[e.spec]);return(0,M.jsx)(I.A,{contentLabel:v.Ru.get("live_events.label"),isOpen:!0,className:U,onRequestClose:e.onClose,children:(0,M.jsxs)("section",{className:w,children:[(0,M.jsx)("div",{className:E,children:(0,M.jsx)(d.H,{"aria-label":v.Ru.get("close"),iconOnly:_.M,size:"small",onClick:e.onClose})}),(0,M.jsx)(R.I,{mode:"multi-select",layout:"multi-line","aria-label":"",children:e.concepts.map(((s,a)=>{const{uri:i,name:o}=s.data;return(0,M.jsx)(B,{uri:i,name:o,position:a+1,spec:e.spec,isSelected:t.includes(i),onClick:()=>n((e=>e.includes(i)?e.filter((e=>e!==i)):[...e,i]))},i)}))}),(0,M.jsxs)("div",{className:A,children:[(0,M.jsx)(d.H,{onClick:()=>{i&&i.hitUiDeselect(),n([])},size:"small",disabled:0===t.length,children:v.Ru.get("concerts.genres.clear")}),(0,M.jsx)(l.$,{onClick:()=>{a&&a.hitUiSelect(),e.onSave(t)},size:"small",children:v.Ru.get("concerts.genres.done")})]})]})})},T=(e,t,n)=>{const s=n&&n?.length>1?"+"+(n?.length-1):"";return e?[e.name,s].join(" ").trim():t?[t,s].join(" ").trim():v.Ru.get("concerts.genres.all_genres")},O=e=>void 0!==e&&Object.keys(e).includes("data");var L=n(5820),z=n(33031);const H=new L.l("concertConcepts","query","89d71401bd4202c02aae7c7db754d021b08ab264e95ea6d65bf9f4a91b0df2a4",null);var K=n(34802);const Q=()=>{const{id:e}=(0,N.g)(),[t]=(0,r.ok)(),n=(0,K.Qe)(e),s=t.getAll("genres").map((e=>(0,k.dDZ)(e).toString()));return{displayName:n?.name,conceptUris:[...new Set(n?[n.id,...s]:s)],urlConceptUri:n?.id}};var q=n(33924);const G=e=>{const t=(0,q.g)(),[n]=(0,r.ok)(),{pathname:a}=(0,N.zy)(),{displayName:i,conceptUris:o,urlConceptUri:c}=Q(),d=(0,s.useMemo)((()=>e.spec?.genrePickerButtonFactory()),[e.spec]),{data:u}=(m={geohash:e.geohash??"",conceptUri:c??null},(0,z.I)(H,m,g));var m,g;const h=(v=u?.concertConcepts,void 0!==v&&Object.keys(v).includes("items")?u.concertConcepts.items.filter(O):[]);var v;const[p,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(o),[y]=f,C=h.find((e=>e.data.uri===y)),b=C||i?l.$:S.n;return(0,M.jsxs)("div",{children:[(0,M.jsx)(b,{size:"small",onClick:()=>{d&&d.hitUiReveal(),x((e=>!e))},className:F,children:T(C?.data,i,f)}),p&&(0,M.jsx)(P,{spec:d,onClose:()=>x(!1),onSave:e=>{n.delete("genres");const[s]=e,i=h.find((e=>e.data.uri===s));if(i){const s=(0,k.o_h)(i.data.uri);e.length>1&&e.forEach((e=>n.append("genres",(0,k.o_h)(e)?.id))),t({pathname:(0,K.DL)(a,s?.id,i?.data.name),search:new URLSearchParams(n).toString()})}else t({pathname:(0,K.DL)(a,void 0,void 0),search:new URLSearchParams(n).toString()});j(e),x(!1)},concepts:h,defaultConcepts:f})]})};var V=n(82512),X=n(73155),W=(n(85243),n(44004)),Z=n(70043),$=n(67017),Y=n(91985),J=n(3091),ee=n(17176),te=n(6924),ne=n(72653),se=n(94222),ae=n(96644),ie=n(87584),oe=n(63514),re=n(16856),ce=n(54869),le=n(96132),de=n(24808),ue=n(47613),me=n(2283),ge=n(88593),he=n(56708),ve=n(64416),pe=n(79494),xe=n(38408),fe=n(62224),je=n(63240),ye=n(45523),Ce=n(10632),be=n(54701),Ne=n(80675),Se=n(72861),ke=n(76804),_e=n(55128),Re=n(53406),Ie=n(15643),De=n(1467),Ue=n(24428),we=n(48199),Ee=n(61845),Ae=n(83536),Fe=n(48375),Me=n(63855),Be=n(1103),Pe=n(96344),Te=n(38903),Oe=n(17530),Le=n(33140),ze=n(64741),He=n(71418),Ke=n(44135),Qe=n(6729),qe=n(32409),Ge=n(67031),Ve=n(98045),Xe=n(86111),We=n(11554),Ze=n(61753),$e=n(87318),Ye=n(89949),Je=n(22180),et=n(85428);const tt={af:Z.af,am:$.c,ar:Y.ar,arEG:J.m,arMA:ee.E,arSA:te.G,az:ne.az,bg:se.bg,bn:ae.bn,bho:$.c,bs:ie.bs,ca:oe.ca,cs:re.cs,da:ce.da,de:le.de,el:de.el,en:$.c,enGB:ue.b,es419:me.es,es:me.es,esAR:me.es,esMX:me.es,et:ge.et,eu:he.eu,fa:ve.$,fi:pe.fi,fil:$.c,frCA:xe.V,fr:fe.fr,gl:je.gl,gu:ye.gu,he:Ce.he,hi:be.hi,hr:Ne.hr,hu:Se.hu,id:ke.id,is:_e.is,it:Re.it,ja:Ie.ja,kn:De.kn,ko:Ue.ko,lt:we.lt,lv:Ee.lv,mk:Ae.mk,ml:$.c,mr:$.c,ms:Fe.ms,nb:Me.nb,ne:$.c,nl:Be.nl,or:$.c,paIN:$.c,paPK:$.c,pl:Pe.pl,ptBR:Te.F,ptPT:Oe.pt,ro:Le.ro,ru:ze.ru,sk:He.sk,sl:Ke.sl,sr:Qe.sr,sv:qe.sv,sw:$.c,ta:Ge.ta,te:Ve.te,th:Xe.th,tr:We.tr,uk:Ze.uk,ur:$.c,vi:$e.vi,zhCN:Ye.g,zhHK:Je.a,zhTW:et.G,zu:$.c},nt=e=>(e=>Object.keys(tt).includes(e))(e)?tt[e]:$.c;var st=n(12058),at=n(42534);const it=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);return n.setDate(t.getDate()+2),{from:t,to:n}},ot=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);n.setDate(t.getDate()+7);const s=new Date(n);return s.setDate(n.getDate()+2),{from:n,to:s}},rt=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,st.r)(e.from,t.from)&&(0,st.r)(e.to,t.to)),ct=e=>(0,at.x)(e,{representation:"date"});var lt=n(14422),dt=n(15845),ut=n(51283);const mt="C1USyigFSYyc22_BmsgB",gt="Cwo5ZgH_QLzFbSjWjglf",ht="iL7PRv0yTC9UFjHfDJDW",vt="oxBa3kaduGMhYxc9I_Uu",pt="x0xbkRE3CyGK_i406MSX",xt="zT6EzYpjnj9pMKhMFQB7",ft="YOLVSXg5_gdh0VfL2oNl",jt="ynXemVsankd4H506x8D2",yt={formatCaption:e=>v.Ru.formatDate(e,{month:"long",year:"numeric"}),formatDay:e=>v.Ru.formatDate(e,{day:"numeric"}),formatWeekdayName:e=>v.Ru.formatDate(e,{weekday:"short"})},Ct=(0,s.memo)((e=>{const{onDone:t,onClose:n,spec:a}=e,[i,o]=(0,s.useState)(e.dateRange),r=(0,lt.W)(),c=(0,ut.t)(a),u=(0,dt.s)(),m=new Date,g=it(m),h=ot(m),p=rt(i,g),x=rt(i,h),f=new Date;return f.setFullYear(f.getFullYear()+1),(0,M.jsx)("div",{ref:c,children:(0,M.jsx)(I.A,{isOpen:!0,children:(0,M.jsxs)("section",{className:mt,children:[(0,M.jsx)(d.H,{className:gt,iconOnly:_.M,size:"small",onClick:n,"aria-label":v.Ru.get("close_button_action")}),(0,M.jsxs)("div",{className:ht,children:[(0,M.jsx)(W.E,{as:"h3",variant:"bodyMediumBold",children:v.Ru.get("live_events.date_picker_dialog_title")}),(0,M.jsxs)("div",{className:vt,children:[(0,M.jsx)(D.v,{className:pt,size:"md",selectedColorSet:"brightAccent",selected:p,onClick:()=>{o(p?void 0:g),a&&u.logInteraction(a.datePresetButtonFactory({identifier:"thisWeekend",position:0}).hitUiSelect())},children:v.Ru.get("live_events.this_weekend_preset")}),(0,M.jsx)(D.v,{className:pt,size:"md",selectedColorSet:"brightAccent",selected:x,onClick:()=>{o(x?void 0:h),a&&u.logInteraction(a.datePresetButtonFactory({identifier:"nextWeekend",position:1}).hitUiSelect())},children:v.Ru.get("live_events.next_weekend_preset")})]})]}),(0,M.jsx)(X.hv,{mode:"range",selected:i,onSelect:o,numberOfMonths:2,defaultMonth:e.dateRange?.from,fromDate:new Date,toDate:f,formatters:yt,dir:r?"rtl":"ltr",modifiersClassNames:{today:xt},locale:nt(v.Ru.getLocaleForFormatting())}),(0,M.jsxs)("div",{className:ft,children:[(0,M.jsx)(d.H,{className:jt,size:"small",onClick:()=>{o(void 0)},disabled:!i?.from,children:v.Ru.get("live_events.date_picker_dialog_clear")}),(0,M.jsx)(l.$,{size:"small",onClick:()=>{if(i?.from){const{from:e,to:n}=i;t({from:e,to:n||e})}else t()},children:v.Ru.get("live_events.date_picker_dialog_done")})]})]})})})})),bt=e=>{const t=e?.match(/(202\d)-([01]\d)-([0-3]\d)/);if(!t)return;const[,n,s,a]=t;return new Date(parseInt(n,10),parseInt(s,10)-1,parseInt(a,10))},Nt=()=>{const[e]=(0,r.ok)(),t=e.get("startDate")?.trim(),n=e.get("endDate")?.trim(),s=bt(t),a=bt(n);return s&&a&&{from:s,to:a}};var St=n(8146);const kt="WnIhxhr9MIQjVvkvUQTf",_t="ETRYfT8oEUJuUDLgOBUX",Rt="qdpaG8_efSSt25IhC0r_",It=e=>{const[t,n]=(0,s.useState)(!1),[a,i]=(0,r.ok)(),o=(0,dt.s)(),c=(0,s.useMemo)((()=>e.spec?.datePickerModalFactory()),[e.spec]),d=(0,s.useMemo)((()=>e.spec?.headerFactory()),[e.spec]),u=Nt(),m=it(new Date),g=ot(new Date),h=(0,s.useCallback)((e=>{if(e){if(a.set("startDate",ct(e.from)),a.set("endDate",ct(e.to)),c){const e=a.toString();o.logInteraction(c.doneButtonFactory({uri:e}).hitUiNavigate({destination:e}))}}else a.delete("startDate"),a.delete("endDate");n(!1),i(a),c&&o.logInteraction(c.doneButtonFactory({uri:a.toString()}).hitUiHide())}),[i,a,c,o]),p=(0,s.useCallback)((e=>{rt(u,e)?(a.delete("startDate"),a.delete("endDate")):(a.set("startDate",ct(e.from)),a.set("endDate",ct(e.to))),i(a)}),[u,a,i]),x=u?l.$:S.n;return(0,M.jsxs)("div",{className:kt,children:[(0,M.jsx)("div",{children:(0,M.jsx)(x,{className:_t,iconLeading:V.R,onClick:()=>{n(!0),d&&o.logInteraction(d.datePickerButtonFactory().hitUiReveal())},size:"small",children:u?(0,St.tX)(u):v.Ru.get("live_events.date_picker_button_text")})}),t&&(0,M.jsx)(Ct,{onClose:()=>{n(!1),c&&o.logInteraction(c.closeButtonFactory().hitUiHide())},onDone:h,dateRange:u,spec:c}),(0,M.jsxs)("div",{className:Rt,children:[(0,M.jsx)("div",{children:(0,M.jsx)(D.v,{size:"sm",selectedColorSet:"brightAccent",selected:rt(u,m),onClick:()=>{if(p(m),d){a.set("startDate",ct(m.from)),a.set("endDate",ct(m.to));const e=a.toString();o.logInteraction(d.datePresetButtonFactory({uri:e,identifier:"thisWeekend",position:0}).hitUiNavigate({destination:e}))}},className:_t,children:v.Ru.get("live_events.this_weekend_preset")})}),(0,M.jsx)("div",{children:(0,M.jsx)(D.v,{size:"sm",selectedColorSet:"brightAccent",selected:rt(u,g),onClick:()=>{if(p(g),d){a.set("startDate",ct(g.from)),a.set("endDate",ct(g.to));const e=a.toString();o.logInteraction(d.datePresetButtonFactory({uri:e,identifier:"nextWeekend",position:1}).hitUiNavigate({destination:e}))}},className:_t,children:v.Ru.get("live_events.next_weekend_preset")})})]})]})};var Dt=n(10126),Ut=n(30618),wt=n(2245),Et=n(99665),At=n(79881);const Ft=e=>{const t=(0,At.I)(e);return t?(0,M.jsx)(Et.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,imageUrl:t.imageUrl,date:t.date,onClick:t.handleClick}):null};var Mt=n(86403),Bt=n(26892),Pt=n(63916),Tt=n(58206);const Ot="Ig5vKQ7dYBd1EvrAFxNe",Lt="h_q319q68ujja24YIoXY",zt="dFTQKQt3imsoOza3VE4G",Ht="M8LA1p3y53Qnge37zUmz",Kt="HZi6Ziy6mVJMFZsPf4wk",Qt="KNX0R2c0r90zNTPYZm6X",qt="JI0woT5IN6EnNKnilhcg",Gt="kAi1CfiOMYDExKkXuw44",Vt="Zwr6T4ceJI7KfyNxa4tS",Xt="mW3O8RnDMDY6MfRJKqd5",Wt="raQK_4Eaqa5Zj06_aBm7",Zt="AOuYgrCnrYvPKsyzxqVy",$t="P1dra4DUpn36RnCkuwa_",Yt="zBCfaF04WlTsiUcov2oJ",Jt="JxTPZX9AoptKanJg0zIw",en=(0,s.memo)((e=>{const{concert:t,position:n,modalSpec:a}=e,i=(0,St.l4)(e.concert.startDateIsoString),o=(0,k.o_h)(e.concert.uri),r=(0,s.useMemo)((()=>a?.eventRowFactory({position:n,uri:t.uri})),[a,n,t]),c=(0,dt.s)();return(0,M.jsxs)(Tt.N,{to:`/concert/${o?.id}`,className:Gt,onClick:()=>{r&&c.logInteraction(r.hitUiNavigate({destination:`/concert/${o?.id}`}))},children:[(0,M.jsxs)("div",{className:Vt,"aria-hidden":!0,children:[(0,M.jsx)(W.E,{as:"div",variant:"marginalBold",className:Xt,children:(0,St.tj)(i)}),(0,M.jsx)(W.E,{as:"div",variant:"bodyMediumBold",className:Wt,children:(0,St.Py)(i)})]}),(0,M.jsxs)("div",{className:Zt,children:[(0,M.jsx)(W.E,{as:"div",variant:"bodySmallBold",className:$t,"data-testid":"event-title",children:t.title}),(0,M.jsx)(Pt.s,{children:(0,St.Fn)(i)}),(0,M.jsxs)(W.E,{as:"div",variant:"bodySmall",className:Yt,children:[(0,St.VJ)(i)," • ",(0,St.WB)(i)]}),(0,M.jsx)(W.E,{as:"div",variant:"bodySmall",className:Jt,"data-testid":"event-venue",children:[t.location.venue,t.location.city].join(v.Ru.getSeparator())})]})]},t.uri)})),tn=e=>{const t=(0,s.useMemo)((()=>e.feedSpec?.groupedEventModalFactory({uri:e.artist.uri||""})),[e.feedSpec,e.artist]),n=(0,dt.s)(),a=(0,ut.t)(t),i=()=>{t&&n.logInteraction(t.closeButtonFactory().hitUiHide()),e.onClose()};return(0,M.jsx)(I.A,{contentLabel:v.Ru.get("live_events.label"),isOpen:!0,className:Ot,onRequestClose:i,children:(0,M.jsxs)("section",{className:Lt,ref:a,children:[(0,M.jsx)("div",{className:zt,children:(0,M.jsx)(nn,{"aria-label":v.Ru.get("close"),iconOnly:_.M,size:"small",onClick:i})}),(0,M.jsxs)("div",{className:Ht,children:[(0,M.jsx)(Bt._,{height:"48",width:"48",className:Kt,src:e.artist.imageUri}),(0,M.jsxs)("div",{className:Qt,children:[(0,M.jsx)(W.E,{as:"h3",variant:"bodyMediumBold",className:qt,"data-testid":"event-venue",children:e.artist.name}),(0,M.jsx)(W.E,{as:"h3",variant:"bodySmall","data-testid":"event-venue",children:v.Ru.get("concerts.count_near_location",e.concerts.length,e.location.city)})]})]}),e.concerts.map(((e,n)=>(0,M.jsx)(en,{concert:e,position:n,modalSpec:t},e.uri)))]})})};var nn=(0,Mt.Ay)(d.H).withConfig({displayName:"ConcertModal___StyledButtonTertiary",componentId:"sc-179c8vh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),sn=n(16498),an=n(36772);const on=e=>{const[t,n]=(0,s.useState)(!1),a=(0,s.useMemo)((()=>{if(!(0,sn.ys)(e))return;const[t]=e.concerts;if(!(0,sn.$V)(t))return;const n=(0,k.o_h)(t.data.uri);return e.spec?.eventCardFactory({identifier:n?.id,position:e.position,uri:t.data.uri})}),[e]),i=(0,dt.s)(),o=(0,ut.t)(a);if(!(0,sn.ys)(e))return;const[r]=e.concerts;if(!(0,sn.$V)(r))return;const[c]=r.data.artists.items,l=(0,an.Q)(r.data.artists.items),{startDate:d,endDate:u}=(0,St.Vi)(e.concerts);return{isModalOpen:t,handleClick:e=>{e.preventDefault(),n(!0),a&&i.logInteraction(a.hitUiReveal())},handleClose:()=>n(!1),concert:{uri:r.data.uri,title:r.data.title,imageUrl:l,dateRange:(0,St.WZ)(d,u),startDateIsoString:r.data.startDateIsoString},artist:{uri:"uri"in c.data?c.data.uri:"",name:"profile"in c.data?c.data.profile.name:"",imageUri:l??""},location:{city:r.data.location.city,venue:r.data.location.name},totalConcerts:e.concerts.length,concerts:e.concerts.map((e=>(0,sn.$V)(e)?{uri:e.data.uri,title:e.data.title,location:{city:e.data.location.city,venue:e.data.location.name},startDateIsoString:e.data.startDateIsoString}:null)).filter(sn.se),ref:o}},rn=e=>{const t=on(e);return t?(0,M.jsxs)("div",{ref:t.ref,children:[(0,M.jsx)(Et.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,imageUrl:t.concert.imageUrl,subTitle:`${t.concert.dateRange} • ${v.Ru.get("concerts.count",t.totalConcerts)}`}),t.isModalOpen&&(0,M.jsx)(tn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};var cn=n(12847);const ln=e=>{const t=on(e);return t?(0,M.jsxs)("div",{ref:t.ref,children:[(0,M.jsx)(cn.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,image:t.concert.imageUrl??"",subTitle:v.Ru.get("concerts.count",t.concerts.length),dateRange:t.concert.dateRange}),t.isModalOpen&&(0,M.jsx)(tn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};var dn=n(65765);const un=e=>{if(void 0===(t=e.data)||!Object.keys(t).includes("uri"))return null;var t;const[n]=e.data.images.items;return(0,M.jsx)(dn.B,{uri:e.data.uri,name:e.data.name,images:e.data.images.items.flatMap((e=>e.sources)),color:n?.extractedColors?.colorDark.hex,description:e.data.description,authorName:null,isPlayable:!0,logCardImpressions:!0,index:e.position})};var mn=n(4262);const gn="r9pZATnIA0vfb26moOSE",hn="kOfWkKuha0KPE6O5zPgU",vn="WSryB2nAyCVspMyI4hft",pn="EwxEfHdxTzVoxfzYTQaP",xn="IBAOIOOtlpQVPo9F5FgR",fn="uErMtJ7mMK76G0Y_2Nrm",jn=e=>{const t=(0,At.I)({...e,...e.concert});return t?(0,M.jsxs)(Tt.N,{to:t.uri,"data-testid":"concert-promo",onClick:t.handleClick,className:gn,children:[(0,M.jsx)(Bt._,{src:t.imageUrl,className:hn}),(0,M.jsxs)("div",{className:vn,children:[(0,M.jsxs)("div",{className:pn,children:[(0,M.jsx)(W.E,{variant:"titleMedium",semanticColor:"textBase",as:"div",className:xn,children:t.title}),(0,M.jsx)(W.E,{as:"div",semanticColor:"textBase",variant:"bodySmall",className:xn,children:t.subTitle})]}),(0,M.jsx)("div",{className:fn,children:(0,M.jsx)(l.$,{"aria-label":t.title,iconOnly:mn.h,size:"small",colorSet:"invertedLight"})})]})]}):null},yn={ConcertGroup:ln,ConcertV2ResponseWrapper:e=>{const t=(0,At.I)(e);return t?(0,M.jsx)(cn.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,image:t.imageUrl,date:t.date,onClick:t.handleClick}):null},PlaylistResponseWrapper:un,ConcertPromo:jn},Cn={ConcertGroup:rn,ConcertV2ResponseWrapper:Ft,PlaylistResponseWrapper:un,ConcertPromo:jn},bn=({concert:e,position:t,spec:n,type:s})=>{if(a=e.__typename,!Object.keys(yn).includes(a??""))return null;var a;const i=("grid"===s?Cn:yn)[e.__typename];return(0,M.jsx)(i,{position:t,spec:n,...e})},Nn=e=>{const t={"recommended-events":v.Ru.get("concerts_recommended_for_you"),"popular-events":v.Ru.get("concerts_popular"),"concerts-near-you":v.Ru.get("concerts.discover_near_you")};return e in t?t[e]:v.Ru.get("concerts")},Sn="YJ_lZ7Vqhu9QBfyOclOx",kn="FlsDpqinw8SF_Bgf0yWA",_n="bvJZOAXCfadBunfTLqeX",Rn="P33NLJX3lEygr0Z07qIg",In="NvWNKWRgI2bmr_qcCEyP",Dn="dEaB7T6y5kFQVzk17Ib_",Un="QLxo4g8cCxlsbu3SALAE",wn=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"carousel",position:0})),[e.spec]),n=(0,ut.t)(t);return!(0,sn.Lw)(e.data)||(0,sn.Lw)(e.data)&&0===e.data.concerts.length?null:(0,M.jsx)("div",{ref:n,className:Dn,children:(0,M.jsx)(wt.R,{title:Nn(e.data.key),index:0,id:e.data.key,seeAllUri:e.data.uri??void 0,seeAllLabel:v.Ru.get("shelf.see-all"),className:Un,withEncoreCards:!1,children:e.data.concerts.map(((e,n)=>(0,M.jsx)(bn,{concert:e,position:n,spec:t,type:"grid"},n))).filter(sn.se)})})},En=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,ut.t)(t);return 0===e.concerts.length?null:(0,M.jsxs)("div",{ref:n,className:Dn,children:[(0,M.jsx)(W.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:e.title}),e.concerts.map(((e,n)=>(0,M.jsx)(bn,{type:"list",concert:e,position:n,spec:t},n))).filter(sn.se)]})};var An=n(76608);const Fn=e=>{const t=(0,s.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,ut.t)(t);return(0,M.jsx)("div",{ref:n,children:(0,M.jsx)(An.$,{total:e.concerts.length,title:e.title,showAll:!0,withEncoreCards:!1,children:e.concerts.map(((e,n)=>(0,M.jsx)(bn,{type:"grid",concert:e,position:n,spec:t},n))).filter(sn.se)})})},Mn=e=>{if(!(0,sn.eO)(e.data))return null;const t="grid"===e.layout?Fn:En;return(0,M.jsx)(t,{title:Nn(e.data.key),concerts:e.data.concerts,spec:e.spec})},Bn="_twZ6XqHC7VdQQiSBeMQ",Pn=e=>{if(!e?.match(/^(\d{4})-(\d{2})-(\d{2})$/))return v.Ru.get("live_events.all_events_tab");const[t,n,s]=e.split("-");return(0,St.Fn)(new Date(Number(t),Number(n)-1,Number(s)))},Tn=e=>{if(!(0,sn.dR)(e.data))return null;const t="grid"===e.layout?Fn:En;return(0,M.jsxs)("div",{children:[e.data.sections.map(((n,s)=>(0,M.jsx)(t,{position:s,title:Pn(n.key),concerts:n.concerts,spec:e.spec},s))),e.fetchNextPage&&(0,M.jsx)(S.n,{className:Bn,onClick:()=>e.fetchNextPage&&e.fetchNextPage(),children:v.Ru.get("concerts.load_more")})]})};var On=n(72122);const Ln=new L.l("concertFeed","query","7758a7a55d29f81be9145b1b0e32344187508a0f216059aa099309518b75445d",null);var zn=n(52094),Hn=n(10415);const Kn=(e,t=On.q)=>{const{request:n}=(0,s.useContext)(zn.j),a=t({queryKey:["concert-feed",e.geoHash,e.geonameId,e.dateRange,e.conceptUris,e.radiusInKm],queryFn:({pageParam:t})=>(0,Hn.c)(n,Ln,{...e,paginationKey:""===t?null:t}),staleTime:6e4,gcTime:6e4,enabled:!!e.geoHash||!!e.geonameId,initialPageParam:"",getNextPageParam:e=>{if(!(0,sn.Bw)(e?.data?.liveEventsFeed))return"";const t=e.data.liveEventsFeed.sections.find((e=>"AllEvents"===e.__typename))??{};return(0,sn.dR)(t)?t.paginationKey:""}}),i=(e=>{const t=e?.reduce(((e,t)=>{const n=e?.liveEventsFeed,s=t?.data?.liveEventsFeed;if(!(0,sn.Bw)(s)||!(0,sn.Bw)(n))return e;const a=n.sections.find((e=>"AllEvents"===e.__typename))??{},i=(0,sn.dR)(a)?a.sections:[],o=s.sections.find((e=>"AllEvents"===e.__typename))??{},r=[...i,...(0,sn.dR)(o)?o.sections:[]].reduce(((e,t)=>{const n=e[t.key]??[];return(0,sn.ys)(t)?{...e,[t.key]:[...n,...t.concerts]}:e}),{}),c=Object.entries(r).map((([e,t])=>({key:e,concerts:t})));return{liveEventsFeed:{sections:s.sections.map((e=>"AllEvents"===e.__typename||(0,sn.dR)(e)?{sections:c,__typename:"AllEvents"}:e))}}}),{liveEventsFeed:{sections:[]}});return t})(a.data?.pages),o=a.data?.pages[a.data.pages.length-1]?.data?.liveEventsFeed,r=(0,sn.Bw)(o)?o.sections.find((e=>"AllEvents"===e.__typename)):void 0;return{...a,fetchNextPage:r&&(0,sn.dR)(r)&&r?.paginationKey?a.fetchNextPage:void 0,data:i}},Qn={AllEvents:Tn,LiveEventSection:Mn,ConcertCarousel:wn},qn=e=>{const{data:t,isLoading:n,error:s,fetchNextPage:a}=Kn({geoHash:e.location.geoHash||null,geonameId:e.location.geonameId||null,dateRange:e.dateRange?.from&&e.dateRange?.to?{from:(0,K.bU)(e.dateRange?.from),to:(0,K.bU)(e.dateRange.to)}:null,conceptUris:e.conceptUris,radiusInKm:e.location.radiusInKm??null});return n?(0,M.jsx)(Ut.LoadingPage,{hasError:!1,errorMessage:""}):!(0,sn.Bw)(t?.liveEventsFeed)||0===t.liveEventsFeed.sections.length||s?(0,M.jsx)(Dt.p,{title:v.Ru.get("concerts.error.no_concerts_found_title"),message:v.Ru.get("concerts.error.no_concerts_found_message",e.location.name),renderInline:!0}):(0,M.jsx)("div",{children:t?.liveEventsFeed.sections.map(((t,n)=>{if(!(0,sn.w1)(t))return null;const s=Qn[t.__typename];return(0,M.jsx)(s,{layout:e.layout,spec:e.spec,fetchNextPage:a,data:t},n)})).filter(sn.se)})};var Gn=n(27981),Vn=n(94691),Xn=n(31773),Wn=n(68265),Zn=n(81907);const $n=async()=>{var e;return(await(e=Wn.n.getInstance(),e.build().withHost(Zn.tc).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send())).body},Yn=(0,s.memo)((e=>{const{event:t,onClose:n,feedSpec:a}=e,i=t?.concerts[0]?.concert,o=i?.artists[0],r=(0,s.useMemo)((()=>a?.groupedEventModalFactory({uri:o?.uri||""})),[a,o]),c=(0,dt.s)();if(!t||!i||!o)return null;return(0,M.jsx)(tn,{artist:{imageUri:o.imageUri,name:o.name,uri:o.uri},location:{city:i.location,venue:i.venue},concerts:t.concerts.map((e=>({uri:`spotify:concert:${e.concert.id}`,title:e.concert.title,startDateIsoString:e.concert.date,location:{city:e.concert.location,venue:e.concert.venue}}))),onClose:()=>{r&&c.logInteraction(r.closeButtonFactory().hitUiHide()),n()}})}));var Jn=n(41784);const es=(0,s.memo)((e=>{const{concert:t,isVirtual:n,onClick:s}=e,{venue:a,location:i}=t,o=t.artists[0];return(0,M.jsx)(Et.A,{uri:(0,k.B4D)(t.id).toURI(),title:(0,Jn.a9)(t),imageUrl:o.imageUri,date:t.startDate.localDate,subTitle:n?a:[a,i].join(v.Ru.getSeparator()),firstParty:(0,K.he)(t),onClick:s})})),ts=(0,s.memo)((e=>{const{event:t,onClick:n}=e,a=(0,s.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),i=(0,St.l4)(t.openingDate),o=(0,St.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,M.jsx)(Et.A,{title:(0,Jn.a9)(r),subTitle:`${(0,St.WZ)(i,o)} • ${v.Ru.get("concerts.count",t.concerts.length)}`,onClick:a,imageUrl:c.imageUri,uri:(0,k.B4D)(r.id).toURI()})})),ns=(0,s.memo)((e=>{const{event:t,position:n,sectionSpec:a,onOpenGroupedEvent:i}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,k.B4D)(o.id).toURI(),l=(0,dt.s)(),d=(0,s.useMemo)((()=>a?.eventCardFactory({identifier:r??"",position:n,uri:c??""})),[a,r,c,n]),u=(0,ut.t)(d),m=e=>{i(e),d&&l.logInteraction(d.hitUiReveal())};if(t.concerts.length>1)return(0,M.jsx)("div",{ref:u,children:(0,M.jsx)(ts,{event:t,onClick:m})});return(0,M.jsx)("div",{ref:u,children:(0,M.jsx)(es,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c}))}})})})),ss=(0,s.memo)((e=>{const{event:t,onClick:n}=e,a=(0,s.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),i=(0,St.l4)(t.openingDate),o=(0,St.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,M.jsx)(cn.A,{image:c?.imageUri,title:(0,Jn.a9)(r),subTitle:v.Ru.get("concerts.count",t.concerts.length),dateRange:(0,St.WZ)(i,o),uri:r?.id,onClick:a})})),as=(0,s.memo)((e=>{const{concert:t,isVirtual:n,onClick:s}=e,{venue:a,location:i}=t,o=t.artists[0],r=(0,St.l4)(t.startDate.localDate);return(0,M.jsx)(cn.A,{date:t.startDate.localDate,image:o?.imageUri,title:(0,Jn.a9)(t),subTitle:n?a:[a,i].join(v.Ru.getSeparator()),dateRange:(0,St.Y)(r),uri:(0,k.B4D)(t.id).toURI(),onClick:s})})),is=(0,s.memo)((e=>{const{event:t,position:n,sectionSpec:a,onOpenGroupedEvent:i}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,k.B4D)(o.id).toURI(),l=(0,dt.s)(),d=(0,s.useMemo)((()=>a?.eventRowFactory({identifier:r??"",position:n,uri:c??""})),[a,r,c,n]),u=(0,ut.t)(d),m=e=>{i(e)};if(t.concerts.length>1)return(0,M.jsx)("div",{ref:u,children:(0,M.jsx)(ss,{event:t,onClick:m})});return(0,M.jsx)("div",{ref:u,children:(0,M.jsx)(as,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c??""}))}})})}));var os=n(72308);const rs="e2q7uiUVRqGGNmM9PWNQ",cs="cNn4id00LtC8IcwzvgZQ",ls="A9uv2otH7AMYJ5S9JPRh",ds="CG1eZzAlBDAbQRuF6agE",us="PO0uWXNM8WHJew_Lb4x4",ms="rF9PEhwNmUycf_BGpUFo",gs="FGIHLWJ87h81kZq_fKjO",hs=(0,s.memo)((e=>{const{title:t="",identifier:n,position:a,events:i,feedSpec:o,onOpenGroupedEvent:r,layout:c}=e,l=(0,s.useMemo)((()=>o?.eventSectionFactory({identifier:n,position:a})),[o,n,a]),d=(0,ut.t)(l);return 0===i.length?null:(0,M.jsxs)("div",{className:rs,ref:d,children:["grid"===c&&(0,M.jsx)(os.pZ,{value:"headered-grid",index:a,children:(0,M.jsx)(An.$,{total:i.length,title:t,showAll:!0,withEncoreCards:!1,children:i.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,M.jsx)(ns,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))})}),"list"===c&&(0,M.jsxs)("div",{children:[(0,M.jsx)(W.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:cs,children:t}),i.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,M.jsx)(is,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))]})]})})),vs=(0,s.memo)((e=>{const{spec:t,layout:n}=e,[a,i]=(0,s.useState)(),o=(0,Xn.I)({queryKey:["savedConcerts"],queryFn:$n}),r=o.data?.userLocation,c=r||v.Ru.get("concerts.default_location");return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(x.Q,{children:`${v.Ru.get("live_events.label")}`}),o.data?.events.length?(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(hs,{title:v.Ru.get("concerts_upcoming"),identifier:"saved",position:0,events:o.data?.events,feedSpec:t,onOpenGroupedEvent:e=>{i(e)},layout:n})}):(0,M.jsxs)("div",{className:ls,children:[(0,M.jsx)(W.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:ms,children:v.Ru.get("concerts_interested_in_live_events")}),(0,M.jsx)(W.E,{as:"p",className:gs,children:v.Ru.get("concerts_no_events_description")}),(0,M.jsx)(Tt.N,{to:"/concerts",className:ds,children:(0,M.jsx)(S.n,{as:"span",className:us,children:v.Ru.get("concerts_browse_more_events")})})]}),(0,M.jsx)(W.E,{variant:"marginal",semanticColor:"textSubdued",children:v.Ru.get("live_events.disclaimer")}),(0,M.jsx)(Yn,{event:a,locationName:c,feedSpec:t,onClose:()=>i(void 0)})]})})),ps=new L.l("concertLocationDetails","query","b13f195349f188fee25480ae889d782852d68663bf07743c654244454750d681",null);var xs=n(94705);const fs=e=>{if(!e||!("items"in e))return;const[t]=e.items;return t},js=(e=N.g)=>{const{isAnonymous:t}=(0,o.d4)(xs.Ht),{location:n}=e(),[a]=(0,r.ok)(),{pathname:i}=(0,N.zy)(),c=(0,q.g)(),[,l]=n?.match(/^(\d+)/)??[],[d,u]=(0,s.useState)(l?{geonameId:Number(l)}:void 0),{data:m}=(g={geonameId:d?.geonameId?String(d?.geonameId):null,isAnonymous:t},(0,z.I)(ps,g,h));var g,h;const v=e=>{u(e),e.radiusInKm&&a.set("radius",String(e.radiusInKm)),e?.geonameId&&c({pathname:String(e.geonameId)===m?.me?.profile?.location?.geonameId?(0,K.nm)(i,void 0,void 0):(0,K.nm)(i,e.geonameId,e.fullName),search:new URLSearchParams(a).toString()})};if(d){const e=fs(m?.concertLocations);return{location:{geonameId:d.geonameId??Number(e?.geonameId),geohash:d.geohash??e?.geoHash,name:d.name??e?.name,radiusInKm:a.get("radius")?Number(a.get("radius")):void 0},onChangeLocation:v}}const p=m?.me?.profile?.location,x=fs(m?.concertLocations);return{location:p?.geoHash||x?.geonameId?{geohash:p?.geoHash??x?.geoHash,geonameId:Number(p?.geonameId??x?.geonameId),name:p?.name??x?.name,radiusInKm:a.get("radius")?Number(a.get("radius")):void 0}:void 0,onChangeLocation:v}};var ys=n(76038),Cs=n(3161);const bs=()=>{const{isAnonymous:e}=(0,o.d4)(xs.Ht),[t,n]=(0,s.useState)("grid"),{location:a,onChangeLocation:N}=js(),S=Nt(),{conceptUris:k}=Q(),[_,R]=(0,r.ok)(),{spec:I}=(0,Cs.r)(h.s,{}),D=(0,s.useMemo)((()=>I.headerFactory()),[I]),U=(0,dt.s)(),w=e&&a?.name?v.Ru.get("live_events.location_concert_tickets",a.name):v.Ru.get("live_events.label"),E=()=>{const e=D.layoutToggleFactory().hitToggleState({stateBeforeToggle:t,stateAfterToggle:"grid"===t?"list":"grid"});U.logInteraction(e),n("grid"===t?"list":"grid")},A="interested"===_.get("filter"),F=A?l.$:d.H;return(0,M.jsxs)("section",{children:[(0,M.jsx)(x.Q,{children:(0,ys.zV)(a?.name)}),(0,M.jsxs)(f.z,{size:f.K.SMALL,backgroundColor:c.Hhe,children:[(0,M.jsx)(j.Y,{children:(0,M.jsx)(b.mm,{children:w})}),(0,M.jsx)(y.h,{children:(0,M.jsx)(C.X,{text:w})})]}),(0,M.jsxs)("div",{children:[(0,M.jsx)(p.K,{backgroundColor:c.Hhe}),(0,M.jsxs)("div",{className:i()(Sn,"contentSpacing"),children:[(0,M.jsxs)("div",{className:kn,children:[A?(0,M.jsx)("div",{}):(0,M.jsxs)("div",{className:_n,children:[(0,M.jsx)(Gn.A,{headerSpec:D,locationStr:a?.name??"",location:a,handleLocationChange:N,conceptUris:k}),(0,M.jsx)(It,{spec:I}),!e&&(0,M.jsx)(G,{geohash:a?.geohash,spec:D})]}),(0,M.jsxs)("div",{className:Rn,children:[(0,M.jsx)(F,{size:"small",iconLeading:u.E,className:In,onClick:()=>R({filter:A?"":"interested"}),children:v.Ru.get("concerts_interested")}),"grid"===t&&(0,M.jsx)(d.H,{"aria-label":v.Ru.get("concerts.feed_list_layout"),iconOnly:m.N,onClick:E,size:"small"}),"list"===t&&(0,M.jsx)(d.H,{"aria-label":v.Ru.get("concerts.feed_grid_layout"),iconOnly:g.D,onClick:E,size:"small"})]})]}),A?(0,M.jsx)(vs,{layout:t,spec:I}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Vn.k,{onLocationChange:N}),(0,M.jsx)(qn,{spec:I,layout:t,location:{geoHash:a?.geohash,geonameId:a?.geonameId?String(a.geonameId):"",name:a?.name??"",radiusInKm:a?.radiusInKm},conceptUris:0===k.length?null:k,dateRange:S})]})]})]})]})}},99665:(e,t,n)=>{n.d(t,{A:()=>y});var s=n(30758),a=n(87968),i=n(44004),o=n(93686),r=n(58206),c=n(8146),l=n(52337);const d="wedRUk4eiBo9n9vqXLhU",u="hMbtEskyvMbDiwq1EScA",m="HYVIJaYYiCTgSCHie70L",g="SPbe_Q1wtiZQCmo0QKUy",h="TRp4tgG7_cymGIXDevIP",v="tC1Y_nwyyly7cpIGqF5K",p="l93AfoV_qHnMQSQBB5GK",x="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=n(86070);const y=(0,s.memo)((e=>{const{uri:t,title:n,imageUrl:s,date:y,subTitle:C,firstParty:b,onClick:N}=e,S=y?(0,c.l4)(y):void 0;return(0,j.jsx)(r.N,{to:t,className:d,"data-testid":"concert-card",onClick:N,children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(l.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${s})`},children:!s&&(0,j.jsx)(a.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),S&&(0,j.jsxs)("time",{className:m,dateTime:y,children:[(0,j.jsx)(i.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(S)}),(0,j.jsx)(i.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(S)})]}),(0,j.jsxs)("div",{className:g,dir:"auto",children:[(0,j.jsx)(i.E,{as:"h3",variant:"bodyMedium",className:h,children:n}),(0,j.jsxs)("div",{className:v,children:[b&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(o.D,{size:"small"})}),(0,j.jsx)(i.E,{as:"span",className:p,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map