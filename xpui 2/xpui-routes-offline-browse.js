"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{3662:(e,a,s)=>{s.d(a,{OfflineEmptyState:()=>c});var t=s(12585),n=s(31688),i=s(44004),r=s(79252),l=s(93070),o=s(86070);const c=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(t.i,{size:"xxlarge",className:l.A.icon}):(0,o.jsx)(n.P,{size:"xxlarge",className:l.A.icon}),(0,o.jsx)(i.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:r.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(i.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?r.Ru.get("web-player.offline.empty-state.subtitle"):r.Ru.get("offline.callout-disconnected")})]})},3983:(e,a,s)=>{s.d(a,{O:()=>d});var t=s(30758),n=s(79252),i=s(58206),r=s(60689);const l="IIKJOrbx5pjNtg3gpI0H";var o=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,r.H)()&&a?.length?a.map((({uri:e,name:a},r)=>(0,o.jsxs)(t.Fragment,{children:[r?n.Ru.getSeparator():null,e?(0,o.jsx)(i.N,{to:e,className:l,children:s(a)},r):s(a)]},r))):s(e)},17788:(e,a,s)=>{s.d(a,{e:()=>r});var t=s(43707);const n="k270skPbT7JOaSidSA2a";var i=s(86070);const r=({iconSize:e=64,...a})=>(0,i.jsx)("div",{className:n,children:(0,i.jsx)(t.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},18948:(e,a,s)=>{s.d(a,{P:()=>n});var t=s(26279);function n(){return(0,t.y)()[0]}},26279:(e,a,s)=>{s.d(a,{y:()=>i});var t=s(30758),n=s(95929);function i(){const e=(0,n.A)(),[a,s]=(0,t.useState)(e.getIsEnabled());(0,t.useEffect)((()=>{const a=e.subscribeIsEnabled(s);return()=>a()}),[e]);return[a,(0,t.useCallback)((a=>e.setIsEnabled(a)),[e])]}},42490:(e,a,s)=>{s.r(a),s.d(a,{default:()=>z});var t=s(97500),n=s.n(t),i=s(79252),r=s(80103),l=s(57451),o=s(59896),c=s(65765),d=s(96083),u=s(1263),m=s(27817),g=s(86070);function x(e,a){switch(e.type){case u.c.ALBUM:return(0,g.jsx)(r.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case u.c.ARTIST:return(0,g.jsx)(l.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case u.c.SHOW:return(0,g.jsx)(d.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:m.Q.UNKNOWN,index:a},e.uri);case u.c.AUDIOBOOK:return(0,g.jsx)(o.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,authors:e.authors,index:a},e.uri);case u.c.PLAYLIST:return(0,g.jsx)(c.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}var h=s(76608),p=s(30758),f=s(40638),b=s(82770),j=s(45595),y=s(82099),I=s(17788),v=s(46485),C=s(96231),S=s(53626),k=s(18948),P=s(95929),w=s(92935),A=s(24848),N=s(36499);const O=function({uri:e,name:a,images:s,index:t}){const n=(0,w.o)(),r=(0,p.useRef)(null),l=(0,p.useRef)(!0),o=(0,P.A)(),{isPlaying:c}=(0,N.l_)(S.bV),{togglePlay:d}=(0,A.P)({uri:S.bV,pages:[{items:r.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,p.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const u=(0,k.P)(),m=(0,f.YQ)((async(e,a)=>{if(!r.current){const e=await o.getTracks();r.current=e}l&&d({loggingParams:a},{uri:S.bV,pages:[{items:r.current?.map((e=>({...e,provider:null})))||[]}]})}),C.d,{leading:!0,trailing:!1});return n.canFetchAllTracks&&u?(0,g.jsx)(b.Z,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,onPlay:m,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,g.jsx)(j.M,{images:s,FallbackComponent:I.e}),renderSubHeaderContent:()=>(0,g.jsx)(y.c,{children:i.Ru.get("local-files.description")})}):null},R=({index:e})=>{const a=(0,v.Iu)();return(0,g.jsx)(p.Suspense,{fallback:null,children:(0,g.jsx)(O,{index:e,name:a.name,uri:a.uri,images:a.images})})};var E=s(3662),H=s(72308),T=s(19560);var M=s(93070);const z=function(){const{hasError:e,items:a}=function(){const e=(0,T.B)(),[a,s]=(0,p.useState)(!0),[t,n]=(0,p.useState)(!1),[i,r]=(0,p.useState)([]);return(0,p.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();r(a)}catch(e){n(!0)}finally{s(!1)}})()}),[e]),{isLoading:a,hasError:t,items:i}}(),s=(0,k.P)();return e?null:(0,g.jsx)("div",{className:n()(M.A.offline,"contentSpacing"),children:a.length>0||s?(0,g.jsxs)(H.pZ,{value:"headered-grid",children:[(0,g.jsx)(h.$,{title:i.Ru.get("music_downloads"),total:a.length,seeAllUri:"/collection/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,g.jsx)(H.pZ,{value:"card",index:a,children:x(e,a)},e.uri)))}),s&&(0,g.jsx)(h.$,{title:i.Ru.get("local-files"),total:1,showAll:!0,children:(0,g.jsx)(R,{index:0})})]}):(0,g.jsx)(E.OfflineEmptyState,{showDownloadInformation:!0})})}},43707:(e,a,s)=>{s.d(a,{E:()=>i});var t=s(30758),n=s(18538);function i(e){var a,s,i,r,l,o=e.size?n.$Z[e.size]:e.iconSize,c=(0,n._C)([{size:16,svgContent:"<path d='M1.75 1A1.75 1.75 0 0 0 0 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0 0 16 14.25v-9.5A1.75 1.75 0 0 0 14.25 3H7.82l-.65-1.125A1.75 1.75 0 0 0 5.655 1H1.75z'/>"},{size:24,svgContent:"<path d='M1 4a2 2 0 0 1 2-2h5.155a3 3 0 0 1 2.598 1.5l.866 1.5H21a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4z'/>"}],o||24),d=null!==(a=e.autoMirror)&&void 0!==a&&a;return t.createElement(n.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,l=e.titleId,r?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(r,"</title>"):"")).concat((s=e.desc,i=e.descId,s?"<desc ".concat(i?'id="'.concat(i,'"'):"",">").concat(s,"</desc>"):"")).concat(c.svgContent)}}))}},59896:(e,a,s)=>{s.d(a,{M:()=>O});var t=s(30758),n=s(97500),i=s.n(n),r=s(62411),l=s(44004),o=s(63732),c=s(61395),d=s(33100),u=s(79252),m=s(66105),g=s(82770),x=s(45595),h=s(82099),p=s(29683),f=s(7606),b=s(47290),j=s(21388),y=s(20535),I=s(3983),v=s(1310),C=s(17145),S=s(49365);const k="udGpsOceE80fzjUaGxkU",P="wMX24UZ671wvuRJkkUOC";var w=s(86070);const A=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,w.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,w.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,S.ad)(a.toISOString()),(0,S.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,N=({signifierText:e})=>e?(0,w.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,O=({name:e,uri:a,images:s,authorName:n,authors:S,isHero:O,className:R,onClick:E,testId:H,index:T,requestId:M,isLocked:z=!1,isPlayable:L=!1,color:D,signifierText:U,isPreRelease:_=!1,publishDate:B,variant:K,consumptionCapExplanation:Z,logCardImpressions:F=!1})=>{const{playUri:q,playOptions:W}=(0,v.J)(a),J=(0,r.wA)(),Q=(0,d.NC)(C.HJU),V=!!Z,G=(0,w.jsx)(I.O,{authorName:n,authors:S}),$=(0,t.useCallback)((()=>{V&&J((0,m._3)(Z))}),[Z,J,V]);let X;return X=O?(0,w.jsx)(p.A,{className:R,index:T,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:W,onPlay:V?$:void 0,delegatePlayback:V,isPlayable:(L||V)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{isHero:!0,images:s,color:D,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f.t,{children:u.Ru.get("card.tag.audiobook")}),(0,w.jsx)(l.E,{variant:"bodySmall",children:G})]}),getSignifierContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A,{isPreRelease:_,publishDate:B}),(0,w.jsx)(N,{signifierText:U})]}),testId:H,requestId:M,logCardImpressions:F}):(0,w.jsx)(g.Z,{className:R,variant:K,index:T,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playUri:q,onPlay:V?$:void 0,delegatePlayback:V,playOptions:W,isPlayable:(L||V)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{images:s,color:D,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.c,{lineClamp:U?1:2,children:[z&&(0,w.jsx)(c.y,{size:"small",className:k}),(0,w.jsx)(A,{isPreRelease:_,publishDate:B}),(0,w.jsx)(l.E,{as:"span",variant:"bodySmall",className:i()({[P]:_&&n}),children:G})]}),(0,w.jsx)(N,{signifierText:U})]}),testId:H,requestId:M,logCardImpressions:F}),(0,w.jsx)(b.h,{menu:(0,w.jsx)(j.p,{uri:a}),children:X})}},93070:(e,a,s)=>{s.d(a,{A:()=>t});const t={offline:"tpweADmlLll_vhLLKgu2",emptyStateContainer:"e9Wimf8ZtOrZpvPbfWtg",icon:"zCM7ss2KtS5tWRItxyls",info:"lG5QlwmK6exKdfikWw2A"}},96083:(e,a,s)=>{s.d(a,{o:()=>g});var t=s(79252),n=s(82770),i=s(45595),r=s(82099),l=s(29683),o=s(7606),c=s(47290),d=s(25710),u=s(27817),m=s(86070);const g=({images:e,name:a,uri:s,publisher:g,sharingInfo:x,mediaType:h,isHero:p=!1,onClick:f,testId:b,index:j,requestId:y,color:I,variant:v,logCardImpressions:C=!1})=>{let S;const k=h===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return S=p?(0,m.jsx)(l.A,{index:j,onClick:f,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(i.M,{isHero:!0,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsxs)(r.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:k}),g&&(0,m.jsx)("span",{children:g})]}),testId:b,requestId:y,logCardImpressions:C}):(0,m.jsx)(n.Z,{variant:v,onClick:f,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,index:j,renderCardImage:()=>(0,m.jsx)(i.M,{isHero:p,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsx)(r.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:b,requestId:y,logCardImpressions:C}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:x}),children:S})}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map