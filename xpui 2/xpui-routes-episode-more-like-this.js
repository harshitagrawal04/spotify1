"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[399],{13768:(t,e,o)=>{o.d(e,{EpisodeMoreLikeThis:()=>l});var n=o(30758),a=o(85387),i=o(79252),r=o(11936),s=o(84547),c=o(86070);const l=n.memo((function(){const{episodeId:t=""}=(0,a.g)(),e=(t=>`spotify:episode:${t}`)(t);return(0,c.jsxs)("div",{className:"contentSpacing",children:[(0,c.jsx)(r.Q,{children:i.Ru.get("internal-link-recommender.more-episodes-like-this")}),(0,c.jsx)(s.W,{uri:e,isFullPage:!0})]})}))},50722:(t,e,o)=>{o.d(e,{d:()=>s});const n="music",a="2.1.0",i="default",r="12.2.0";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-episode-block",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}playButtonFactory(){return new c.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}moreButtonFactory(){return new c.MoreButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}copyLinkFactory(){return new c.CopyLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new c.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveToLibraryButtonFactory(){return new c.SaveToLibraryButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}secondaryHitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"secondary_hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:n,generatorVersion:r,specificationVersion:a,specificationMode:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(t){t.PlayButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"play_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:t}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[t.toString()],actionName:"play",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:t}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[t.toString()],actionName:"pause",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:t}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[t.toString()],actionName:"resume",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.MoreButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"more_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CopyLinkEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"copy_link"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitShare({entityToBeShared:t,shareId:e}){return{actionParameterNames:["entity_to_be_shared","share_id"],actionParameterValues:[t.toString(),e.toString()],actionName:"share",actionVersion:2,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"download_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownload({itemToDownload:t}){return{actionParameterNames:["item_to_download"],actionParameterValues:[t.toString()],actionName:"download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveDownload({itemToRemoveFromDownloads:t}){return{actionParameterNames:["item_to_remove_from_downloads"],actionParameterValues:[t.toString()],actionName:"remove_download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.SaveToLibraryButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"save_to_library_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:t}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[t.toString()],actionName:"like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:t}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[t.toString()],actionName:"remove_like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={}))},84547:(t,e,o)=>{o.d(e,{W:()=>z});var n=o(97500),a=o.n(n),i=o(45005),r=o(79252),s=o(18587),c=o(5820),l=o(33031);const p=new c.l("internalLinkRecommenderEpisode","query","5146a0312a2366520b9b43c3b5dd9e54c5b802bd74de3e0bd05f3c6800825c9f",null);var u=o(73852),h=o(30758),d=o(62411),m=o(59429),_=o(65924),g=o(47290),y=o(27649),b=o(52586),L=o(37114),A=o(21119),f=o(17998),V=o(12304),v=o(92297),C=o(309),P=o(34455),w=o(90423),N=o(72308),T=o(33782),k=o(24848),M=o(62935),S=o(84785),x=o(38138),E=o(86070);const I=t=>`activation-trigger-mme-${t}`,R=h.memo((function({index:t=-1,audio:e,contentInformation:o,coverArt:n,contentRatingLabel:a,description:r,mediaTypes:s,releaseDate:c,name:l,playable:p,playedState:u,podcastSubscription:R,sharingInfo:F,showName:j,showTrailer:B,showTypes:D,showUri:U,totalMilliseconds:$,type:G,uri:W}){const q=u.playPositionMilliseconds,z=(0,h.useRef)(null),[O,Y]=(0,h.useState)(u.state===S._w.Completed),{draggable:H,onDragStart:Q}=(0,f.P)(),X=(0,V.V)(),Z=(0,T.y)(),J=(0,d.wA)(),{isActive:K,isPlaying:tt,togglePlay:et}=(0,k.P)({uri:W},{featureIdentifier:"episode"}),[ot]=(0,M.S)(1e4,(t=>t?.item?.uri===W));(0,h.useEffect)((()=>{tt&&(z.current=ot)}),[tt,ot]),(0,h.useEffect)((()=>{!tt&&z.current&&$<=z.current&&Y(!0)}),[tt,$]);const nt=(0,h.useCallback)((t=>{t||(z.current=0),Y(t)}),[]),at={uri:U,name:j,trailer:B,showTypes:D},it=(0,v.C)({audio:e,name:l,uri:W,mediaTypes:s,coverArt:{sources:n}},at),rt=(0,h.useCallback)((()=>{G!==S.I_.Episode?X?it():et():L.h.set((()=>({triggerId:I(W),triggerAction:null})))}),[G,X,W,it,et]),st=R?.isPaywalled??!1,ct=R?.isUserSubscribed??!1,lt=st&&!ct,pt=st&&X,{badges:ut}=(0,x.b)({contentRating:a,isPaywalled:st}),ht=(0,h.useCallback)((()=>J((0,m.Tf)(U))),[U,J]),dt=(0,h.useCallback)((t=>{let e=t;return(lt||pt)&&(e=(0,E.jsx)(A.N,{enabled:!0,showUri:U,children:e})),!p&&ut.nineteen&&(e=(0,E.jsx)("div",{onClick:t=>{t.stopPropagation(),ht()},children:t})),e=(0,E.jsx)(_.k,{id:I(W),targetURI:(0,i.o_h)(W),children:e}),e}),[lt,pt,p,ut.nineteen,W,U,ht]);return(0,E.jsx)(N.pZ,{value:"row",index:t,children:(0,E.jsx)(g.h,{menu:(0,E.jsx)(y.b,{uri:W,showUri:U,sharingInfo:F,isPlayed:O,onMarkAsPlayed:nt}),children:(0,E.jsx)(b.k,{requestId:void 0,index:t,uri:W,size:Z,images:n||[],name:l,showName:j,description:r,isPlayable:p||lt,fullyPlayed:O,durationMs:$,releaseDate:c,resumePositionMs:z.current??q,draggable:H,handleDragStart:t=>{if(t.target!==t.currentTarget)return;Q(t,{itemUris:[W],dragLabelText:`${l} â€¢ ${j}`,contextUri:U})},handlePlaybackClick:rt,isCurrentlyPlaying:K,isPaywalled:st,isUserSubscribed:ct,isPlaying:tt,position:tt?ot:void 0,episodeSharingInfo:F,onMarkAsPlayed:nt,contentInformation:o,showUri:U,mediaTypes:s??void 0,badges:(0,E.jsxs)(E.Fragment,{children:[ut.explicit&&(0,E.jsx)(C.U,{}),ut.paid&&(0,E.jsx)(P.y,{}),ut.nineteen&&(0,E.jsx)(w.q,{size:16})]}),playButtonWrapper:dt})})})}));var F=o(25971),j=o(1263);var B=o(38756),D=o(29731);const U="GgMHVmfXNzteIydSWMIA",$="GcupflQsYyy0IMOsCeD1",G="A4FqrLbXeENogU0IRaPn",W="YCYs0Gv5B5ctDN0f5Zby",q=({uri:t,isFullPage:e=!1})=>{const{data:o}=(n={uri:t},(0,l.I)(p,n,s));var n,s;const c=o?.seoRecommendedEpisode.totalCount,u=o?.seoRecommendedEpisode.items,h=function(t){return(t||[]).filter((t=>(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(t.data)))}(u),d=e?h:h.slice(0,5);if(0===c)return null;const m=(0,i.o_h)(t)?.id,_=`spotify:app:episode:${m}:more-like-this`;return(0,E.jsxs)("section",{className:a()(U,{[$]:!e}),"data-testid":"episode-list",children:[(0,E.jsx)(B.k,{title:r.Ru.get("internal-link-recommender.more-episodes-like-this"),showSeeAll:!e,seeAllUri:_}),d.map((({data:t},e)=>{const o=(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Podcast"===t.__typename;var e})(t.podcastV2.data)?t.podcastV2.data:null;return o?t&&(0,E.jsxs)("div",{className:W,children:[(0,E.jsx)("hr",{className:G,"aria-hidden":!0}),(0,E.jsx)(R,{index:e,audio:t.audio,contentInformation:t.contentInformation,contentRatingLabel:t.contentRating?.label,coverArt:t.coverArt?t.coverArt.sources:void 0,description:t.description,releaseDate:t.releaseDate,mediaTypes:t.mediaTypes,name:t.name,playable:t.playability.playable,playedState:t.playedState,podcastSubscription:(0,D.Wx)(t.restrictions,t.playability),sharingInfo:t.sharingInfo,showTrailer:(n=o.trailerV2?.data,n&&(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(n)?{type:j.c.EPISODE,uri:n.uri,name:n.name,coverArt:n.coverArt?.sources||[],audio:n.audio,audioPreview:(0,F.xh)(n),sharingInfo:n.sharingInfo,duration:{milliseconds:n.duration.totalMilliseconds},contentRating:n.contentRating,mediaTypes:n.mediaTypes}:null),showName:o.name,showTypes:o.showTypes,showUri:o.uri,totalMilliseconds:t.duration.totalMilliseconds,type:t.type,uri:t.uri},`${t.uri}/${e}`)]},`${e}${t.uri}`):null;var n}))]})},z=t=>{const e=(0,u.D)({entityType:j.c.EPISODE,componentType:"list",uri:t.uri});return(0,E.jsx)(s.s,{onError:e,children:(0,E.jsx)(q,{...t})})}}}]);
//# sourceMappingURL=xpui-routes-episode-more-like-this.js.map