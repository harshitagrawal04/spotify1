"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1206],{6805:(e,t,a)=>{a.d(t,{Q:()=>n,s:()=>i});var r=a(69606),s=a(81907);function n(e){return e.build().withHost(s.D8).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function i(e,t){return e.build().withMethod(r.Method.PUT).withHost(s.D8).withPath(`/verifications/${t}/`).withEndpointIdentifier("/verifications/{verificationId}/").send()}},9468:(e,t,a)=>{a.d(t,{u:()=>c,i:()=>o});var r=a(30758);const s="wcftliF4QjZKB1CYgEON";var n=a(86070);const i={accept:"image/.jpg, image/.jpeg, image/.png"};let o=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const c=function({onChange:e,onError:t,isOpen:a=!1,minImageWidth:c=0,minImageHeight:l=0,maxImageWidth:d=1e4,maxImageHeight:u=1e4,maxFileSizeMB:m=1/0,...g}){const p=r.useRef(null),h={...i,...g};(0,r.useEffect)((()=>{p.current&&a&&p.current.click()}),[p,a]);const b=1048576*m;return(0,n.jsx)("input",{...h,type:"file","data-testid":"image-file-picker",ref:p,className:s,onChange:async function(a){const r=a.target,[s]=Array.from(r.files||[]),n=await async function(e){const t=await function(e){return new Promise(((t,a)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result?.toString()??"")},r.onerror=e=>a(e)}))}(e),[a,r]=await function(e){return new Promise(((t,a)=>{const r=new Image;r.onload=()=>{const{width:e,height:a}=r;t([e,a])},r.src=e,r.onerror=e=>a(e)}))}(t);return{imageFile:e,imageDataUrl:t,imageWidth:a,imageHeight:r}}(s);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw o.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<c||e.imageHeight<l)throw o.IMAGE_TOO_SMALL;if(e.imageWidth>d||e.imageHeight>u)throw o.IMAGE_TOO_BIG;if(e.imageFile.size>b)throw o.FILE_TOO_BIG}(n),e(n)}catch(e){if("string"!=typeof e||!Object.values(o).includes(e))throw e;t(e)}}})}},11937:(e,t,a)=>{a.d(t,{c:()=>n,t:()=>i});var r=a(45005);const s=e=>({url:e}),n=e=>{const t=[];return e.largeImageUrl?t.push(s(e.largeImageUrl)):e.imageUrl&&t.push(s(e.imageUrl)),{displayName:e.displayName,images:t,username:e.username,uri:(0,r.Qjr)(e.username).toURI()}},i=(e,t,a)=>{const r=[],s=e.sessionMembers.find((({id:t})=>t===e.sessionOwnerId));s&&r.push(s);const i=e.isSessionOwner?void 0:e?.sessionMembers.find((({username:e})=>e===t));i&&(a?.userFirst?r.unshift(i):r.push(i));const o=e.sessionMembers.filter((({username:a,id:r})=>r!==e.sessionOwnerId&&a!==t));return[...r,...o].map(n)}},23892:(e,t,a)=>{a.d(t,{g:()=>p});var r=a(30758),s=a(97500),n=a.n(s),i=a(44004),o=a(79252),c=a(43453);const l="w0kwPDoelauN3C9dVoVe",d="xzLZD9uD3b4u9wecXAJY",u="DaFhhSm73r7rNpomErhI";var m=a(86070);const g=({children:e})=>(0,m.jsx)(m.Fragment,{children:e}),p=(0,r.forwardRef)((function({users:e,maxSlots:t=3,size:a,withoutOverflowBadge:r=!1,dropShadow:s=!1,AvatarWrapper:p=g},h){const b=Math.max(2,t),R=e.length>b?e.length-b+1:0,f=e.slice(0,b),{userIconSize:x,width:y,smallFontSize:E,largeFontSize:v}=(e=>{switch(e){case"xxlarge":return{userIconSize:"xlarge",width:64,smallFontSize:24,largeFontSize:32};case"xlarge":return{userIconSize:"large",width:48,smallFontSize:18,largeFontSize:24};case"large":return{userIconSize:"medium",width:32,smallFontSize:12,largeFontSize:16};case"medium":default:return{userIconSize:"small",width:24,smallFontSize:9,largeFontSize:12};case"small":return{userIconSize:"xsmall",width:18,smallFontSize:8,largeFontSize:10}}})(a),k=R>9?E:v,S=(0,m.jsx)("span",{className:n()(d,"encore-inverted-light-set"),style:{width:y,height:y},role:"presentation",children:(0,m.jsx)(i.E,{variant:"bodySmallBold",style:{fontSize:k},semanticColor:"textBase",children:`+${R}`})});return(0,m.jsx)("div",{className:n()(l),ref:h,children:f.map(((e,t)=>!r&&R>0&&t===b-1?(0,m.jsx)(p,{index:t,children:(0,m.jsx)(c.e,{images:[],userIconSize:x,label:o.Ru.get("web-player.social-connect.facepile.and-others",R),width:y,piled:!0,customPlaceholder:S})},"others"):(0,m.jsx)(p,{index:t,user:e,children:(0,m.jsx)(c.e,{images:e.images,userIconSize:x,label:e.displayName,displayName:e.displayName,username:e.username,width:y,piled:t>0,imageClassName:s?u:void 0})},e.displayName)))})}))},36468:(e,t,a)=>{a.d(t,{h:()=>u});var r=a(30758),s=a(79252),n=a(84206),i=a(55549),o=a(98838),c=a(72308),l=a(85178),d=a(86070);const u=r.memo((function({uri:e}){const{spec:t}=(0,l.o)(e);return(0,d.jsx)(c.pZ,{value:"generic",children:(0,d.jsx)(n.W,{children:(0,d.jsx)(o.h,{divider:"before",children:(0,d.jsx)(i.m,{spec:t,uri:e,displayText:s.Ru.get("context-menu.copy-generic-link")})})})})}))},38255:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(79252),s=a(86070);const n=({fill:e="#fff",width:t=32,height:a=32})=>(0,s.jsxs)("svg",{width:t,height:a,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:r.Ru.get("close")}),(0,s.jsx)("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:e,fillRule:"evenodd"})]})},49487:(e,t,a)=>{a.d(t,{C:()=>l});var r=a(97500),s=a.n(r),n=a(56958);const i="zrvvPyoxE6wQNqnu0yWA",o="jmu6DFPvhxRl0wSfmv2O";var c=a(86070);const l=({value:e,id:t,children:a,disabled:r,onClick:l,preventMenu:d=!1,onSelect:u,className:m,dir:g})=>(0,c.jsx)("span",{className:m,children:(0,c.jsx)("select",{className:s()(i,{[o]:(0,n.n)()}),value:e?.toString(),id:t,disabled:r,onClick:l,onBlur:()=>{},onChange:e=>{u(e.target.value)},onPointerDown:e=>{d&&e.preventDefault()},onKeyDown:e=>{"Space"===e.code&&(d&&e.preventDefault(),l?.(e))},dir:g,children:a})})},63809:(e,t,a)=>{a.d(t,{A:()=>r});const r={container:"Pk0GqzUsMrx4NwpdZ95l",content:"vJwjG9BRm0XF67GWIB_r",backgroundImage:"g_6d4DUGhLe6fjSVL4Vv",bio:"N6axsYPP2Akx_PzAiV5W",bioContainer:"XBWREeG6vEvbnQLngj5y",avatar:"WNVLzVIGuS9IvyX5B1bo",heading:"oLxvLjmcK7ChLyKuHCQF",authorGridContainer:"lfLn2tOjObzE_CHUZimq"}},64019:(e,t,a)=>{a.d(t,{a:()=>h});var r=a(97500),s=a.n(r),n=a(92669),i=a(44004),o=a(79252);const c="MF2rLXp4d_JPNs2t0bbj",l="xfQXUkj6ThzTYbfF8ilt",d="Usk1cPR7qbn7RudRN3td",u="CdHBSRh3RhPwBNIBQtkD",m="w3w0DS8atwcgOQJAKAV2",g="jN7ZUHc7IxpwvWsjb4jo";var p=a(86070);const h=function({overlay:e=!1,rounded:t=!1,onClick:a}){return(0,p.jsx)("div",{className:c,children:(0,p.jsx)("button",{"data-testid":"edit-image-button",className:s()(l,{[u]:t,[d]:e}),"aria-haspopup":"true",onClick:a,type:"button",children:(0,p.jsxs)("div",{className:s()(m,"icon"),children:[(0,p.jsx)(n.G,{size:"xlarge","aria-hidden":"true"}),(0,p.jsx)(i.E,{variant:"bodyMedium",className:g,children:o.Ru.get("choose_photo")})]})})})}},66917:(e,t,a)=>{a.d(t,{z:()=>m});var r=a(97500),s=a.n(r),n=a(44004),i=a(13598);const o="pIZVZOfjnJGth1BcoA1E",c="ZBBTIITnUdwh05dCI0tm",l="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var u=a(86070);const m=({message:e,isErrorMessage:t=!1})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:s()(o,{[c]:t}),children:(0,u.jsxs)(n.E,{as:"p",variant:"marginal",className:l,children:[(0,u.jsx)(i.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},70616:(e,t,a)=>{a.d(t,{d:()=>O});var r=a(30758);function s(){return"webkitRequestAnimationFrame"in window}function n(){return!!window?.CSS?.supports}function i(){return!n()||CSS.supports("-webkit-border-vertical-spacing","0")}function o(){return Math.hypot(-24.42,-50.519999999999925)}function c(){return eval.toString().length}var l=a(9856),d=a.n(l);function u(){return"Chrome"===d().parse(window.navigator.userAgent).browser.name}function m(){return"Firefox"===d().parse(window.navigator.userAgent).browser.name}var g=a(97469),p=a(56958);function h(){return 37===c()&&56.11244781686139===o()&&(!n()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function b(){return!(u()&&!(window.chrome&&33===c()&&56.1124478168614===o()&&i()&&s()))&&(!(m()&&!h())&&(!!(!(0,p.n)()||37===c()&&56.1124478168614===o()&&i()&&s())&&!!(!(0,g.k)()||33===c()&&56.1124478168614===o()&&i()&&s())))}function R(){const{userAgent:e,appVersion:t}=window.navigator,a=t??"";return/headless/i.test(e)||/headless/i.test(a)}async function f(){return navigator.webdriver||R()||function(){const e=Object.keys(document);for(const t of e)if(t.startsWith("$cdc_"))return!0;return!1}()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length)||await async function(){if(!("permissions"in navigator))return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"===window?.Notification?.permission&&"prompt"===e.state}()}var x=a(61008),y=a(93105);function E(){return(0,x.D)()===y.f.ChromeOS}function v(){if(!("platform"in navigator))return!0;if(E())return!0;const{platform:e}=navigator,t=function(e){const[t]=e.split(" "),a={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in a?a[t]:""}(e);if(!t)return!0;const{os:a}=d().parse(navigator.userAgent);return t===a.name}let k,S=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});const j=async()=>(k=k??await async function(){return{headless:await f()?S.Error:S.Ok,browser:b()?S.Ok:S.Error,os:v()?S.Ok:S.Error}}(),k);const w=async()=>{if(navigator.webdriver)return!1;if(R())return!1;if(u()&&!await async function(){if(!window.chrome)return!1;if(!navigator.plugins?.length)return!1;if(""===navigator.languages)return!1;if(33!==c())return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"!==window?.Notification?.permission||"prompt"!==e.state}())return!1;if(m()&&37!==c())return!1;if((0,p.n)()&&37!==c())return!1;if((0,g.k)()&&33!==c())return!1;const{userAgent:e}=navigator;if(!function(e,t){if(!("platform"in t))return!0;if(E())return!0;const{platform:a}=t,r=function(e){const[t]=e.split(" "),a={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in a?a[t]:""}(a);if(!r)return!0;const{os:s}=d().parse(e);return r===s.name}(e,navigator))return!1;const t=Object.keys(document);for(const e of t)if(e.startsWith("$cdc_"))return!1;return!0};let N;const C=async()=>(N=N??await w(),N);function O(){const e=(0,r.useRef)(void 0),t=(0,r.useRef)(!1),a=(0,r.useRef)(!1),s=(0,r.useRef)({}),n=(0,r.useCallback)((async r=>{s.current=await j(),r?await C()&&r.isTrusted?"click"!==r.type?e.current=!0:a.current?e.current=t.current:e.current=!0:e.current=!1:e.current=await C()}),[]);return(0,r.useEffect)((()=>{function e(){t.current=!0}function r(e){a.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",r)}}),[]),{isTrustedRef:e,isTrustedFn:n,metadataRef:s}}},83709:(e,t,a)=>{a.d(t,{X:()=>u,A:()=>G});var r=a(30758),s=a(83793),n=a(88518),i=a(79252),o=a(34584),c=a(95089);const l="KsnGjjEeMb2miriJrkjW";var d=a(86070);const u=()=>{const e=i.Ru.getLocaleForTranslation(),t=c.IB[e]??c.IB.en,a=(0,o.ZZ)(),u=(0,r.useCallback)((()=>{a({type:"OPEN"})}),[a]);return(0,d.jsx)("div",{className:l,children:(0,d.jsx)(s.n,{iconLeading:n.d,size:"small",onClick:u,"data-testid":"language-selection-button",children:t.displayName})})};var m=a(8143),g=a(44004),p=a(17971),h=a(45005),b=a(12534),R=a(72042),f=a(1263),x=a(13039),y=a(19156);const E="ZpqHX3kvsJIsR1QIc4kf",v=({children:e,locale:t,onClick:a,type:r="button"})=>{const s=t===R.Xn,n=(0,y.vf)(window.location.pathname),o=(0,h.o_h)(window.location.pathname),c=(0,b.W)({type:"route",uri:n?f.c.HOME:o?.toURI()}),l={className:E,id:t,onClick:e=>(e=>{if("button"===r){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}a(t)})(e),"data-testid":`language-option-${t}`};if("link"===r){const a=(0,x.ll)(window.location.pathname,!s),r=(0,x.hF)(a,(0,i.a7)(t).baseName),n=c?r:window.location.pathname,o=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${n}`);return(0,d.jsx)("a",{href:o,...l,children:e})}return(0,d.jsx)("button",{...l,children:e})},k="eYLSfS4EKfwsdTsItWkY",S=({style:e,children:t})=>(0,d.jsx)("div",{className:k,style:e,children:t});var j=a(97500),w=a.n(j);const N="KPuW9eE4auKgVgMtPZoH",C="zCedVxWmwaJhPIGzJixP",O="qzuG9AHNXHQrOGF06r9A",I="ZgjCz5A7qOyprtvcLK8y",_="BSwvSvqHiQUVuim4Eidv",T="TpluDuF12UKv3IIq_VDu",A=({onClose:e,children:t})=>{const a=(0,r.useRef)(null),{isOpen:s}=(0,o.iL)();return(0,d.jsx)("div",{"data-testid":"language-selection-modal",className:w()(N,{[C]:s}),onClick:t=>{t.target===a.current&&e()},role:"presentation",ref:a,children:t})},L=({ariaDescribedBy:e,ariaLabelledBy:t,children:a})=>{const{isOpen:r}=(0,o.iL)();return(0,d.jsx)("div",{className:O,role:"dialog",hidden:!r,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:a})};var D=a(66973);const P=({onClose:e})=>(0,d.jsx)("button",{"data-testid":"close-button",className:T,onClick:()=>{e()},children:(0,d.jsx)(D.M,{size:"small","aria-label":i.Ru.get("close")})});var U=a(20646),M=a(18769),B=a(36101),F=a(49531);const G=({languageSelectionModalRef:e})=>{const t=(0,r.useRef)(null),[a,s]=(0,r.useState)("0"),n=(0,o.ZZ)(),l=(0,r.useCallback)((()=>{n({type:"CLOSE"})}),[n]),{isOpen:u}=(0,o.iL)(),h=(0,r.useCallback)((()=>{s(`${t.current?.getBoundingClientRect().height}px`)}),[s]),b=e=>{var t;(0,F.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),l()};if((0,U.m)(l),(0,B.w)({refOrElement:t,observeOnly:"height",onResize:h}),(0,r.useEffect)((()=>{h()}),[h]),!e.current)return null;const R="language-selection-title",f="language-selection-subtitle",x={"--header-height":a};return(0,m.createPortal)((0,d.jsx)(M.s,{active:u,children:(0,d.jsx)("div",{children:(0,d.jsx)(A,{onClose:l,children:(0,d.jsxs)(L,{ariaLabelledBy:R,ariaDescribedBy:f,children:[(0,d.jsxs)("div",{className:I,ref:t,children:[(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)(g.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:R,paddingBottom:p.v4,children:i.Ru.get("i18n.language-selection.title")}),(0,d.jsx)(g.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:f,paddingBottom:p.CD,children:i.Ru.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(P,{onClose:l})]}),(0,d.jsx)(S,{style:{...x},children:c.Np.map((e=>{const t=(0,i.a7)(e).baseName,a=(0,y.p)({urlLocale:t,type:"locale"});return(0,d.jsxs)(v,{onClick:b,locale:e,type:a?"link":"button",children:[(0,d.jsx)(g.E,{semanticColor:"textBase",children:c.IB[e].displayName}),(0,d.jsx)(g.E,{children:c.IB[e].displayNameEn})]},e)}))})]})})})}),e.current)}},85033:(e,t,a)=>{a.d(t,{p:()=>s});var r=a(30758);function s(){const[e,t]=(0,r.useState)(!1);return[e,(0,r.useCallback)((()=>{t(!0),setTimeout((()=>t(!1)),0)}),[t])]}},86065:(e,t,a)=>{a.r(t),a.d(t,{RootDialogs:()=>gu});var r=a(30758),s=a(62411),n=a(33100),i=a(91068),o=a(44004),c=a(66973),l=a(79252),d=a(60737),u=a(47802);const m="tJeH2W2to1A7d9tWBRoi",g="oNjdJbGQ9ypf7KR0nYJW",p="ibrRlYShsgThsh8VNS8Q",h="Yl9jzsnP8e_5i9me3h7H",b="vxBybZOmHdDF_nmLE4sa";var R=a(86070);const f=(0,r.memo)((function(){const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.aboutRecs)),a=(0,r.useCallback)((()=>{e((0,d.oK)())}),[e]),n=`https://about-recommendations.spotify.com/?bg=${i.wdA.substr(1)}&hideHeader=true`;return(0,R.jsxs)(u.M,{animated:!0,isOpen:t,onClose:a,"aria-label":l.Ru.get("context-menu.about-recommendations"),className:m,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:g,children:l.Ru.get("context-menu.about-recommendations")}),(0,R.jsx)("div",{className:p,children:(0,R.jsx)("iframe",{className:h,title:l.Ru.get("context-menu.about-recommendations"),src:n})}),(0,R.jsx)("button",{"aria-label":l.Ru.get("close_button_action"),className:b,onClick:a,children:(0,R.jsx)(c.M,{size:"medium"})})]})}));var x=a(59429),y=a(43409),E=a(97500),v=a.n(E),k=a(88019);const S=({className:e})=>(0,R.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,R.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,R.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,R.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]});function j(e,t,a,r){if(a<=0||r<=0||r>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};const s=e*t,n=1/r*a,i=Math.sqrt(s/n);return{height:i,width:i*a,parentHeight:e,parentWidth:t}}var w=a(19103);const N="SVnAziPF2z_cgAGrp6He",C="miG_SXrw265mkozdEHrJ",O="RWLySPhsOTyK2EsAGUgx",I="X_vuuyeQDD6IWI4aIE6k",_="VdyeU78LKQdX8Dclnfxr",T="Z12I3N4OnNvzRSNKOeUn",A="IDHZCFcj1ynmYu6Sm5SR",L="UmY163JiUcgJt2MKNyGW",D="SYKOtPBDhPSs6zGwbk6A";var P=a(52748);const U={[P.E.XSMALL]:T,[P.E.SMALL]:T,[P.E.MEDIUM]:A,[P.E.LARGE]:L,[P.E.XLARGE]:L},M=({image:e,title:t,description:a,primaryButton:r,secondaryButton:s,renderExtraInfo:n,style:i,className:o,size:c=P.E.SMALL})=>{const l="string"==typeof t?(0,R.jsx)("h2",{className:O,children:t}):(0,R.jsx)("div",{className:O,children:t});let d,u;return a&&(d="string"==typeof a?(0,R.jsx)("p",{className:I,children:a}):(0,R.jsx)("div",{className:I,children:a})),s&&(u=(0,R.jsx)("div",{className:D,children:s})),(0,R.jsxs)("div",{className:v()(`${N} ${U[c]}`,o),style:i,"data-testid":"dialog-root",children:[e&&(0,R.jsx)("div",{className:_,children:(0,R.jsx)(w._,{loading:"lazy",src:e})}),(0,R.jsxs)("div",{className:C,children:[l,d,r,u,n&&n()]})]})},B="dzS9k6yn4XzF3jWcS3W2",F="ezHLQVkVclgu_n15ybG6",G="gQ3lUcmizympex29IHL7",z="VDUUJg30Ewzy9OP54arn",W={[P.E.SMALL]:1,[P.E.MEDIUM]:.72,[P.E.LARGE]:1.82},V={[P.E.SMALL]:0,[P.E.MEDIUM]:600,[P.E.LARGE]:1024},H=1/3,K=({image:e,onConfirm:t,backgroundColor:a})=>{const s=(e=>Object.keys(V).reverse().find((t=>e>=V[t]?t:null)))(window.innerWidth),{width:n,height:i,parentHeight:o}=function(e,t){const[a,s]=(0,r.useState)((()=>j(window.innerHeight,window.innerWidth,e,t))),n=(0,r.useRef)(),i=(0,r.useCallback)((()=>{s(j(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,r.useEffect)((()=>(n.current||(s(j(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",i),n.current=!0),()=>{n.current&&(s(j(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",i),n.current=!1)})),[e,t,i]),a}(W[s],H),c=a?{backgroundColor:a}:{},d=((e,t,a,r)=>e===P.E.SMALL?{width:"100vw",height:"100vh"}:e===P.E.MEDIUM&&r<750||e===P.E.LARGE&&r<520?{width:"inherit",height:"inherit"}:{width:`${Math.ceil(t)}px`,height:`${Math.ceil(a)}px`})(s,n,i,o),u=(0,R.jsxs)("span",{children:[(0,R.jsx)("span",{className:F,children:l.Ru.get("age.restriction.explicitContent")}),(0,R.jsx)(S,{className:G})]}),m=(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:l.Ru.get("age.restriction.continue")});return(0,R.jsx)(M,{className:v()(B,{[z]:1===W[s]}),style:{...d,...c},image:e,title:l.Ru.get("age.restriction.confirmAge"),description:u,primaryButton:m,size:s})},q="J2uBhFKAVeDnSUb6Diq_",Q="dlCbZFZLaxVOGbVUleiV",Y=()=>{const e=(0,s.wA)(),{image:t,backgroundColor:a,providerUrl:r}=(0,s.d4)((({ageRestriction:e})=>({image:"",backgroundColor:e.dialog.backgroundColor,providerUrl:e.dialog.providerUrl})),((e,t)=>e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl));return(0,R.jsxs)("div",{className:q,children:[(0,R.jsx)(K,{image:t,onConfirm:()=>{window.location.assign(r)},backgroundColor:a}),(0,R.jsx)("div",{className:Q,children:(0,R.jsx)(y.H,{onClick:()=>{e((0,x.Rb)())},children:l.Ru.get("close")})})]})},J=()=>{const e=(0,s.wA)(),t=(0,s.d4)((({ageRestriction:e})=>e.isOpen));return(0,R.jsx)(u.M,{animated:!0,onClose:()=>{e((0,x.Rb)())},"aria-label":l.Ru.get("age.restriction.confirmAge"),isOpen:t,children:(0,R.jsx)(Y,{})})};var $=a(17971),Z=a(66105),X=a(35953),ee=a(94705),te=a(820),ae=a(64770);const re="YyxAoeTuu0BHU1OcahFK",se="gPDYH11Cr1B2ZtS9z0P8",ne="IIQWD0tGOaagAN9uP_4h",ie="LdrQgiV3Kav0IR6Oqsej",oe=(0,r.memo)((function(){const e=(0,s.wA)(),{user:t}=(0,s.d4)(ee.Ht),{name:a,uri:n,isOpen:i,onBlock:c}=(0,s.d4)((({ui:e})=>e.blockUserDialog)),{enqueueSnackbar:d}=(0,X.d)(),m=(0,ae.A)(),g=(0,r.useCallback)((async()=>{if(t&&n)try{await(0,te.rn)(m,{currentUserUri:t?.uri,uri:n}),e((0,Z.xF)()),d(l.Ru.get("feedback.block-user")),c?.()}catch(t){throw e((0,Z.xF)()),t}}),[t,n,m,e,c,d]),p=(0,r.useCallback)((()=>{e((0,Z.xF)())}),[e]),h=(0,r.useCallback)((()=>{e((0,Z.xF)())}),[e]);return(0,R.jsxs)(u.M,{animated:!0,onClose:h,"aria-label":l.Ru.get("block-user.dialog.title",a),isOpen:i,className:re,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:se,children:l.Ru.get("block-user.dialog.title",a)}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:ne,paddingBottom:$.lT,children:l.Ru.get("block-user.dialog.description",a)}),(0,R.jsxs)("div",{className:v()("encore-light-theme",ie),children:[(0,R.jsx)(y.H,{buttonSize:y.H.md,onClick:p,children:l.Ru.get("block-user.dialog.cancel")}),(0,R.jsx)(k.$,{onClick:g,buttonSize:k.$.md,children:l.Ru.get("block-user.dialog.block")})]})]})}));var ce=a(85387),le=a(45005),de=a(20271),ue=a(33924),me=a(92915),ge=a(45305);const pe=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,me.W)(),{removeFolder:a}=(0,ge.Z)(),n=(0,ue.g)(),i=(0,ce.zy)(),{uri:o,onDeleteCallback:c}=(0,s.d4)((({ui:e})=>e.deleteFolderDialog)),d=(0,r.useCallback)((()=>{e((0,Z.c$)())}),[e]),u=(0,r.useCallback)((()=>{o&&(t({targetUri:o,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),a(o),d(),(0,le.o_h)(o)?.toURLPath().endsWith(i.pathname)&&n("/",{replace:!0}),c&&c())}),[o,t,a,d,i.pathname,c,n]);return(0,R.jsx)(de.T,{"aria-label":l.Ru.get("folder.delete-header"),titleText:l.Ru.get("folder.delete-header"),onConfirm:u,onClose:d,confirmText:l.Ru.get("contextmenu.delete"),confirmLabel:l.Ru.get("folder.delete-header"),cancelText:l.Ru.get("queue.cancel-button")})}));var he=a(19792),be=a(34657);const Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fe=/[&<>"']/g,xe=RegExp(fe.source);const ye=Object.values(Re);RegExp(`${ye.join("|")}`,"g"),RegExp(`${ye.join("|")}`);const Ee=(0,r.memo)((function({uri:e}){const t=(0,ue.g)(),a=(0,ce.zy)(),n=(0,s.wA)(),i=(0,me.W)(),[,o]=(0,he.A)(e),c=(0,be.J)(e),d=(0,r.useCallback)((()=>{i({targetUri:e,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),o(!1),n((0,Z._P)()),(0,le.B2u)(e,a.pathname)&&t("/",{replace:!0})}),[i,e,o,n,a.pathname,t]),u=(0,r.useCallback)((()=>{n((0,Z._P)())}),[n]);return c&&(0,R.jsx)(de.T,{"aria-label":l.Ru.get("playlist.delete",c.name),titleText:l.Ru.get("playlist.delete-title",c.name),descriptionText:l.Ru.get("playlist.delete-description",(m=c.name,m&&xe.test(m)?m.replace(fe,(e=>e in Re?Re[e]:e)):m)),onConfirm:d,onClose:u,confirmText:l.Ru.get("contextmenu.delete"),confirmLabel:l.Ru.get("playlist.delete",c.name),cancelText:l.Ru.get("queue.cancel-button"),allowHTML:!0});var m})),ve=()=>{const e=(0,s.d4)((e=>e.ui.deletePlaylistDialog.uri));return e?(0,R.jsx)(Ee,{uri:e}):null},ke=(0,r.lazy)((async()=>{const{AboutSpotifyModal:e}=await a.e(8493).then(a.bind(a,88039));return{default:e}})),Se=(0,r.lazy)((async()=>await a.e(8493).then(a.bind(a,50589)))),je=(0,r.lazy)((async()=>await a.e(8493).then(a.bind(a,59172))));function we(){return(0,R.jsxs)(r.Suspense,{fallback:null,children:[(0,R.jsx)(ke,{}),(0,R.jsx)(Se,{}),(0,R.jsx)(je,{})]})}var Ne=a(42551),Ce=a(29111),Oe=a(14910);const Ie="AdF5F5BxQXGeWkfceg9A",_e="YDfNb_CMrwg2Z6FeLyNu",Te="XBJ5gUPLDUdlCFkWV7PZ",Ae="T596E9OFZtarwLZV_Opk",Le=(0,Ne.Mz)((e=>e.duplicateTracks),(e=>{const t=!!e.uri;return{...e,onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris}})),De=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,Oe.m)(),{isOpen:a,playlistName:n,playlistUri:i,uris:c=[],onlyOneTrack:d,position:m={after:"end"},newUris:g=[]}=(0,s.d4)(Le),p=g?.length,h=!d&&p,b=(0,r.useCallback)((()=>{h&&t.add(i,g,m),e((0,Ce.Qo)())}),[t,h,g,m,i,e]),f=(0,r.useCallback)((()=>{t.add(i,c,m),e((0,Ce.Qo)())}),[t,c,m,i,e]),x=(0,r.useCallback)((()=>{e((0,Ce.Qo)())}),[e]);let E;return E=h?l.Ru.get("duplicate.tracks.someAlreadyAddedDescription",n):d?l.Ru.get("duplicate.tracks.oneAlreadyAdded",n):l.Ru.get("duplicate.tracks.allAlreadyAdded",n),(0,R.jsx)(u.M,{animated:!0,onClose:x,"aria-label":l.Ru.get("duplicate.tracks.alreadyAdded"),isOpen:a,children:(0,R.jsxs)("div",{className:Ie,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:_e,children:h?l.Ru.get("duplicate.tracks.someAlreadyAdded"):l.Ru.get("duplicate.tracks.alreadyAdded")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:Te,paddingBottom:$.lT,children:E}),(0,R.jsxs)("div",{className:v()("encore-light-theme",Ae),children:[(0,R.jsx)(y.H,{onClick:f,children:h?l.Ru.get("duplicate.tracks.addAll"):l.Ru.get("duplicate.tracks.addAnyway")}),(0,R.jsx)(k.$,{onClick:b,children:h?l.Ru.get("duplicate.tracks.addNewOnes"):l.Ru.get("duplicate.tracks.dontAdd")})]})]})})}));var Pe=a(31186),Ue=a(90780),Me=a(96071),Be=a(3463),Fe=a(17001),Ge=a(49487),ze=a(38209),We=a(20922);let Ve=function(e){return e[e.PODCAST_AUDIO=0]="PODCAST_AUDIO",e[e.PODCAST_VIDEO=1]="PODCAST_VIDEO",e[e.TRACK=2]="TRACK",e[e.PLAYLIST=3]="PLAYLIST",e[e.ARTIST=4]="ARTIST",e[e.ALBUM=5]="ALBUM",e}({});const He=[1,60,3600],Ke=[3600,60,1],qe={seconds:NaN,humanString:"-:--"};function Qe(e){if(!isFinite(e))return qe.humanString;let t=Math.round(e);return Ke.reduce(((e,a,r)=>{const s=0===e.length?1:2;if(t>=a||e.length>0||r===He.length-2){const r=Math.floor(t/a);t-=r*a,e.push(r.toString().padStart(s,"0"))}return e}),[]).join(":")}function Ye(e){let t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){const a=e.split(":");a.length<=He.length&&(t=a.reverse().reduce(((e,t,a)=>e+=function(e){const t=parseInt(e,10);return t>=0?t:NaN}(t)*He[a]),0))}return isNaN(t)?qe:{seconds:t,humanString:Qe(t)}}var Je=a(72308),$e=a(97547),Ze=a(5820),Xe=a(33031);const et=new Ze.l("fetchExtractedColorAndImageForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),tt=new Ze.l("fetchExtractedColorAndImageForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),at=new Ze.l("fetchExtractedColorAndImageForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),rt=new Ze.l("fetchExtractedColorAndImageForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),st=new Ze.l("fetchExtractedColorAndImageForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),nt=new Ze.l("fetchExtractedColorAndImageForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),it=new Ze.l("fetchExtractedColorForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ot=new Ze.l("fetchExtractedColorForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ct=new Ze.l("fetchExtractedColorForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),lt=new Ze.l("fetchExtractedColorForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),dt=new Ze.l("fetchExtractedColorForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ut=new Ze.l("fetchExtractedColorForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null);var mt=a(52094),gt=a(61828);const pt={artist:ot,album:it,episode:ct,playlist:lt,"playlist-v2":lt,show:dt,track:ut};function ht(e){return e?.extractedColors?.colorDark.hex}const bt={artist:tt,album:et,episode:at,playlist:rt,"playlist-v2":rt,show:st,track:nt};function Rt(e){return!!e}function ft(e){return!!e}function xt(e){return!(!e||0===Object.keys(e).length)&&"Episode"===e.__typename}function yt(e){return!!e}function Et(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function vt(e){return!(!e||0===Object.keys(e).length)&&"Audiobook"===e.__typename}function kt(e){return!!e}var St=a(15658),jt=a(12675),wt=a(1263),Nt=a(63710);const Ct="uUYNnjSt8m3EqVjsnHgh",Ot="dbKIqeJaR5jYCnOeeDJt",It="gB6AcMixPEmdr96SUSBM",_t="U_nX_1rJoqQSWPJRE6zb",Tt="bps2gHcEE9dOV6djVLWF",At="IJHNf0vxPSbPE1egoG4N",Lt="zwGMyD7hN0H1Xx8hV5MH",Dt="VaChXV5vRmHB24UihCAG",Pt="NYCZnquuE8_PvM2bxZ3r",Ut="MnqXew54JWlqw2TG7vDK",Mt="gIsqpLXuGzGw3zRTolrW",Bt="XPFcOWyZPRej4gH_M5XQ",Ft="P4iG24p5ttZDxkQJsiDb",Gt="xwNumE3szip6EhU74j3f",zt="h7qbIvm2yIiZVYqONyFG",Wt="ObwDQms6Cu8h_8FMWzAT",Vt="bOIRpQiHUAEfp8ntStTo",Ht="oBoIIlKrwQjxXpvOiOa0",Kt="mKjr_3b27jFzEoJBJYQw",qt="gAlrxXSfi5DpMcVMiUsz",Qt="mBGUavHPMlD5mfAmiy5g",Yt="PvesGiAqdV7dazP6Qulv",Jt="wVDmvGlxMo4VisD89XUI",$t="dNNjNzGLV8tjhIuats54",Zt="TSQvyxomq15adJzfCj3j",Xt="tWZ0D98BTxSAFIgp4_tP",ea="LeDataq3AAGozahFmBJL",ta="nT444OUxO6Vammm8GUVl",aa="UrcPMgHLfxfJesFPrNvJ",ra=352,sa="100%",na={frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"},ia={disallow:{timestamp:!0,theme:!1,width:!1},defaults:{theme:"1",height:ra,width:sa},theme:[["1",null],["0","#282828"]],height:[[ra,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},oa={[Ve.PODCAST_AUDIO]:{disallow:{timestamp:!1,theme:!1,width:!1},defaults:{theme:"1",height:ra,width:sa},theme:[["1",null],["0","#282828"]],height:[[ra,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},[Ve.PODCAST_VIDEO]:{disallow:{timestamp:!1,theme:!1,width:!0},defaults:{theme:"1",height:351,width:624},theme:[["1",null],["0","#282828"]],height:[[351,"normal"],[279,"compact"]],constraints:{width:{min:400,max:700,minPercentage:40,maxPercentage:100}}},[Ve.TRACK]:ia,[Ve.PLAYLIST]:ia,[Ve.ARTIST]:ia,[Ve.ALBUM]:ia},ca={disallow:{timestamp:!0,theme:!0,width:!0},defaults:{theme:"1",height:ra,width:sa},theme:[],height:[],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},la=({uri:e,currentTrackUri:t,currentPosition:a,isOpen:s,entityType:n})=>{const i=(0,r.useMemo)((()=>(0,le.o_h)(e)),[e]),d=t===e,m=(0,We.n)(n),{search:g}=(0,ce.zy)(),[p,h]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),[x,E]=(0,r.useState)(null),[S,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(!1),[C,O]=(0,r.useState)(!1),[I,_]=(0,r.useState)(d?a??0:0),[T,A]=(0,r.useState)(!0),[L,D]=(0,r.useState)(!1),[P,U]=(0,r.useState)(l.Ru.get("ewg.copy")),M=null!==p?oa[p]:ca,B=(0,St.T)(),F=function(e,t=$e.l0o){const{request:a}=(0,r.useContext)(mt.j),[s,n]=(0,r.useState)(t);return(0,r.useEffect)((()=>{(async()=>{const t=(0,le.o_h)(e);if(!t)return;const r=pt[t.type];if(!r)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const s=await a(r,{uri:t.toURI()}),{albumUnion:i,artistUnion:o,episodeUnionV2:c,playlistV2:l,podcastUnionV2:d,trackUnion:u}=s?.data||{};Rt(i)?n(ht(i.coverArt)):ft(o)?n(ht(o.visuals?.avatarImage)):xt(c)?n(ht(c.coverArt)):yt(l)?n(ht(l.images?.items?.[0])):Et(d)||vt(d)?n(ht(d?.coverArt)):kt(u)&&n(ht(u.albumOfTrack?.coverArt))})()}),[e,a]),s}(e,"#FFF"),G=(0,me.W)(),z=(0,r.useRef)(null),W=(0,r.useRef)(null),V=(0,r.useContext)(ze.wv),H=(0,r.useCallback)((()=>{V({type:"close"})}),[V]),K=()=>{H(),G({type:"click",intent:"close"})},q=()=>{if(!W?.current)return;const e=W.current.value;if(null!==p){const{constraints:t}=oa[p],[a,r]=function(e,t){const a=parseInt(e.replace(/px|%$/,""),10);if(Number.isFinite(a)){if(-1!==e.indexOf("px")){const e=Math.max(t.min,Math.min(t.max,Math.round(a)));return[`${e}px`,e.toString()]}const r=Math.max(t.minPercentage,Math.min(t.maxPercentage,Math.round(a)));return[`${r}%`,`${r}%`]}return["100%","100%"]}(e,t.width);W.current.value=a,j(r)}},Q=()=>{if(z?.current){const e=Ye(z.current.value);z.current.value=e.humanString,e.seconds!==I&&(A(!0),_(e.seconds))}};(0,r.useEffect)((()=>{if(p===Ve.PODCAST_VIDEO&&x){const e=parseInt(x,10);j(351===e?624..toString():496..toString())}}),[x,p]),(0,r.useEffect)((()=>{(async()=>{const t=i?.type;if(t===le.NQG.EPISODE){const t=await B.getEpisodeOrChapter(e);return t.type===wt.c.EPISODE&&t.mediaTypes?.includes(jt.Cx.Video)?h(Ve.PODCAST_VIDEO):h(Ve.PODCAST_AUDIO)}if(t===le.NQG.SHOW){const t=n===wt.c.SHOW?await B.getContents(e,{offset:0,limit:1}):await B.getBookContents(e,{offset:0,limit:1,doRefreshSubscription:!1});if(t.items.length>0&&null!==t.items[0]){const e=await B.getEpisodeOrChapter(t.items[0].uri);return e.type===wt.c.EPISODE&&e.mediaTypes?.includes(jt.Cx.Video)?h(Ve.PODCAST_VIDEO):h(Ve.PODCAST_AUDIO)}}t===le.NQG.TRACK?h(Ve.TRACK):t===le.NQG.ARTIST?h(Ve.ARTIST):t===le.NQG.ALBUM?h(Ve.ALBUM):h(Ve.PLAYLIST)})()}),[n,B,e,i]),(0,r.useEffect)((()=>{E(M.defaults.height.toString()),f(M.defaults.theme),j(M.defaults.width.toString())}),[M]);const Y=p===Ve.PODCAST_VIDEO,J=(e=>{if(new URLSearchParams(e).get("locale"))return l.Ru.getLocaleForTranslation()})(g),$=null!==p?function(e,t,a,r,s,n){const i=(0,le.o_h)(e);if(!i)return null;const o=i.toURLPath(),c=new URL(`https://open.spotify.com/embed/${o}${s?"/video":""}`);return c.searchParams.set("utm_source","generator"),t&&"1"!==t&&c.searchParams.set("theme",t),a&&void 0!==r&&c.searchParams.set("t",r.toString()),n&&c.searchParams.set("locale",n.toString()),c}(e,b,C,I,Y,J):null,Z=$&&M!==ca&&x&&S?(0,R.jsx)("iframe",{onLoad:()=>{A(!1)},style:{borderRadius:"12px"},src:$?.toString(),width:S,height:x,...na},$?.toString()):null,X=Z?(Pe.renderToStaticMarkup(Z)||"").replace(/src=".*?"/,`src="${$?.toString()}"`):"";return(0,R.jsxs)(u.M,{isOpen:s,"aria-label":m,animated:!0,onClose:K,children:[(0,R.jsxs)("div",{className:v()(Ct),children:[(0,R.jsxs)("div",{className:Vt,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",children:m}),(0,R.jsx)("button",{className:Ht,onClick:K,children:(0,R.jsx)(c.M,{size:"small","aria-label":l.Ru.get("close")})})]}),(0,R.jsxs)("div",{className:At,children:[(0,R.jsxs)("div",{className:Lt,children:[(0,R.jsxs)("div",{className:Kt,style:{visibility:M.disallow.theme?"hidden":"visible"},children:[(0,R.jsxs)("p",{className:qt,children:[l.Ru.get("ewg.color"),":"]}),M.theme.map((([e,t])=>{return(0,R.jsx)("button",{style:{backgroundColor:null===t?F:t},className:v()(Qt,{[Yt]:b===e}),onClick:(a=e,()=>{b!==a&&(A(!0),f(a))})},e);var a}))]}),(0,R.jsxs)("div",{className:$t,children:[(0,R.jsxs)("div",{className:Zt,children:[l.Ru.get("ewg.size"),":"]}),(0,R.jsxs)("div",{className:Xt,children:[x&&(0,R.jsx)(Ge.C,{id:"ewg-height",value:x,onSelect:E,children:M.height.map((([e,t])=>(0,R.jsxs)("option",{value:e,children:["normal"===t?l.Ru.get("ewg.size.normal"):l.Ru.get("ewg.size.compact")," ","(",e,"px)"]},e)))}),M.disallow.width?null:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("span",{className:ea,children:"Ã—"}),(0,R.jsxs)("div",{className:Ft,children:[(0,R.jsx)("input",{className:Bt,type:"text",ref:W,defaultValue:M.defaults.width,onKeyUp:e=>{"Enter"===e.key&&q()},onBlur:q}),(0,R.jsx)(y.H,{"aria-label":l.Ru.get("ewg.help"),"aria-describedby":"ewg-help-text",size:"small",iconOnly:Ue.N,className:Gt,onMouseOver:()=>N(!0),onMouseLeave:()=>N(!1)}),(0,R.jsx)("div",{onFocus:()=>N(!0),onMouseOver:()=>N(!0),onMouseLeave:()=>N(!1),className:v()(zt,{[It]:w}),children:(0,R.jsx)(Me.m,{id:"ewg-help-text",children:l.Ru.get("ewg.help-text")})})]})]})]})]})]}),(0,R.jsxs)("div",{className:Pt,style:{height:ra,maxHeight:"calc(100vh - 402px)"},children:[T&&(0,R.jsx)("div",{className:aa,children:(0,R.jsx)(Be.I,{})}),Z]}),(0,R.jsx)("small",{className:Jt,dangerouslySetInnerHTML:{__html:l.Ru.get("ewg.terms",{devTerms:"https://developer.spotify.com/terms/",platfRules:"https://www.spotify.com/platform-rules/"})}}),(0,R.jsxs)("div",{className:Dt,children:[(0,R.jsxs)("div",{className:ta,style:{visibility:M.disallow.timestamp?"hidden":"visible"},children:[(0,R.jsx)(Fe.c,{className:Bt,checked:C,type:"checkbox",id:"ewg-timestamp",onChange:e=>{const t=e.currentTarget.checked;C!==t&&(A(!0),O(t),G({type:"click",intent:"toggle",itemIdSuffix:`timestamp/${t}`}))},"data-testid":"timestamp-checkbox"}),(0,R.jsx)("label",{htmlFor:"ewg-timestamp",children:l.Ru.get("ewg.start-at")}),(0,R.jsx)("input",{className:v()(Wt,Tt),disabled:!C,type:"text",defaultValue:Ye(Math.floor(I/1e3).toString()).humanString,ref:z,onBlur:Q,onKeyUp:e=>{"Enter"===e.key&&Q()}})]}),(0,R.jsxs)("div",{className:Ut,children:[(0,R.jsx)(Fe.c,{className:Bt,checked:L,type:"checkbox",id:"ewg-showcode",onChange:e=>{const t=e.currentTarget.checked;D(t),G({type:"click",intent:"show-more",itemIdSuffix:`showcode/${t}`})}}),(0,R.jsx)("label",{htmlFor:"ewg-showcode",children:l.Ru.get("ewg.showcode")}),(0,R.jsx)(k.$,{className:Mt,size:"small",onClick:()=>{(0,Nt.l)(X),G({type:"click",intent:"copy"}),U(l.Ru.get("ewg.copied")),setTimeout((()=>U(l.Ru.get("ewg.copy"))),5e3)},children:P})]})]})]})]}),(0,R.jsx)("section",{className:v()(Ot,{[It]:L}),children:(0,R.jsx)("pre",{className:_t,"data-testid":"iframe-code",children:X})})]})},da=()=>{const e=(0,r.useContext)(ze.Fx);return e.uri?(0,R.jsx)(Je.pZ,{value:"embed-widget-generator",children:(0,R.jsx)(la,{...e})}):null},ua=()=>{const e=(0,s.wA)(),t=(0,ue.g)(),{isOpen:a}=(0,s.d4)((({ui:e})=>e.explicitContentDialog)),n=(0,r.useCallback)((()=>{e((0,Z.wn)())}),[e]),i=(0,r.useCallback)((()=>{t("/preferences"),e((0,Z.wn)())}),[e,t]);return(0,R.jsx)(de.T,{isOpen:a,onClose:n,onConfirm:i,"aria-label":"explicit-content-dialog",titleText:l.Ru.get("explicit-content.dialog.title"),descriptionText:l.Ru.get("explicit-content.dialog.description"),confirmText:l.Ru.get("explicit-content.dialog.confirm"),cancelText:l.Ru.get("explicit-content.dialog.cancel")})};var ma=a(86505),ga=a(73897),pa=a(93193),ha=a(44733),ba=a(83112),Ra=a(82939),fa=a(80222),xa=a(22420),ya=a(16825),Ea=a(94448),va=a(73845),ka=a(36217),Sa=a(61008),ja=a(3161);const wa=()=>{const e=(0,ue.g)(),t=(0,s.wA)(),a=(0,ce.zy)(),r=(0,s.d4)((e=>e.ui.history.canGoBack)),n=(0,s.d4)((e=>e.ui.history.canGoForward)),{createPlaylist:i}=(0,ya.A)(),{createFolder:o}=(0,ge.Z)(),{openURL:c,openURLWithSessionTransfer:d}=(0,va.L)(),{spec:u,logger:m}=(0,ja.r)(ma.r,{data:{uri:(0,le.o_h)(a.pathname)?.toURI()??""},parentAbsoluteLocation:{locations:[]}});return(0,fa.x)(Ra.W.CREATE_NEW_PLAYLIST,(async()=>{await i()})),(0,fa.x)(Ra.W.CREATE_NEW_FOLDER,(async()=>{await o(l.Ru.get("playlist.default_folder_name"),{before:"start"})})),(0,fa.x)(Ra.W.BROWSE_BACKWARD,(()=>{r&&e(-1)})),(0,fa.x)(Ra.W.BROWSE_FORWARD,(()=>{n&&e(1)})),(0,fa.x)(Ra.W.LOGOUT,(()=>{t((0,Ea.wH)())})),(0,fa.x)(Ra.W.SHOW_ABOUT,(()=>{t((0,ga.Uu)())})),(0,fa.x)(Ra.W.SHOW_PREFERENCES,(()=>{e("/preferences")})),(0,fa.x)(Ra.W.SHOW_ACCOUNT,(()=>{d("https://spotify.com/account/overview/")})),(0,fa.x)(Ra.W.SHOW_COMMUNITY,(()=>{d("https://community.spotify.com/")})),(0,fa.x)(Ra.W.SHOW_HELP,(()=>{d("https://support.spotify.com/")})),(0,fa.x)(Ra.W.SHOW_LICENSES,(()=>{t((0,pa.FS)())})),(0,fa.x)(Ra.W.SHOW_LICENSING_INFORMATION,(()=>{c("https://www.spotify.com/int/legal/licensing-info/")})),(0,fa.x)(Ra.W.SHOW_SCTA_INFORMATION,(()=>{c("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,fa.x)(Ra.W.SHOW_REPORT_ISSUE,(()=>{t((0,ha.ur)())})),(0,fa.x)(Ra.W.ENTER_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiReveal()),t((0,Z.Kk)())})),(0,fa.x)(Ra.W.LEAVE_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiHide()),t((0,Z.DH)())})),(0,fa.x)(Ra.W.SET_PLATFORM_EMULATION_AUTO,(()=>{(0,ba.O)((0,ka.My)(),(0,Sa.D)())})),(0,fa.x)(Ra.W.SET_PLATFORM_EMULATION_MACOS,(()=>{(0,ba.O)((0,ka.My)(),xa.f.macOS)})),(0,fa.x)(Ra.W.SET_PLATFORM_EMULATION_WINDOWS,(()=>{(0,ba.O)((0,ka.My)(),xa.f.Windows)})),(0,fa.x)(Ra.W.SET_PLATFORM_EMULATION_LINUX,(()=>{(0,ba.O)((0,ka.My)(),xa.f.Linux)})),null};var Na=a(38255),Ca=a(90809),Oa=a(36138),Ia=a(44512);const _a=({shortcuts:e,sectionTitle:t})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"h2",className:Ia.A.sectionHeading,variant:"titleSmall",children:t}),(0,R.jsx)("ul",{children:e.map((e=>e.enabled?(0,R.jsxs)("li",{className:Ia.A.sectionItem,children:[(0,R.jsx)(o.E,{variant:"bodyMedium",className:Ia.A.sectionItemName,children:e.description}),(0,R.jsx)(Ca.g,{combinations:(0,Oa.p)(e.action)})]},e.action):null))})]});var Ta=a(16094),Aa=a(90726);const La=(0,r.memo)((function(){const e=function(){const e=(0,Ta.R)(),t=!0;return{basic:[{action:Aa.r.CREATE_NEW_PLAYLIST,get description(){return l.Ru.get("playlist.new-header")},enabled:!0},{action:Aa.r.CREATE_NEW_FOLDER,get description(){return l.Ru.get("keyboard.shortcuts.description.createNewFolder")},enabled:!0},{action:Aa.r.OPEN_CONTEXT_MENU,get description(){return l.Ru.get("keyboard.shortcuts.description.openContextMenu")},enabled:!0},{action:Aa.r.OPEN_SEARCH_MODAL,get description(){return l.Ru.get("keyboard.shortcuts.description.openSearchModal")},enabled:!0},{action:Aa.r.SELECT_ALL,get description(){return l.Ru.get("keyboard.shortcuts.description.selectAll")},enabled:t},{action:Aa.r.FILTER,get description(){return l.Ru.get("filter")},enabled:t},{action:Aa.r.FOCUS_YLX_TEXT_FILTER,get description(){return l.Ru.get("web-player.your-library-x.text-filter.generic-placeholder")},enabled:!0},{action:Aa.r.LOG_OUT,get description(){return l.Ru.get("user.log-out")},enabled:!0}],playback:[{action:Aa.r.TOGGLE_PLAY,get description(){return l.Ru.get("keyboard.shortcuts.description.togglePlay")},enabled:!0},{action:Aa.r.LIKE_DISLIKE_SONG,get description(){return l.Ru.get("keyboard.shortcuts.description.likeDislikeSong")},enabled:!0},{action:Aa.r.SHUFFLE,get description(){return l.Ru.get("keyboard.shortcuts.description.shuffle")},enabled:!0},{action:Aa.r.REPEAT,get description(){return l.Ru.get("keyboard.shortcuts.description.repeat")},enabled:!0},{action:Aa.r.SKIP_PREVIOUS,get description(){return l.Ru.get("keyboard.shortcuts.description.skipPrev")},enabled:!0},{action:Aa.r.SKIP_NEXT,get description(){return l.Ru.get("keyboard.shortcuts.description.skipNext")},enabled:!0},{action:Aa.r.SEEK_BACKWARD,get description(){return l.Ru.get("keyboard.shortcuts.description.seekBackward")},enabled:!0},{action:Aa.r.SEEK_FORWARD,get description(){return l.Ru.get("keyboard.shortcuts.description.seekForward")},enabled:!0},{action:Aa.r.RAISE_VOLUME,get description(){return l.Ru.get("keyboard.shortcuts.description.raiseVolume")},enabled:!0},{action:Aa.r.LOWER_VOLUME,get description(){return l.Ru.get("keyboard.shortcuts.description.lowerVolume")},enabled:!0},{action:Aa.r.DECREASE_PLAYBACK_SPEED,get description(){return l.Ru.get("playback-control.decrease-playback-speed")},enabled:!0},{action:Aa.r.INCREASE_PLAYBACK_SPEED,get description(){return l.Ru.get("playback-control.increase-playback-speed")},enabled:!0}],navigation:[{action:Aa.r.GO_TO_HOME,get description(){return l.Ru.get("keyboard.shortcuts.description.home")},enabled:!0},{action:Aa.r.GO_BACKWARDS,get description(){return l.Ru.get("keyboard.shortcuts.description.goBackwards")},enabled:!0},{action:Aa.r.GO_FORWARDS,get description(){return l.Ru.get("keyboard.shortcuts.description.goForwards")},enabled:!0},{action:Aa.r.GO_TO_PREFERENCES,get description(){return l.Ru.get("keyboard.shortcuts.description.goToPreferences")},enabled:t},{action:Aa.r.GO_TO_NOW_PLAYING,get description(){return l.Ru.get("keyboard.shortcuts.description.currentlyPlaying")},enabled:!0},{action:Aa.r.GO_TO_SEARCH,get description(){return l.Ru.get("keyboard.shortcuts.description.search")},enabled:!0},{action:Aa.r.GO_TO_LIKED_SONGS,get description(){return l.Ru.get("keyboard.shortcuts.description.likedSongs")},enabled:!0},{action:Aa.r.GO_TO_QUEUE,get description(){return l.Ru.get("playback-control.queue")},enabled:!0},{action:Aa.r.GO_TO_LIBRARY,get description(){return l.Ru.get("web-player.your-library-x.your-library")},enabled:!0},{action:Aa.r.GO_TO_PLAYLISTS,get description(){return l.Ru.get("keyboard.shortcuts.description.yourPlaylists")},enabled:!0},{action:Aa.r.GO_TO_PODCASTS,get description(){return l.Ru.get("keyboard.shortcuts.description.yourPodcasts")},enabled:!0},{action:Aa.r.GO_TO_ARTISTS,get description(){return l.Ru.get("keyboard.shortcuts.description.yourArtists")},enabled:!0},{action:Aa.r.GO_TO_ALBUMS,get description(){return l.Ru.get("keyboard.shortcuts.description.yourAlbums")},enabled:!0},{action:Aa.r.GO_TO_AUDIOBOOKS,get description(){return l.Ru.get("keyboard.shortcuts.description.yourAudiobooks")},enabled:!0},{action:Aa.r.GO_TO_MADE_FOR_YOU,get description(){return l.Ru.get("keyboard.shortcuts.description.madeForYour")},enabled:!0},{action:Aa.r.GO_TO_NEW_RELEASES,get description(){return l.Ru.get("new_releases")},enabled:!0},{action:Aa.r.GO_TO_CHARTS,get description(){return l.Ru.get("keyboard.shortcuts.description.charts")},enabled:!0},{action:Aa.r.GO_TO_BUDDY_FEED,get description(){return l.Ru.get("buddy-feed.friend-activity")},enabled:!0},{action:Aa.r.GO_TO_DEVICE_PICKER,get description(){return l.Ru.get("spotify-connect")},enabled:!0}],layout:[{action:Aa.r.TOGGLE_LEFT_SIDEBAR,get description(){return l.Ru.get("keyboard.shortcuts.layout.toggleLeftSidebar")},enabled:!0},{action:Aa.r.LEFT_SIDEBAR_DECREASE_WIDTH,get description(){return l.Ru.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")},enabled:!0},{action:Aa.r.LEFT_SIDEBAR_INCREASE_WIDTH,get description(){return l.Ru.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")},enabled:!0},{action:Aa.r.TOGGLE_NPV_SIDEBAR,get description(){return l.Ru.get("keyboard.shortcuts.layout.toggleRightSidebar")},enabled:!0},{action:Aa.r.NPV_SIDEBAR_DECREASE_WIDTH,get description(){return l.Ru.get("keyboard.shortcuts.layout.rightSidebarDecreaseWidth")},enabled:!0},{action:Aa.r.NPV_SIDEBAR_INCREASE_WIDTH,get description(){return l.Ru.get("keyboard.shortcuts.layout.rightSidebarIncreaseWidth")},enabled:!0}],employee:[{action:Aa.r.TOGGLE_DEBUG_WINDOW,description:"Toggle Debug Window",enabled:e}]}}(),t=(0,s.wA)(),a=(0,s.d4)((e=>e.ui.keyboardShortcutsHelpModal.isOpen)),n=(0,r.useCallback)((()=>{t((0,Z.wi)(!1))}),[t]),i=e.employee.filter((e=>e.enabled));return(0,R.jsxs)(u.M,{isOpen:a,onClose:n,"aria-label":l.Ru.get("keyboard.shortcuts.help.heading"),className:Ia.A.container,children:[(0,R.jsxs)("div",{className:Ia.A.header,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:l.Ru.get("keyboard.shortcuts.help.heading")}),(0,R.jsx)("button",{"aria-label":l.Ru.get("close"),className:Ia.A.closeBtn,onClick:n,children:(0,R.jsx)(Na.A,{width:18,height:18,fill:"currentColor"})}),(0,R.jsxs)(o.E,{variant:"bodyMedium",as:"p",children:[l.Ru.get("keyboard.shortcuts.help.subheading.press")," ",(0,R.jsx)(Ca.g,{combinations:(0,Oa.p)(Aa.r.OPEN_HELP)})," ",l.Ru.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,R.jsx)("div",{className:Ia.A.sectionsContainer,children:(0,R.jsxs)("div",{className:Ia.A.sections,tabIndex:0,children:[(0,R.jsx)(_a,{shortcuts:e.basic,sectionTitle:l.Ru.get("keyboard.shortcuts.section.basic")}),(0,R.jsx)(_a,{shortcuts:e.playback,sectionTitle:l.Ru.get("keyboard.shortcuts.section.playback")}),(0,R.jsx)(_a,{shortcuts:e.navigation,sectionTitle:l.Ru.get("keyboard.shortcuts.section.navigation")}),(0,R.jsx)(_a,{shortcuts:e.layout,sectionTitle:l.Ru.get("keyboard.shortcuts.section.layout")}),i.length>0?(0,R.jsx)(_a,{shortcuts:i,sectionTitle:"Employee"}):null]})})]})}));var Da=a(94211);const Pa="ABD0FGjBGqGZG33bP7Lc",Ua="iV_SwHyMafiGlMDhlcB5",Ma="gMEKhUL8rKx7DhSDUVk7",Ba="Z0v7BXnINL5FxFXjQIzE",Fa=r.memo((function({playlistUri:e}){const t=(0,s.wA)(),a=(0,ue.g)(),n=(0,me.W)(),[i,c]=(0,he.A)(e),d=(0,s.d4)(ee.Ht).user,m=(0,be.J)(e),{removeMember:g}=(0,Da.x)(e),p=m?.permissions?.isPrivate,h=m?.canAdd,b=(0,r.useCallback)((()=>{d?.id&&(n({intent:"playlisting",type:"click"}),i&&p&&c(!1),g(d?.id),t((0,Z.mE)()),a("/"))}),[d?.id,n,i,p,g,t,a,c]),f=(0,r.useCallback)((()=>{t((0,Z.mE)())}),[t]),x=l.Ru.get("leave-playlist.dialog.leave");let E=l.Ru.get("leave-playlist.dialog.private-description");return p||(E=h?l.Ru.get("leave-playlist.dialog.public-contributor-description"):l.Ru.get("leave-playlist.dialog.public-listener-description")),(0,R.jsx)(u.M,{animated:!0,onClose:f,"aria-label":x,isOpen:!0,children:(0,R.jsxs)("div",{className:Pa,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:Ua,children:l.Ru.get("leave-playlist.dialog.title")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:Ma,paddingBottom:$.lT,children:E}),(0,R.jsxs)("div",{className:v()("encore-light-theme",Ba),children:[(0,R.jsx)(y.H,{onClick:f,children:l.Ru.get("leave-playlist.dialog.cancel")}),(0,R.jsx)(k.$,{onClick:b,children:x})]})]})})})),Ga=r.memo((function(){const{isOpen:e,playlistUri:t}=(0,s.d4)((e=>e.ui.leavePlaylistDialog));return t&&e?(0,R.jsx)(Fa,{playlistUri:t}):null}));var za=a(87794),Wa=a(48197),Va=a(47744),Ha=a(8816),Ka=a(64387),qa=a(15845);const Qa="Gq0nmqrHqipmGwpzAmPM",Ya="SlF1l98yxyaNXDn4clyB",Ja=()=>{const e=(0,s.wA)(),t=(0,ue.g)(),a=(0,qa.s)(),r=(0,Ha.j)(),{isOpen:n}=(0,s.d4)((e=>e.ui.learnMorePersonalizedRecommendationsModal)),i=()=>{e(Ka.r8.actions.close()),a.logInteraction(r.cancelButtonFactory().hitUiHide())};return(0,R.jsx)(u.M,{isOpen:n,onClose:i,"aria-label":l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),animated:!0,children:(0,R.jsx)(za.Q,{className:Qa,dialogTitle:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),"aria-label":l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),body:(0,R.jsxs)("div",{className:Ya,children:[(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body")}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-missing-features-intro")}),(0,R.jsxs)(Wa.b,{as:"ul",children:[(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-persistent-features-intro")}),(0,R.jsx)(Wa.b,{condensed:!0,as:"ul",children:(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.H,{onClick:i,size:"small",condensed:!0,children:l.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,R.jsx)(k.$,{onClick:()=>{t("/preferences?highlight=dsa"),e(Ka.r8.actions.close()),a.logInteraction(r.goToSettingsButtonFactory().hitUiNavigate({destination:"/preferences"}))},size:"small",colorSet:"invertedLight",children:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-confirm")})]}),legal:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:l.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-disclaimer")})})})};var $a=a(14228);const Za=()=>{const e=(0,s.wA)(),t=(0,qa.s)(),a=(0,$a.H)(),{isOpen:r,onConfirm:n}=(0,s.d4)((e=>e.ui.turnOffPersonalizedRecommendationsModal)),i=()=>{e(Ka.UU.actions.close()),t.logInteraction(a.cancelButtonFactory().hitUiHide())};return(0,R.jsx)(u.M,{isOpen:r,onClose:i,"aria-label":l.Ru.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,R.jsx)(za.Q,{className:Qa,dialogTitle:l.Ru.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":l.Ru.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,R.jsxs)("div",{className:Ya,children:[(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body")}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,R.jsxs)(Wa.b,{as:"ul",children:[(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,R.jsx)(Wa.b,{condensed:!0,as:"ul",children:(0,R.jsx)(Va.K,{condensed:!0,semanticColor:"textSubdued",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.H,{onClick:i,size:"small",condensed:!0,children:l.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,R.jsx)(k.$,{onClick:()=>{n(),e(Ka.UU.actions.close()),t.logInteraction(a.turnOffPersonalizedRecommendationsButtonFactory().hitSettingDisable())},size:"small",colorSet:"invertedLight",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-confirm")})]}),legal:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:l.Ru.get("web-player.settings.personalized-recommendations.modal-delay-disclaimer")})})})};var Xa=a(47100),er=a(64019),tr=a(75489),ar=a(80882),rr=a(9468),sr=a(85033),nr=a(66917),ir=a(72474),or=a(20776),cr=a(19158),lr=a(90298),dr=a(84206),ur=a(62316);const mr="PiyAiXdQULEnWAHP0tu1",gr="CU0wnmWejIvyEsRRtSac",pr="R2w_sH83CJU9Yhnu0xyt",hr="MQQEonum615k8mGkliT_",br="ke5Pf1zkbk0eGnRWZYyg",Rr="St_O5qpuAv8_Rt8xLueG",fr="UxrKbK6rUr4vmo6SmCab",xr="i2x0uFyIEg3YN6njOngZ",yr="mtGn3ylACuEcnBDCuR2g",Er="f0GjZQZc4c_bKpqdyKbq",vr="UCj7uEr7vR_0DO3cQHcX",kr="JqI3LI5Df0M4YNOvUSCw",Sr="RLzMolC7kIdp65LyfQPb",jr="rosHlzYfiO0UfpmOhP4I",wr="_qRr3jb13hOiy1EvSL_r",Nr="JaGLdeBa2UaUMBT44vqI",Cr="SuHDp5IvWoCq1P8yJQmo",Or="c0CddR8wF7kDxvU6uM8B",Ir="Up_Ke_BKTraatSMY_Po_",_r="g4NoSm4nlTuArQvfAaDa",Tr="CMQlNrl4E4TNHVowBoZ9",Ar="qOBo9jzgJoMkt2Ad8fur",Lr="lXzpMHpJSt7uRB1DXwen",Dr="_rBnbQXOUaS8hxF05Vvj",Pr=({openImagePicker:e,onRemoveImage:t})=>(0,R.jsx)("div",{className:xr,children:(0,R.jsx)(lr.b,{menu:(0,R.jsxs)(dr.W,{children:[(0,R.jsx)(ur.D,{role:"menuitem",onClick:e,leadingIcon:(0,R.jsx)(ir.d,{semanticColor:"textSubdued",size:"small"}),children:l.Ru.get("playlist.edit-details.change-photo")}),(0,R.jsx)(ur.D,{role:"menuitem",onClick:t,leadingIcon:(0,R.jsx)(or.x,{semanticColor:"textSubdued",size:"small"}),children:l.Ru.get("playlist.edit-details.remove-photo")})]}),children:(0,R.jsxs)("button",{className:yr,type:"button",children:[(0,R.jsx)(cr.x,{size:"small","aria-hidden":"true"}),(0,R.jsx)("span",{className:"hidden-visually",children:l.Ru.get("edit_photo")})]})})});var Ur=a(73657);const Mr=({onClick:e})=>(0,R.jsx)("button",{title:"Insert link",className:Dr,onClick:e,children:(0,R.jsx)(Ur.b,{size:"small","aria-hidden":"true"})});var Br=a(37691),Fr=a.n(Br);const Gr=({className:e,usedCharacters:t,maxCharacters:a,isVisible:r=!0})=>{const s=a-t,{ariaLive:n,ariaAtomic:i}=function(e){let t,a;return e<=20?(t="assertive",a=!0):e<=60?(t="polite",a=!1):e<=70?(t="polite",a=!0):(t="off",a=!0),{ariaLive:t,ariaAtomic:a}}(s);return(0,R.jsx)("span",{className:v()(Tr,e,{"hidden-visually":!r}),"aria-label":l.Ru.get("character-counter"),"aria-live":n,"aria-atomic":i,children:`${t}/${a}`})};var zr=a(9214);const Wr=(0,r.forwardRef)((function({autoFocus:e,handleOnChange:t,playlistDescription:a,maxNumCharacters:s=300},n){const i=(0,r.useMemo)((()=>`text-input-${(0,zr.Yu)(8)}`),[]),c=s-20,[d,u]=(0,r.useState)(!1),m=Fr()(a).length;return(0,r.useEffect)((()=>{e&&"function"!=typeof n&&n?.current?.select()}),[e,n]),(0,R.jsxs)("div",{className:wr,children:[(0,R.jsx)(o.E,{htmlFor:i,as:"label",variant:"marginalBold",className:jr,children:l.Ru.get("playlist.edit-details.description-label")}),(0,R.jsx)("textarea",{ref:n,"data-testid":"playlist-edit-details-description-input",autoFocus:e,className:v()(Er,Or,{[kr]:d}),onChange:e=>{const a=t(Fr()(e.target.value).slice(0,s).join(""));u(!!a)},placeholder:l.Ru.get("playlist.edit-details.description-placeholder"),value:a}),(0,R.jsx)(Gr,{className:Lr,maxCharacters:s,usedCharacters:m,isVisible:m>=c})]})}));var Vr=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(Vr||{});const Hr={type:"info",code:Vr.CONTAINS_NEW_LINE,get message(){return l.Ru.get("playlist.edit-details.error.description-breaks")}},Kr={type:"info",code:Vr.CONTAINS_HTML,get message(){return l.Ru.get("playlist.edit-details.error.invalid-html")}},qr={type:"info",code:Vr.SAVE_WARNING,get message(){return l.Ru.get("playlist.edit-details.error.unsaved-changes")}},Qr={type:"info",code:Vr.OFFLINE_WARNING,get message(){return l.Ru.get("playlist.edit-details.error.no-internet")}},Yr={type:"error",code:Vr.FILE_TOO_BIG,get message(){return l.Ru.get("playlist.edit-details.error.file-size-exceeded",10)}},Jr={type:"error",code:Vr.IMAGE_TOO_SMALL,get message(){return l.Ru.get("playlist.edit-details.error.too-small",300,300)}},$r={type:"error",code:Vr.IMAGE_TOO_BIG,get message(){return l.Ru.get("playlist.edit-details.error.too-big",1e4,1e4)}},Zr={type:"error",code:Vr.IMAGE_TYPE_NOT_SUPPORTED,get message(){return l.Ru.get("playlist.edit-details.error.image-type-not-supported")}},Xr={type:"error",code:Vr.IMAGE_FILE_UPLOAD_FAILED,get message(){return l.Ru.get("playlist.edit-details.error.file-upload-failed")}},es={type:"error",code:Vr.NAME_REQUIRED,get message(){return l.Ru.get("playlist.edit-details.error.missing-name")}},ts={type:"error",code:Vr.UPDATE_DETAILS_FAILED,get message(){return l.Ru.get("playlist.edit-details.error.failed-to-save")}},as=({autoFocus:e,handleOnChange:t,maxNumCharacters:a=100,playlistName:s,onSubmit:n})=>{const[i,c]=(0,r.useState)(!1),d=(0,r.useMemo)((()=>`text-input-${(0,zr.Yu)(8)}`),[]),u=a-10,m=Fr()(s).length,g=m>=u,p=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e&&p.current?.select()}),[e]),(0,R.jsxs)("div",{className:Sr,children:[(0,R.jsx)(o.E,{as:"label",htmlFor:d,variant:"marginalBold",className:jr,children:l.Ru.get("playlist.edit-details.name-label")}),(0,R.jsx)("input",{"data-testid":"playlist-edit-details-name-input",id:d,autoFocus:e,ref:p,type:"text",className:v()(Er,Nr,{[Cr]:g,[vr]:i}),onKeyDown:e=>{"Enter"===e.key&&n()},onChange:e=>{const r=t(Fr()(e.target.value).slice(0,a).join(""));c(!!r)},placeholder:l.Ru.get("playlist.edit-details.name-placeholder"),value:s}),(0,R.jsx)(Gr,{isVisible:g,maxCharacters:a,usedCharacters:m,className:Ar})]})};var rs=a(98662);const ss={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function ns(e){return{type:"setPlaylistDescription",data:e}}function is(e){return{type:"setLoading",data:e}}function os(e){return{type:"setMessage",data:e}}function cs(e,t){switch(t.type){case"setImageData":return{...e,loading:!1,image:{width:rs.B.SMALL,height:rs.B.SMALL,url:t.data}};case"removeImage":return{...e,loading:!1,imageToken:null,image:void 0};case"setImageToken":return{...e,imageToken:t.data};case"setPlaylistName":return{...e,name:t.data};case"setPlaylistDescription":return{...e,description:t.data};case"setLoading":return{...e,loading:t.data,message:null};case"setHasWarnedAboutUnsavedChanges":return{...e,hasWarnedAboutUnsavedChanges:t.data};case"setMessage":return{...e,loading:!1,message:t.data};case"reset":return{...ss,name:t.data.name,description:t.data.description,image:t.data.image};default:return e}}var ls=a(81882);const ds=/[\b\f\n\r\t\v\0]/,us=/<[bi]/i,ms=({isOpen:e,isImagePickerOpen:t,focusedElement:a,name:n,description:i,image:d,uri:u,onClose:m})=>{i=(e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value})(i);const{uploadImage:g,updateDetails:p}=(0,Da.x)(u),[h,b]=function({name:e,description:t,image:a}){const[s,n]=(0,r.useReducer)(cs,{...ss,name:e,description:t,image:a});return[s,n]}({name:n,description:i,image:d}),[f,x]=(0,sr.p)(),y=!(0,ls.n)(),E=(0,r.useRef)(null),v=(0,s.d4)((e=>"1"===e.session.productState?.["playlist-annotations-markup"]));(0,r.useEffect)((()=>{b(os(y?Qr:null))}),[y,b]),(0,r.useEffect)((()=>{t&&x()}),[t,x]);const S=(0,r.useCallback)((()=>{b({type:"removeImage"})}),[b]),j=(e=!1)=>{const t=null===h.imageToken,a=h.imageToken;!(n!==h.name||i!==h.description||a||t)||h.hasWarnedAboutUnsavedChanges||e?(b(function(e){return{type:"reset",data:e}}({name:n,description:i,image:d})),m()):(b(os(qr)),b({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};async function w(){if(!h.loading)if(0!==h.name.length){b(is(!0));try{await async function(){const e={};n!==h.name&&(e.name=h.name);i!==h.description&&(e.description=h.description);h.imageToken?e.imageUploadToken=await h.imageToken:null===h.imageToken&&(e.imageUploadToken=null);e.image=h.image,await p(e)}(),b(is(!1));j(!0)}catch{b(os(ts))}}else b(os(es))}return(0,R.jsx)(ar.A,{isOpen:e,onRequestClose:()=>{j()},contentLabel:l.Ru.get("playlist.edit-details.title"),children:(0,R.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:mr,children:[(0,R.jsxs)("div",{className:pr,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",children:l.Ru.get("playlist.edit-details.title")}),(0,R.jsx)("button",{className:hr,onClick:()=>{j()},children:(0,R.jsx)(c.M,{size:"small","aria-label":l.Ru.get("close")})})]}),h.message&&(0,R.jsx)(nr.z,{isErrorMessage:"error"===h.message.type,message:h.message.message}),v?(0,R.jsx)(Mr,{onClick:function(){if(!E.current)return;const{selectionStart:e,selectionEnd:t}=E.current,a=h.description.substring(e,t);let r=a;const s=!!(0,le.o_h)(r);!r.startsWith("http://")&&!r.startsWith("https://")&&!s&&(r=`https://${r}`),b(ns([h.description.substring(0,e),`<a href="${r}">${a}</a>`,h.description.substring(t)].join("")))}}):null,(0,R.jsxs)("div",{className:gr,children:[(0,R.jsx)(rr.u,{isOpen:f,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(b(os(null)),b({type:"setImageData",data:a}),t)try{const e=g(t);b({type:"setImageToken",data:e}),await e}catch{b(os(Xr))}},onError:e=>{e===rr.i.FILE_TOO_BIG?b(os(Yr)):e===rr.i.IMAGE_TOO_SMALL?b(os(Jr)):e===rr.i.IMAGE_TOO_BIG?b(os($r)):e===rr.i.IMAGE_TYPE_NOT_SUPPORTED&&b(os(Zr))}}),(0,R.jsxs)("div",{className:br,children:[(0,R.jsx)(tr.b,{loading:"eager",name:h.name,images:h.image?[h.image]:[],placeholderType:"playlist"}),(0,R.jsx)("div",{className:fr,children:(0,R.jsx)(er.a,{overlay:!!h.image,onClick:x})}),(0,R.jsx)(Pr,{onRemoveImage:S,openImagePicker:x}),!!h.imageToken&&h.loading&&(0,R.jsx)("div",{className:Rr,children:(0,R.jsx)(Be.I,{})})]}),(0,R.jsx)(as,{autoFocus:a===Xa.NV.TITLE,handleOnChange:e=>(b({type:"setPlaylistName",data:e}),0===e.length?(b(os(es)),es):(b(os(null)),null)),playlistName:h.name,onSubmit:w}),(0,R.jsx)(Wr,{ref:E,autoFocus:a===Xa.NV.DESCRIPTION,handleOnChange:e=>{let t=e;return us.test(t)?(b(os(Kr)),Kr):ds.test(t)?(t=(e||"").replace(ds,""),b(os(Hr)),Hr):(b(ns(t)),null)},playlistDescription:h.description}),(0,R.jsx)("div",{className:Ir,children:(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:w,disabled:h.loading,"data-testid":"playlist-edit-details-save-button",children:l.Ru.get("save")})}),(0,R.jsx)(o.E,{as:"p",variant:"marginalBold",className:_r,children:l.Ru.get("image-upload.legal-disclaimer")})]})]})})},gs=()=>{const{isOpen:e,isImagePickerOpen:t,playlistDetails:a,focusedElement:s}=(0,r.useContext)(Xa.iE),n=(0,r.useContext)(Xa.$$),i=(0,r.useCallback)((()=>{n({type:"close"})}),[n]),{name:o,description:c,uri:l,image:d}=a;return e?(0,R.jsx)(ms,{isOpen:e,isImagePickerOpen:t,onClose:i,focusedElement:s,uri:l,name:o,description:c,image:d}):null};var ps=a(68453),hs=a(12498);const bs=new Map;bs.set("ad","â‚¬ 9,99"),bs.set("ar","$ 69,00"),bs.set("at","â‚¬ 9,99"),bs.set("au","$11.99"),bs.set("be","â‚¬ 9,99"),bs.set("bg","4.99 EUR"),bs.set("bo","5.99 USD"),bs.set("br","R$ 16,90"),bs.set("ca","9.99 CAD"),bs.set("ch","Fr. 12.95"),bs.set("cl","$ 3.490,00"),bs.set("co","$ 14.900,00"),bs.set("cr","5.99 USD"),bs.set("cy","6.99 EUR"),bs.set("cz","5.99 EUR"),bs.set("de","9,99 â‚¬"),bs.set("dk","kr 99,00"),bs.set("do","5.99 USD"),bs.set("ec","5.99 USD"),bs.set("ee","6.99 EUR"),bs.set("es","9,99 â‚¬"),bs.set("fi","9,99 â‚¬"),bs.set("fr","9,99 â‚¬"),bs.set("uk","Â£9.99"),bs.set("gr","6.99 EUR"),bs.set("gt","5.99 USD"),bs.set("hk","HK$58.00"),bs.set("hn","5.99 USD"),bs.set("hu","4.99 EUR"),bs.set("id","Rp 49.990"),bs.set("ie","â‚¬9.99"),bs.set("is","9.99 EUR"),bs.set("it","â‚¬ 9,99"),bs.set("kr","â‚©10,900"),bs.set("li","12.95 CHF"),bs.set("lt","6.99 EUR"),bs.set("lu","9.99 EUR"),bs.set("lv","6.99 EUR"),bs.set("mc","9.99 EUR"),bs.set("mt","6.99 EUR"),bs.set("mx","$ 99.00"),bs.set("my","RM14.90"),bs.set("ni","5.99 USD"),bs.set("nl","â‚¬9,99"),bs.set("no","kr109,00"),bs.set("nz","$14.99"),bs.set("pa","5.99 USD"),bs.set("pe","S/ 18.90"),bs.set("ph","â‚±129"),bs.set("pl","19,99 zÅ‚"),bs.set("pt","6.99 EUR"),bs.set("py","5.99 USD"),bs.set("se","99,00 kr"),bs.set("sg","S$9.90"),bs.set("sk","5.99 EUR"),bs.set("sv","5.99 USD"),bs.set("th","à¸¿129.00"),bs.set("tr","13,99 TL"),bs.set("tw","NT$149.00"),bs.set("us","$9.99"),bs.set("uy","5.99 USD");const Rs=new Map;Rs.set("ad","â‚¬ 0,00"),Rs.set("ar","$ 0,00"),Rs.set("at","â‚¬ 0,00"),Rs.set("au","$0.00"),Rs.set("be","â‚¬ 0,00"),Rs.set("bg","0.00 EUR"),Rs.set("bo","0.00 USD"),Rs.set("br","R$ 0,00"),Rs.set("ca","0.00 CAD"),Rs.set("ch","Fr. 0.00"),Rs.set("cl","$ 0,00"),Rs.set("co","$ 0,00"),Rs.set("cr","0.00 USD"),Rs.set("cy","0.00 EUR"),Rs.set("cz","0.00 EUR"),Rs.set("de","0,00 â‚¬"),Rs.set("dk","kr 0,00"),Rs.set("do","0.00 USD"),Rs.set("ec","0.00 USD"),Rs.set("ee","0.00 EUR"),Rs.set("es","0,00 â‚¬"),Rs.set("fi","0,00 â‚¬"),Rs.set("fr","0,00 â‚¬"),Rs.set("uk","Â£0.00"),Rs.set("gr","0.00 EUR"),Rs.set("gt","0.00 USD"),Rs.set("hk","HK$0.00"),Rs.set("hn","0.00 USD"),Rs.set("hu","0.00 EUR"),Rs.set("id","Rp 0.00"),Rs.set("ie","â‚¬0.00"),Rs.set("is","0.00 EUR"),Rs.set("it","â‚¬ 0,00"),Rs.set("li","0.00 CHF"),Rs.set("lt","0.00 EUR"),Rs.set("lu","0.00 EUR"),Rs.set("lv","0.00 EUR"),Rs.set("mc","0.00 EUR"),Rs.set("mt","0.00 EUR"),Rs.set("mx","$ 0.00"),Rs.set("my","RM0.00"),Rs.set("ni","0.00 USD"),Rs.set("nl","â‚¬0,00"),Rs.set("no","kr0,00"),Rs.set("nz","$0.00"),Rs.set("pa","0.00 USD"),Rs.set("pe","S/ 0.00"),Rs.set("ph","â‚±0.00"),Rs.set("pl","0,00 zÅ‚"),Rs.set("pt","0.00 EUR"),Rs.set("py","0.00 USD"),Rs.set("se","0,00 kr"),Rs.set("sg","S$0.00"),Rs.set("sk","0.00 EUR"),Rs.set("sv","0.00 USD"),Rs.set("th","à¸¿0.00"),Rs.set("tr","0,00 TL"),Rs.set("tw","NT$0.00"),Rs.set("us","$0.00"),Rs.set("uy","0.00 USD");var fs=a(85507);const xs="jqvEr4MvCdQ1QA_FSpe7",ys="sRkNI1Gya5aBxtf_vS1S",Es="WShxRrLdX9LzzqlCmWZy",vs="rlMoP29GxtDlHkDK_aci",ks=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,s.d4)((e=>e.ui.premiumDialog.isOpen)),a=(0,s.d4)((e=>{const t=(e=>{const t=e.toLowerCase();return{premiumPrice:bs.has(t)?bs.get(t):"99,00 kr",freePrice:Rs.has(t)?Rs.get(t):"0,00 kr"}})((0,fs.JJ)(e));return t.premiumPrice})),n=(0,s.d4)(fs.q),i=(0,r.useCallback)((()=>e((0,Ea.wH)())),[e]),{openURLWithSessionTransfer:o}=(0,va.L)(),{spec:c,logger:d}=(0,ja.r)(ps._,{}),u=(0,ue.g)(),m=(0,hs.k)(),{url:g,isExternal:p}=m,h=(0,r.useCallback)((()=>{let e;!1===p?(u("/premium"),e=c.upsellButtonFactory().hitUiNavigate({destination:"/premium"})):(o(g),e=c.upsellButtonFactory().hitNavigateToExternalUri({destination:g})),d.logInteraction(e)}),[p,d,u,c,o,g]);return(0,R.jsx)(ar.A,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:l.Ru.get("premium.dialog.title"),children:(0,R.jsxs)("div",{className:xs,children:[(0,R.jsx)("h1",{className:ys,children:l.Ru.get("premium.dialog.title")}),(0,R.jsx)("p",{className:Es,children:l.Ru.get("premium.dialog.description",n?3:1)}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:h,children:l.Ru.get("premium.dialog.subscribe")}),(0,R.jsx)(y.H,{semanticColor:"textBase",onClick:i,children:l.Ru.get("user.log-out")}),(0,R.jsx)("p",{className:vs,children:n?l.Ru.get("premium.dialog.disclaimer.noprice"):l.Ru.get("premium.dialog.disclaimer",{price:a})})]})})}));var Ss=a(74268),js=a(19813);const ws=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,St.T)(),{uri:a,isPrerelease:n}=(0,s.d4)((e=>e.ui.removeFromLibraryDialog)),[i,o]=(0,he.A)(a??""),{remove:c}=(0,js.p)("prerelease"),d=(0,Ss.o)("prerelease",a?[a]:[]).at(0),u=(0,le.o_h)(a)?.type,[m,g]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{switch(u){case le.NQG.PRERELEASE:case le.NQG.ALBUM:g(l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album"));break;case le.NQG.ARTIST:g(l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist"));break;case le.NQG.AUTHOR:g(l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-author"));break;case le.NQG.SHOW:g((0,jt.Go)(await t.getMetadata(a??""))?l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"):l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show"));break;case le.NQG.PLAYLIST:case le.NQG.PLAYLIST_V2:g(l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist"));break;default:g(l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description"))}})()}),[t,u,a]);const p=(0,r.useCallback)((()=>{e((0,Z.yh)())}),[e]),h=(0,r.useCallback)((()=>{if(a){if(n){if(!d)return;c(a)}else{if(!i)return;o(!1)}p()}}),[a,n,p,d,c,i,o]);return(0,R.jsx)(de.T,{"aria-label":`${l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")} ${m}`,titleText:l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:m,onConfirm:h,onClose:p,confirmText:l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:l.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),Ns="ZjyLlDvxh8QqNVY2vMsF",Cs="sx8Bf4udHt_kPAnxmGW8",Os="sfaREUmOnuxlr99uOYnS",Is="RTGGeDA2P3rKc6r96vqA",_s="e1NO8ZuDIwSef3E4ppfX",Ts="Fo3Fe1PpXtQ3G32BqnwP",As="aRZZo0b_4ktkI0mPQ7Vw",Ls=({name:e,onRename:t})=>{const a=(0,s.wA)(),[n,i]=(0,r.useState)(null),d=(0,r.useCallback)((e=>{null!==e&&i(e)}),[]);(0,r.useEffect)((()=>{n?.select()}),[n]);const m=()=>{a((0,Z.Yk)())},g=()=>{t(n?.value??""),m()};return(0,R.jsxs)(u.M,{"aria-label":l.Ru.get("playlist.edit-details.title"),onClose:m,isOpen:!0,"data-testid":"playlist-edit-details-modal",className:Ns,children:[(0,R.jsxs)("div",{className:Os,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",children:l.Ru.get("web-player.your-library-x.rename-folder")}),(0,R.jsx)("button",{className:Is,onClick:m,children:(0,R.jsx)(c.M,{size:"medium","aria-label":l.Ru.get("close")})})]}),(0,R.jsxs)("form",{className:Cs,onSubmit:e=>{e.preventDefault(),g()},children:[(0,R.jsx)("input",{ref:d,type:"text",defaultValue:e,onSubmit:g,className:v()(_s,Ts)}),(0,R.jsx)("div",{className:As,children:(0,R.jsx)(k.$,{colorSet:"invertedLight",type:"submit",children:l.Ru.get("save")})})]})]})};var Ds=a(46969),Ps=a(19134),Us=a(53507);function Ms(){return(0,Us.N)(Ps.hQ)}var Bs=a(14980);function Fs(){const e=(e=>{const t={title:l.Ru.get("web-player.connect.device-picker.restricted-device-default-title"),body:l.Ru.get("web-player.connect.device-picker.restricted-device-default-body")};return e.reason,Bs.m.CONNECT_DEBUG,t})(Ms().getRestrictionState());return e}var Gs=a(51283);const zs="pHB4TMkKuN9rjS0KDi0e",Ws="BFckQSqh6YPYP16D4F0Q",Vs=()=>{const e=(0,s.wA)(),t=(0,s.d4)((e=>e.ui.restrictionsModalState.isOpen)),a=Ms().getRestrictionState(),{spec:n,logger:i,UBIFragment:c}=(0,ja.r)(Ds.O,{data:{identifier:a.reason?.toString()||""}});(0,r.useEffect)((()=>{i.logImpression(n.impression())}),[i,n]);const d=()=>{const t=n.primaryButtonFactory();i.logInteraction(t.hitUiHide()),e((0,Z.d2)())},m=(0,Gs.t)(n),g=Fs();return(0,R.jsxs)(u.M,{isOpen:t,onClose:d,animated:!0,"aria-label":g.title,className:v()("encore-light-theme",zs),children:[(0,R.jsx)(o.E,{as:"h2",variant:"titleSmall",children:g.title}),(0,R.jsx)(o.E,{as:"p",className:Ws,children:g.body}),(0,R.jsx)(c,{spec:n,children:(0,R.jsx)(k.$,{ref:m,onClick:d,children:l.Ru.get("web-player.connect.device-picker.restrictions-modal-ok-button")})})]})};function Hs(){return null}var Ks=a(76137);function qs(){const[e]=(0,Ks.x)("lintHtmlWithCss",!1);let t;return t=Hs,(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(t,{})})}var Qs=a(89372),Ys=a(30849),Js=a(52420),$s=a(1072),Zs=a(15333),Xs=a(87144);const en=new Ze.l("showItemsPlayedState","query","4a070b9bfab2e8537a5271e6839bc3ef51501dcac8170b5fb69a98f967c5fb60",null);function tn(e,t=100){const{data:a,loading:r}=(s={uri:e,limit:t},n={staleTime:0,gcTime:18e5},(0,Xe.I)(en,s,n));var s,n;const i=function(e){const t=e?.lookup.at(0);if("PodcastOrAudiobookResponseWrapper"===t?.__typename){if("Audiobook"===t.data.__typename){const e=t.data;return"ContextChapterPage"===e.chaptersV2?.__typename&&e.chaptersV2.items.some((({entity:e})=>"Chapter"===e.data.__typename&&an(e.data)))}if("Podcast"===t.data.__typename){const e=t.data;return"ContextEpisodePage"===e.episodesV2?.__typename&&e.episodesV2.items.some((({entity:e})=>"Episode"===e.data.__typename&&an(e.data)))}}return!1}(a);return{hasUserListenedToShow:i,loading:r}}function an(e){return"COMPLETED"===e.playedState.state||e.playedState.playPositionMilliseconds>=3e4}var rn=a(17145),sn=a(29879),nn=a(48237),on=a(30514);const cn="osuFIR_6Jo9yKsmLL4y2",ln="r1F2okBwH7F8pEGF7MEG",dn="H2z72R8YxQVQF8UU_ymH",un="Pq5dXGGJ3mlXY0HFuhCS",mn="plZRpYfm5PMEiSYLRj8P",gn="B8OPJYenwKO45OLDwLyY",pn="HwHP6Y0kc7ksENQMXJ75",hn="l2w2Hl3YN3bb4TcgyXcb",bn="hWmnoRh1uj8ciMRAgL4f",Rn="MXT688TwrGLq4tvesXwc",fn="hQIFH0LbkGEHIdsQ20tQ",xn=({uri:e,rating:t,isBook:a,closeRatingModal:s})=>{const[n,i]=(0,r.useState)(t??null),{onSubmitRating:o}=function(e,t){const a=(0,St.T)(),{enqueueSnackbar:r}=(0,nn.dh)(),{spec:s,logger:n}=(0,ja.r)(on.b,{}),{mutateAsync:i}=(0,sn.n)({mutationFn:async()=>{t&&await a.updateUserRating(e,t)},onSuccess:()=>{const a=s.submitRatingButtonFactory().hitSubmitRating({rating:t,entityUri:e});n.logInteraction(a),r(l.Ru.get("web-player.show.rating.snackbarSuccess"))},onError:()=>{r(l.Ru.get("web-player.show.rating.snackbarFailure"))}});return{onSubmitRating:i}}(e,n??0),c=null!==n&&n!==t,d=Array.from(Array(5).keys(),(e=>e+1));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:Rn,children:d.map((e=>(0,R.jsx)(y.H,{"aria-label":a?l.Ru.get("web-player.audiobooks.rating.starAriaLabel",e):l.Ru.get("web-player.show.rating.starAriaLabel",e),className:fn,onClick:()=>i(e),iconOnly:()=>n&&n>=e?(0,R.jsx)(Qs.j,{size:"large",semanticColor:"textBase"}):(0,R.jsx)(Ys.a,{size:"large"})},e)))}),(0,R.jsx)(k.$,{"aria-label":l.Ru.get("web-player.show.rating.submit"),colorSet:"invertedLight",disabled:!c,onClick:()=>{n&&o(),s()},children:l.Ru.get("web-player.show.rating.submit")})]})},yn=({isBook:e,onDismiss:t})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"p",variant:"titleSmall",className:hn,children:e?l.Ru.get("web-player.audiobooks.rating.listenFirstTitle"):l.Ru.get("web-player.show.rating.listenFirstTitle")}),(0,R.jsx)(o.E,{as:"p",className:bn,variant:"bodyMedium",children:e?l.Ru.get("web-player.audiobooks.rating.listenFirstDescription"):l.Ru.get("web-player.show.rating.listenFirstDescription")}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:l.Ru.get("web-player.audiobooks.rating.ok")})]}),En=({uri:e,isBook:t,rating:a,spec:r,logger:s,closeRatingModal:n})=>{const{hasUserListenedToShow:i,loading:o}=tn(e);return o?(0,R.jsx)(Zs.m,{}):a?.canRate&&i?(0,R.jsx)(xn,{uri:e,rating:a?.rating?.rating??null,isBook:t,closeRatingModal:n}):(0,R.jsx)(yn,{isBook:t,onDismiss:()=>{s.logInteraction(r.okButtonFactory().hitUiNavigateBack()),n()}})},vn=r.memo((function({uri:e,metadata:t,isOpen:a}){const r=(0,s.wA)(),n=Boolean(t&&(0,jt.Go)(t)),i=(0,gt.g)(t?.coverArt,{desiredSize:320}),{spec:d,logger:m}=(0,ja.r)(Js.e,{data:{identifier:n?$s.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:$s.$h.RATINGS_AND_REVIEWS_RATINGS,uri:e}}),g=t?.rating,p=()=>{r((0,Z.Kc)())};return(0,R.jsxs)(u.M,{isOpen:a,onClose:p,className:cn,children:[(0,R.jsxs)("div",{className:dn,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",className:pn,children:n?l.Ru.get("web-player.audiobooks.rating.rateAudiobook"):l.Ru.get("web-player.show.rating.header")}),(0,R.jsxs)("button",{className:un,onClick:()=>{const e=d.closeButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:[(0,R.jsx)(c.M,{role:"presentation"}),(0,R.jsx)("span",{className:"hidden-visually",children:l.Ru.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,R.jsxs)("div",{className:mn,children:[(0,R.jsx)(w._,{loading:"eager",src:i?.url,className:ln}),(0,R.jsx)("div",{className:gn,children:(0,R.jsx)(Xs.u,{property:rn.skl,renderNewExperience:()=>(0,R.jsx)(En,{uri:e,rating:g,isBook:n,closeRatingModal:p,spec:d,logger:m}),renderOldExperience:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"p",variant:"bodyMediumBold",className:hn,children:n?l.Ru.get("web-player.audiobooks.rating.wantToRate"):l.Ru.get("web-player.show.rating.want-to-rate")}),(0,R.jsx)(o.E,{as:"p",className:bn,children:l.Ru.get("web-player.audiobooks.rating.goToApp")}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:()=>{const e=d.okButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:l.Ru.get("web-player.audiobooks.rating.ok")})]})})})]})]})})),kn=()=>{const{uri:e,isOpen:t,metadata:a}=(0,s.d4)((e=>e.ui.showRatingModalState));return e&&a?(0,R.jsx)(vn,{uri:e,metadata:a,isOpen:t}):null};var Sn=a(4605),jn=a(63467),wn=a(98490),Nn=a(30787),Cn=a(22498),On=a(19467);function In(e){switch(e){case"Performers":return l.Ru.get("track-credits.performers");case"Writers":return l.Ru.get("track-credits.writers");case"Producers":return l.Ru.get("track-credits.producers");default:return e}}function _n(e){switch(e){case"assistant recording engineer":return l.Ru.get("track-credits.assistant-recording-engineer");case"engineer":return l.Ru.get("track-credits.engineer");case"assistant engineer":return l.Ru.get("track-credits.assistant-engineer");case"trumpet":return l.Ru.get("track-credits.trumpet");case"guitar":return l.Ru.get("track-credits.guitar");case"composer and lyricist":return l.Ru.get("track-credits.composer-and-lyricist");case"associated performer":return l.Ru.get("track-credits.associated-performer");case"background vocals":return l.Ru.get("track-credits.background-vocals");case"bass":return l.Ru.get("track-credits.bass");case"co-producer":return l.Ru.get("track-credits.co-producer");case"additional engineer":return l.Ru.get("track-credits.additional-engineer");case"masterer":return l.Ru.get("track-credits.masterer");case"mixer":return l.Ru.get("track-credits.mixer");case"recording engineer":return l.Ru.get("track-credits.recording-engineer");case"accordion":return l.Ru.get("track-credits.accordion");case"piano":return l.Ru.get("track-credits.piano");case"organ":return l.Ru.get("track-credits.organ");case"background vocal":return l.Ru.get("track-credits.background-vocal");case"recorded by":return l.Ru.get("track-credits.recorded-by");case"mixing engineer":return l.Ru.get("track-credits.mixing-engineer");case"editor":return l.Ru.get("track-credits.editor");case"fiddle":return l.Ru.get("track-credits.fiddle");case"additional vocals":return l.Ru.get("track-credits.additional-vocals");case"violin":return l.Ru.get("track-credits.violin");case"viola":return l.Ru.get("track-credits.viola");case"percussion":return l.Ru.get("track-credits.percussion");case"mastering engineer":return l.Ru.get("track-credits.mastering-engineer");case"composer":return l.Ru.get("track-credits.composer");case"additional keyboards":return l.Ru.get("track-credits.additional-keyboards");case"mix engineer":return l.Ru.get("track-credits.mix-engineer");case"mandolin":return l.Ru.get("track-credits.mandolin");case"acoustic guitar":return l.Ru.get("track-credits.acoustic-guitar");case"keyboards":return l.Ru.get("track-credits.keyboards");case"synthesizer":return l.Ru.get("track-credits.synthesizer");case"drum programmer":return l.Ru.get("track-credits.drum-programmer");case"programmer":return l.Ru.get("track-credits.programmer");case"assistant mixer":return l.Ru.get("track-credits.assistant-mixer");case"assistant mixing engineer":return l.Ru.get("track-credits.assistant-mixing-engineer");case"digital editor":return l.Ru.get("track-credits.digital-editor");case"drums":return l.Ru.get("track-credits.drums");case"drum programming":return l.Ru.get("track-credits.drum-programming");case"conga":return l.Ru.get("track-credits.conga");case"samples":return l.Ru.get("track-credits.samples");case"audio recording engineer":return l.Ru.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return l.Ru.get("track-credits.audio-additional-mix-engineer");case"recording":return l.Ru.get("track-credits.recording");case"assistant producer":return l.Ru.get("track-credits.assistant-producer");case"writer":return l.Ru.get("track-credits.writer");case"strings":return l.Ru.get("track-credits.strings");case"music publisher":return l.Ru.get("track-credits.music-publisher");case"programming":return l.Ru.get("track-credits.programming");case"music production":return l.Ru.get("track-credits.music-production");case"background vocalist":return l.Ru.get("track-credits.background-vocalist");case"producer":return l.Ru.get("track-credits.producer");case"vocal":return l.Ru.get("track-credits.vocal");case"songwriter":return l.Ru.get("track-credits.songwriter");case"lyricist":return l.Ru.get("track-credits.lyricist");case"additional mixer":return l.Ru.get("track-credits.additional-mixer");case"upright bass":return l.Ru.get("track-credits.upright-bass");case"clapping":return l.Ru.get("track-credits.clapping");case"electric bass":return l.Ru.get("track-credits.electric-bass");case"horn arranger":return l.Ru.get("track-credits.horn-arranger");case"flugelhorn":return l.Ru.get("track-credits.flugelhorn");case"second engineer":return l.Ru.get("track-credits.second-engineer");case"rhythm guitar":return l.Ru.get("track-credits.rhythm-guitar");case"bass guitar":return l.Ru.get("track-credits.bass-guitar");case"electric guitar":return l.Ru.get("track-credits.electric-guitar");case"dobro":return l.Ru.get("track-credits.dobro");case"instruments":return l.Ru.get("track-credits.instruments");case"vocal ensemble":return l.Ru.get("track-credits.vocal-ensemble");case"recording arranger":return l.Ru.get("track-credits.recording-arranger");case"arranger":return l.Ru.get("track-credits.arranger");case"steel guitar":return l.Ru.get("track-credits.steel-guitar");case"executive producer":return l.Ru.get("track-credits.executive-producer");case"additional production":return l.Ru.get("track-credits.additional-production");case"designer":return l.Ru.get("track-credits.designer");case"assistant mix engineer":return l.Ru.get("track-credits.assistant-mix-engineer");case"studio musician":return l.Ru.get("track-credits.studio-musician");case"voice performer":return l.Ru.get("track-credits.voice-performer");case"orchestra":return l.Ru.get("track-credits.orchestra");case"chamber ensemble":return l.Ru.get("track-credits.chamber-ensemble");case"additional percussion":return l.Ru.get("track-credits.additional-percussion");case"cajon":return l.Ru.get("track-credits.cajon");case"miscellaneous production":return l.Ru.get("track-credits.miscellaneous-production");case"backing vocals":return l.Ru.get("track-credits.backing-vocals");case"pedal steel":return l.Ru.get("track-credits.pedal-steel");case"additional producer":return l.Ru.get("track-credits.additional-producer");case"keyboard arrangements":return l.Ru.get("track-credits.keyboards-arrangements");case"saxophone":return l.Ru.get("track-credits.saxophone");case"sound engineer":return l.Ru.get("track-credits.sound-engineer");case"assistant remix engineer":return l.Ru.get("track-credits.assistant-remix-engineer");case"double bass":return l.Ru.get("track-credits.double-bass");case"co-writer":return l.Ru.get("track-credits.co-writer");case"pro tools":return l.Ru.get("track-credits.pro-tools");case"tape realization":return l.Ru.get("track-credits.tape-realization");case"ambient sounds":return l.Ru.get("track-credits.ambient-sounds");case"sound effects":return l.Ru.get("track-credits.sound-effects");case"harp":return l.Ru.get("track-credits.harp");case"cymbals":return l.Ru.get("track-credits.cymbals");case"vocal engineer":return l.Ru.get("track-credits.vocal-engineer");case"mellotron":return l.Ru.get("track-credits.mellotron");case"recorder":return l.Ru.get("track-credits.recorder");case"main artist":return l.Ru.get("track-credits.main-artist");case"production":return l.Ru.get("track-credits.production");case"artist":return l.Ru.get("track-credits.artist");case"vocals":return l.Ru.get("track-credits.vocals");case"featuring":return l.Ru.get("track-credits.featuring");case"featured artist":return l.Ru.get("track-credits.featured-artist");case"work arranger":return l.Ru.get("track-credits.work-arranger");case"mixing engineers":return l.Ru.get("track-credits.mixing-engineers");case"re-mixer":return l.Ru.get("track-credits.re-mixer");case"recording producer":return l.Ru.get("track-credits.recording-producer");case"co-mixer":return l.Ru.get("track-credits.co-mixer");case"bells":return l.Ru.get("track-credits.bells");case"pro tools editing":return l.Ru.get("track-credits.pro-tools-editing");case"vibraphone":return l.Ru.get("track-credits.vibraphone");case"additional recording":return l.Ru.get("track-credits.additional-recording");case"vocal producer":return l.Ru.get("track-credits.vocal-producer");case"sitar":return l.Ru.get("track-credits.sitar");case"cello":return l.Ru.get("track-credits.cello");case"flute":return l.Ru.get("track-credits.flute");case"horn":return l.Ru.get("track-credits.horn");case"brass band":return l.Ru.get("track-credits.brass-band");case"programming and keyboards":return l.Ru.get("track-credits.programming-and-keyboards");case"all instruments":return l.Ru.get("track-credits.all-instruments");case"programmed and arranged by":return l.Ru.get("track-credits.programmed-and-arranged-by");case"additional programmer":return l.Ru.get("track-credits.additional-programmer");case"recording and mixing":return l.Ru.get("track-credits.recording-and-mixing");case"engineer and mixer":return l.Ru.get("track-credits.engineer-and-mixer");case"vocal arranger":return l.Ru.get("track-credits.vocal-arranger");case"income participant":return l.Ru.get("track-credits.income-participant");default:return e}}var Tn=a(45127),An=a(81907);const Ln=(e,t)=>e.build().withHost(An.i6).withPath(`/v0/experimental/${t}/credits`).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send();var Dn=a(29947);const Pn="uV8q95GGAb2VDtL3gpYa",Un="pGU_qEtNT1qWKjrRbvan",Mn="VKCcyYujazVPj6VkksPM",Bn="Nw1INlIyra3LT1JjvoqH",Fn="iGT1RlMPCwUlIiRPbOqg",Gn="bpaf11XBuMN_hd95L9ol",zn="beyOcd3p0PEzhrlKIbU1",Wn="IpshWHA6nc9nJxRssAlb",Vn="xd9f6OsPqmyb6CefhTRR",Hn="DAIH23Yj6NeioZ6jooQ6",Kn="mqZLFQb6fadgKQww5AFV",qn=(0,r.memo)((function(){const e=(0,s.wA)(),{isOpen:t,trackUri:a}=(0,s.d4)((e=>e.ui.trackCreditsModal)),n=a.split(":"),i=n[n.length-1],{data:c,error:d,loading:m}=(0,Dn.Z)(Ln,[i]),g=(0,r.useCallback)((()=>{e((0,Z.P0)(!1,""))}),[e]),p=(0,Tn.vh)(),{isAnonymous:h}=(0,s.d4)(ee.Ht),{spec:b,logger:f}=(0,ja.r)(On.i,{data:{uri:a}});return(0,R.jsx)(u.M,{"aria-label":l.Ru.get("track-credits.label"),isOpen:t,onClose:g,children:!m&&!d&&c&&(0,R.jsxs)("div",{className:Pn,children:[(0,R.jsxs)("div",{className:Un,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:l.Ru.get("track-credits.label")}),(0,R.jsx)("button",{"aria-label":l.Ru.get("close"),className:Mn,onClick:g,children:(0,R.jsx)(Na.A,{width:18,height:18,fill:"white"})})]}),(0,R.jsxs)("div",{className:Bn,onScroll:h?()=>p.send((0,Cn.s)({track_uri:a})):()=>p.send((0,Nn.h)({track_uri:a})),children:[(0,R.jsxs)("div",{className:Fn,children:[(0,R.jsx)(o.E,{as:"h2",className:Gn,variant:"bodyMediumBold",children:c.body.trackTitle}),c.body.roleCredits.map(((e,t)=>{const r=b.creditSectionFactory({position:t});return(0,R.jsxs)("div",{className:zn,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:In(e.roleTitle)}),e.artists.length>0?e.artists.map((({name:t,uri:s,externalUrl:n})=>n?(0,R.jsx)("a",{href:n,draggable:!1,rel:"noopener noreferrer",onClick:()=>{const i=r.artistNameFactory({uri:s??""}).hitNavigateToExternalUri({destination:n});f.logInteraction(i),h?p.send((0,wn._)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n})):p.send((0,jn.d)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n}))},target:"_blank",className:Vn,children:t},t):(0,R.jsx)(o.E,{className:Wn,variant:"bodySmall",semanticColor:"textSubdued",children:t},t))):"-"]},e.roleTitle)})),(0,R.jsxs)(o.E,{as:"p",variant:"bodySmall",children:[l.Ru.get("track-credits.source"),":"," ",c.body.sourceNames.join(l.Ru.getSeparator())]})]}),c.body.extendedCredits&&c.body.extendedCredits.length>0&&(0,R.jsxs)("div",{className:Kn,children:[(0,R.jsx)(o.E,{as:"h3",className:Gn,variant:"bodyMediumBold",children:l.Ru.get("track-credits.additional-credits")}),c.body.extendedCredits.map((e=>(0,R.jsxs)("div",{className:zn,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:_n(e.roleTitle.toLowerCase())}),e.artists.map((t=>(0,R.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:()=>{h||p.send((0,Sn.L)({track_uri:a,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:Vn,children:t.name},t.name)))]},e.roleTitle))),(0,R.jsxs)(o.E,{as:"p",variant:"bodySmall",className:Hn,semanticColor:"textSubdued",children:[l.Ru.get("track-credits.source"),":"," ",(0,R.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));var Qn=a(55569),Yn=a.n(Qn),Jn=a(92858);function $n(){const e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@Â£Ã©Ãº",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}const Zn=()=>{const e=(0,Tn.vh)();return(0,r.useEffect)((()=>{const t=$n().toDataURL("image/png"),a=Yn()(t);e.send((0,Jn.u)({h:a}))}),[e]),null},Xn=()=>{const e=(0,r.useRef)(!1);return!(0,n.NC)(rn.x_7)||e.current?null:(e.current=!0,(0,R.jsx)(Zn,{}))};var ei=a(31773),ti=a(1987),ai=a(21061),ri=a(70616),si=a(68265),ni=a(6805),ii=a(82786);var oi=a(40596),ci=a(85978);let li=null;const di=()=>{const{verificationId:e,refetch:t}=(()=>{const[e,t]=(0,r.useState)(null),a=(0,Tn.vh)(),{isTrustedRef:s,isTrustedFn:n}=(0,ri.d)(),{data:i,refetch:o,error:c}=(0,ei.I)({enabled:!1,queryKey:["fetchVerification"],queryFn:async()=>{const e=si.n.getInstance(),{body:t}=await(0,ni.Q)(e);return t}});return(0,r.useEffect)((()=>{i&&i.length>0&&(async()=>{await n();const e=i?.[0].id;t(e),a.send((0,ti.n)({id:e,method:"IN_APP_VERIFICATION_V0",is_trusted:s.current}))})(),c&&a.send((0,ai.D)({method:"IN_APP_VERIFICATION_V0",error_message:c instanceof ii.O?c.name:null,http_method:"get",http_path:"/verifications"}))}),[i,c,a,n,s]),{verificationId:e,refetch:o}})();return(0,ci.p)(oi.gd.UPDATE,(a=>{if(e)return;const r="number"==typeof a?.data?.positionAsOfTimestamp&&a.data.positionAsOfTimestamp>=0&&a.data.positionAsOfTimestamp<=1e3;!a?.data?.isPaused&&r&&function(){const e=performance.now();if(li&&e-li<6e5)return!1;return li=e,!0}()&&t()})),e},ui=(0,r.lazy)((()=>a.e(2807).then(a.bind(a,62807)))),mi=()=>{const e=(0,n.NC)(rn.IqJ),[t,a]=(0,r.useState)(!1),s=di();return(0,r.useEffect)((()=>{a(!!s)}),[s]),e&&t?(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(ui,{verificationId:`${s}`})}):null};var gi=a(76074),pi=a(84277),hi=a(88975);const bi=()=>{const e=(0,s.wA)(),t=(0,hi.D)(),{currentDevice:a}=(0,pi.l)(),{spec:n,logger:i}=(0,ja.r)(gi.h,{}),{onConfirm:o,onCancel:c}=(0,s.d4)((e=>e.ui.videoNotSupportedModal)),d=(0,r.useCallback)((()=>{i.logInteraction(n.cancelButtonFactory().hitUiHide()),e(Ka.ug.actions.close()),c?.()}),[e,i,c,n]),u=(0,r.useCallback)((async()=>{const{interactionId:r}=i.logInteraction(n.confirmButtonFactory().hitDisconnectFromRemoteDevice({remoteDeviceId:a?.connectStateId??""}));e(Ka.ug.actions.close()),await t.pullToLocalDevice({interactionId:r}),o()}),[t,a?.connectStateId,e,i,o,n]),m=l.Ru.get("video-not-supported.modal.title"),g=l.Ru.get("video-not-supported.modal.cancel"),p=l.Ru.get("video-not-supported.modal.confirm");return(0,R.jsx)(de.T,{isOpen:!0,onConfirm:u,onClose:d,titleText:m,"aria-label":m,cancelText:g,confirmText:p,width:{minWidth:420,maxWidth:600}})};var Ri=a(92931);class fi extends r.PureComponent{handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,R.jsx)(Ri.x,{animated:!0,headingMessage:l.Ru.get("offline-error.device-limit-reached.header"),message:l.Ru.get("offline-error.device-limit-reached.message"),buttonLabel:l.Ru.get("close"),isOpen:e,onDismissDialog:t})}}const xi=(0,s.Ng)((e=>({isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen})),(e=>({closeModal:()=>e((0,Z.kC)())})))(fi);var yi=a(9856),Ei=a.n(yi);class vi extends r.PureComponent{constructor(e){super(e),this.handleRequestClose=this.handleRequestClose.bind(this),this.browserName=Ei().getParser(window.navigator.userAgent).getBrowserName()}handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,R.jsx)(Ri.x,{headingMessage:l.Ru.get("fatal-error.header"),onDismissDialog:t,buttonLabel:l.Ru.get("close"),message:l.Ru.get("browser_upgrade_notice",this.browserName),isOpen:e})}}const ki=(0,s.Ng)((e=>({isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen})),(e=>({closeModal:()=>e((0,Z.e$)())})))(vi);var Si=a(69897),ji=a(33260),wi=a(83793),Ni=a(17808),Ci=a(33782),Oi=a(45069),Ii=a(31320);const _i="kRjJnLKzSkQegtH6S7zD";var Ti=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(Ti||{});const Ai=(0,r.memo)((function({image:e,mediaType:t,backgroundColor:a,onSignupClick:r,onLoginClick:s,onDownloadClick:n,downloadLink:i}){const c=e=>t=>{switch(t.preventDefault(),e){case Ti.DOWNLOAD:n&&n(),window.open(i,"_top","noopener");break;case Ti.SIGNUP:r&&r(),(0,Ii.ie)();break;case Ti.LOGIN:s&&s(),(0,Ii.PW)()}},d=(0,Oi.g)(),u="audio"===t?l.Ru.get("fta.wall.start-listening"):l.Ru.get("fta.wall.start-watching"),m=(0,R.jsx)(k.$,{onClick:c(Ti.SIGNUP),children:l.Ru.get("mwp.cta.sign.up.free")}),g=!d&&i?(0,R.jsx)(wi.n,{"data-testid":"upsell-download-app-button",onClick:c(Ti.DOWNLOAD),children:l.Ru.get("mwp.cta.download.app")}):void 0,p=(0,Ci.y)();return(0,R.jsx)(M,{image:e,title:u,primaryButton:m,secondaryButton:g,size:p,style:a?{backgroundColor:a}:{},renderExtraInfo:()=>(0,R.jsxs)("p",{className:_i,onKeyDown:()=>c(Ti.LOGIN),role:"presentation",children:[(0,R.jsx)(o.E,{variant:"bodySmall",children:l.Ru.get("already_have_account")}),(0,R.jsx)(Ni.Y,{href:"#",onClick:c(Ti.LOGIN),children:l.Ru.get("login")})]})})}));var Li=a(62363),Di=a(88189);const Pi="anllJYN1jeYGGE1iAJUJ",Ui="YQRQdqiQ_iT0eo0owsJL",Mi="ftlV6Ixmq4wkKMg7hJ1v",Bi={[P.E.SMALL]:0,[P.E.MEDIUM]:600,[P.E.LARGE]:1024},Fi=()=>{const e=(0,Di.mb)();return e.searchParams.set("referrer","dwp"),e},Gi=({image:e,mediaType:t,backgroundColor:a,onClose:s})=>{const{spec:n,logger:i}=(0,ja.r)(ji.$,{}),o=(0,Gs.t)(n),c=e=>()=>{let t;switch(e){case"download-app":t=n.downloadAppButtonFactory().hitUiNavigate({destination:Fi().toString()});break;case"login":t=n.logInButtonFactory().hitUiNavigate({destination:Ii.aW});break;case"signup":t=n.signUpButtonFactory().hitUiNavigate({destination:Ii.Zg})}t&&i.logInteraction(t)},{ref:d,breakpoint:u}=(0,Li.x)(Bi);return(0,r.useEffect)((()=>{const e=e=>{if("Escape"===e.key){const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()}};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)}),[s,i,n]),(0,R.jsx)(Ci.o.Provider,{value:u,children:(0,R.jsx)("div",{className:`dialog ${Mi}`,role:"presentation",ref:d,onClick:e=>{if(/dialog/.test(e.target.className)){const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()}},children:(0,R.jsxs)("div",{ref:o,className:Pi,style:{backgroundColor:a},children:[(0,R.jsx)(Ai,{image:e,mediaType:t,onDownloadClick:c("download-app"),onLoginClick:c("login"),onSignupClick:c("signup"),downloadLink:Fi().toString()}),(0,R.jsx)("div",{className:Ui,children:(0,R.jsx)(y.H,{onClick:()=>{const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()},children:l.Ru.get("close")})})]})})})},zi=r.memo((function({uri:e}){const t=(0,s.wA)(),a=(0,Si.b)("images/focused_stroy_play.png"),[n,i]=function(e,t=$e.l0o,a){const{request:s}=(0,r.useContext)(mt.j),[n,i]=(0,r.useState)(t),[o,c]=(0,r.useState)(a),l=(0,r.useCallback)((e=>{const{url:t}=(0,gt.g)(e?.sources)||{},a=ht(e);t&&c(t),a&&i(a)}),[c]);return(0,r.useEffect)((()=>{(async()=>{const t=(0,le.o_h)(e);if(!t)return;const a=bt[t.type];if(!a)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const r=await s(a,{uri:t.toURI()}),{albumUnion:n,artistUnion:i,episodeUnionV2:o,playlistV2:c,podcastUnionV2:d,trackUnion:u}=r?.data||{};Rt(n)?l(n.coverArt):ft(i)?l(i.visuals.avatarImage):xt(o)?l(o.coverArt):yt(c)?l(c.images?.items?.[0]):Et(d)||vt(d)?l(d.coverArt):kt(u)&&l(u.albumOfTrack?.coverArt)})()}),[e,s,l]),[o,n]}(e,"#9BF0E1",a);return(0,R.jsx)(Je.pZ,{value:"signup-modal",children:(0,R.jsx)(Gi,{image:n,mediaType:(0,le.WB1)(e??"")?"mixed":"audio",onClose:()=>{t((0,Z.BU)())},backgroundColor:i})})}));var Wi=a(4321),Vi=a(99023);const Hi=()=>{const e=(0,s.wA)(),{data:t}=(0,s.d4)((e=>e.ui.artistAboutDialog));if(!t)return null;const{artist:a,artistUri:r,visuals:n,stats:i,externalLinks:o}=t,{gallery:c}=n,{monthlyListeners:l,worldRank:d,followers:u,topCities:m}=i,g=[];return c.items.forEach((e=>{const t=e.sources.map(Vi.m),a=(0,gt.g)(t,{desiredLabel:"large",desiredSize:600});a&&g.push(a)})),(0,R.jsx)(Wi.y,{artistUri:r,avatarImages:n.avatarImage?.sources,name:a.name,bio:a.biography?.text,bioSource:a.biography?.type,worldRank:d||0,isOpen:!0,closeModal:()=>{e((0,Z.lM)())},images:g,externalLinks:o,topCities:m?.items,followers:u,monthlyListeners:l})};var Ki=a(40633),qi=a(94778);function Qi({children:e,ctaUrl:t,spec:a}){const n=(0,s.wA)(),i=(0,qa.s)(),o=(0,r.useCallback)((()=>{n((0,Z.us)()),i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[n,i,a]),c=(0,r.useCallback)((()=>{i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:t}))}),[t,i,a]);return t?(0,R.jsx)(k.$,{as:"a",href:t,target:"_blank",colorSet:"invertedLight",iconTrailing:qi.p,onClick:c,children:e}):(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:o,children:e})}function Yi({children:e,onClick:t}){return e?(0,R.jsx)(y.H,{onClick:t,semanticColor:"textSubdued",children:e}):null}var Ji=a(69445);const $i="NxTiDyoRCvpiMZga0txl",Zi="YQEvA2GajE9nCaNVxwuq",Xi="F12mp8xs0gc5ri9361Ap",eo=()=>{const e=(0,s.wA)(),{spec:t,logger:a}=(0,ja.r)(Ki.M,{}),{consumptionCapExplanation:n,isOpen:i}=(0,s.d4)((e=>e.ui.bookConsumptionCapModal)),c=(0,r.useCallback)((()=>{e((0,Z.us)()),a.logInteraction(t.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,a,t]),l=(0,r.useCallback)((t=>{t.data.explanation?e((0,Z._3)(t.data.explanation)):e((0,Z.us)())}),[e]);return(0,Ji.l)(l),(0,R.jsx)(ar.A,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:c,contentLabel:n.title,isOpen:i,children:(0,R.jsx)("div",{className:$i,children:(0,R.jsxs)("div",{className:Zi,children:[(0,R.jsx)(o.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:n.title}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:n.body}),(0,R.jsxs)("div",{className:Xi,children:[(0,R.jsx)(Qi,{ctaUrl:n.ctaUrl,spec:t,children:n.cta}),(0,R.jsx)(Yi,{onClick:c,children:n.dismiss})]})]})})})};var to=a(62443),ao=a(52505),ro=a(19532),so=a(58206),no=a(99697),io=a(63809);const oo=r.memo((function(){const{spec:e,logger:t}=(0,ja.r)(to.w,{}),a=(0,s.wA)(),{data:n}=(0,s.d4)((e=>e.ui.authorAboutDialog)),i=(0,r.useCallback)((()=>{const r=e.closeButtonFactory().hitUiHide();t.logInteraction(r),a((0,Z.Jc)())}),[a,t,e]);if(!n)return null;const{name:c,bio:l="",images:d=[]}=n;return(0,R.jsxs)(ao.P,{name:c,closeModal:i,isOpen:!0,children:[(0,R.jsx)(ro.Z,{images:d}),(0,R.jsx)("div",{className:io.A.content,children:(0,R.jsx)("div",{className:io.A.bioContainer,children:l?(0,R.jsx)(o.E,{as:"div",variant:"bodyMedium",className:io.A.bio,dir:"auto",children:(0,R.jsx)(no.y,{source:l,LinkComponent:so.N,onLinkClick:i})}):null})})]})}));var co=a(8143),lo=a(16018),uo=a(28754);const mo=(0,r.lazy)((async()=>{const{DebugWindowContents:e}=await Promise.all([a.e(3277),a.e(340),a.e(349),a.e(8573),a.e(983)]).then(a.bind(a,10058));return{default:e}})),go=()=>{const{handle:e,show:t}=(0,lo.j)();return(0,fa.x)(Ra.W.SHOW_DEBUG_WINDOW,(()=>{t()})),null!==e?(0,co.createPortal)((0,R.jsx)(uo.IF,{handle:e,children:(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(mo,{})})}),e.document.body):null};var po=a(47997);const ho=({uri:e,onConfirm:t,onCancel:a,remoteDeviceInfo:n})=>{const i=(0,qa.s)(),o=(0,r.useMemo)((()=>(0,po.c)()),[]);(0,r.useEffect)((()=>{i.logImpression(o.impression())}),[i,o]);const c=(0,s.wA)();return(0,R.jsx)(de.T,{"aria-label":l.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:l.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:n?l.Ru.get("web-player.download.remove-download-confirmation-dialog.message-remote",n.deviceName):l.Ru.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:()=>{t(),c((0,Z.Kf)()),i.logInteraction(n?o.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:e,remoteDeviceId:n.deviceId,remoteDeviceType:n.deviceType.toString(),remoteClientPlatform:n.clientPlatform.toString()}):o.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},onClose:()=>{a(),c((0,Z.Kf)()),i.logInteraction(o.cancelButtonFactory().hitUiHide())},confirmText:l.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:l.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:l.Ru.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var bo=a(83709),Ro=a(88518),fo=a(51365),xo=a(76706),yo=a(43453),Eo=a(47290),vo=a(82221),ko=a(51174),So=a(23581),jo=a(74005),wo=a(81594);const No=({onChangePermission:e,onRemoveMember:t,onLeave:a,member:r,capabilities:s})=>(0,R.jsxs)(dr.W,{children:[s.canAdministratePermissions&&"VIEWER"===r.permissionLevel&&(0,R.jsx)(ur.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("CONTRIBUTOR"),leadingIcon:(0,R.jsx)(jo.u,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:l.Ru.get("contextmenu.make-collaborator")})}),s.canAdministratePermissions&&"CONTRIBUTOR"===r.permissionLevel&&(0,R.jsx)(ur.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("VIEWER"),leadingIcon:(0,R.jsx)(jo.u,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:l.Ru.get("contextmenu.make-listener")})}),s.canAdministratePermissions&&(0,R.jsx)(ur.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>t(),leadingIcon:(0,R.jsx)(wo.r,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:l.Ru.get("contextmenu.remove-user-from-playlist")})}),s.canCancelMembership&&(0,R.jsx)(ur.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>a(),leadingIcon:(0,R.jsx)(wo.r,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:l.Ru.get("contextmenu.leave-playlist")})})]});var Co=a(73156);const Oo="uv2sbcK86mvObEP6I6hA",Io="biDFn_kFEWlTdVmGaI4c",_o="EW1t5mbo9hvxGC_ptS6k",To="qEJiFwRQbUiOdb9xXQIa",Ao="SexldtxY9c9V6RANcuod",Lo="zW45u2gfu8HHBqbm745Z",Do="vxjT7DTxVfyAxy3WcErT",Po="llgv1BhpY3BwLUvcQ3Hx",Uo="aCyb8gmETLFf6lQmJs2v",Mo="ZKrl2b1JEsPzkUo5X9hG",Bo="gaPaX1jusmGCAKSG5L7N",Fo="Nhe2Q_5EbptALoVW3V4K",Go="s9rTnCluVsYXlqj5OdMg",zo="FJrwM8ylEu9MfQEclH24",Wo="olUpKnRVm_c2P5yQwddx",Vo=({uri:e,member:t,capabilities:a,isCurrentUser:n})=>{const i=(0,s.wA)(),[c,d]=(0,r.useState)(!1),{changeMemberPermission:u,removeMember:m}=(e=>{const t=(0,Co.a)(),a=(0,r.useCallback)((async(a,r)=>{await t.setMemberPermission(e,a,r)}),[t,e]),s=(0,r.useCallback)((async a=>{await t.removeMember(e,a)}),[t,e]),n=(0,r.useCallback)((async a=>{await t.setBasePermission(e,a)}),[t,e]);return{uri:e,changeMemberPermission:a,removeMember:s,changeBasePermission:n}})(e),g=(0,r.useCallback)((e=>{t.user&&(u(t.user.username,e),d(!0))}),[u,t.user]),p=(0,r.useCallback)((()=>{t.user&&(m(t.user.username),d(!0))}),[t.user,m]),h=(0,r.useCallback)((()=>{i((0,Z.aP)(e))}),[i,e]),b=!t.isOwner&&(a?.canAdministratePermissions||a?.canCancelMembership&&n);let f="CONTRIBUTOR"===t.permissionLevel?l.Ru.get("permissions.collaborator"):l.Ru.get("permissions.listener");return t.isOwner&&(f=l.Ru.get("permissions.creator")),b&&a?(0,R.jsx)(lr.b,{renderInline:!0,menu:(0,R.jsx)(No,{onChangePermission:g,onRemoveMember:p,onLeave:h,capabilities:a,member:t}),children:(e,t,a)=>(0,R.jsxs)("button",{className:v()(Go,zo,{[Wo]:c}),onClick:t,ref:a,type:"button","data-testid":"permissions-menu",children:[(0,R.jsx)(o.E,{variant:"bodySmall",children:f}),e?(0,R.jsx)(ko.J,{size:"small"}):(0,R.jsx)(So.y,{size:"small"})]})}):(0,R.jsx)(o.E,{variant:"bodySmall",className:Go,children:f})},Ho=({member:e,playlistUri:t,username:a,capabilities:r,onClose:s})=>{if(!e.user)return null;const n=a===e.user.username,i=n&&e.user.displayName?l.Ru.get("permissions.current-user-name",e.user.displayName):e.user.displayName;return(0,R.jsxs)("div",{className:Po,children:[(0,R.jsxs)("div",{className:Uo,children:[(0,R.jsx)(yo.e,{label:e.user.displayName,images:e.user.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:32,userIconSize:"small"}),(0,R.jsxs)("div",{className:Mo,children:[(0,R.jsx)(Eo.h,{menu:(0,R.jsx)(vo.B,{uri:e.user.uri}),children:(0,R.jsx)(so.N,{title:i??e.user.username,to:e.user.uri,dir:"auto",onClick:s,children:(0,R.jsx)(o.E,{variant:"bodySmallBold",children:i})})}),e.songsAdded>0&&(0,R.jsx)(o.E,{className:Bo,variant:"marginal",children:l.Ru.get("permissions.songs-added",e.songsAdded)})]})]}),(0,R.jsx)(Vo,{uri:t,member:e,capabilities:r,isCurrentUser:n})]},e.user.uri)};const Ko=({isPublicPlaylist:e})=>(0,R.jsx)("div",{className:Ao,children:e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ro.d,{size:"small"}),(0,R.jsx)(o.E,{className:Lo,variant:"marginal",children:l.Ru.get("permissions.public-playlist")})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(fo.u,{size:"small"}),(0,R.jsx)(o.E,{className:Lo,variant:"marginal",children:l.Ru.get("permissions.private-playlist")})]})}),qo=({isOpen:e,uri:t,onClose:a})=>{const n=function(e){const t=(0,Co.a)(),[a,s]=(0,r.useState)(null),n=(0,r.useCallback)(((e,t)=>{s(e||!t?null:t)}),[]);return(0,r.useEffect)((()=>t.subscribeToMembers(e,n)),[t,e,n]),a}(t),i=(0,s.d4)((({session:e})=>e?.user?.id))||null;return n?(0,R.jsx)(ar.A,{isOpen:e,onRequestClose:a,contentLabel:l.Ru.get("permissions.modal-label"),children:(0,R.jsxs)("div",{"data-testid":"playlist-permissions-modal",className:Oo,children:[(0,R.jsxs)("div",{className:Io,children:[(0,R.jsxs)("div",{className:_o,children:[(0,R.jsx)(Ko,{isPublicPlaylist:(d=n.basePermissionLevel,"VIEWER"===d||"CONTRIBUTOR"===d)}),(0,R.jsx)("button",{className:Do,onClick:a,children:(0,R.jsx)(c.M,{size:"small","aria-label":l.Ru.get("close")})})]}),(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:l.Ru.get("permissions.shared-with")})]}),(0,R.jsx)(xo.a,{className:Fo,children:(0,R.jsx)("div",{className:To,children:(0,R.jsx)("div",{children:n.members&&n.members.map((e=>(0,R.jsx)(Ho,{playlistUri:t,member:e,username:i,capabilities:n.capabilities,onClose:a},e.user?.username)))})})})]})}):null;var d};var Qo=a(80762);const Yo=()=>{const{isOpen:e,uri:t}=(0,r.useContext)(Qo.cM),a=(0,r.useContext)(Qo.VV),s=(0,r.useCallback)((()=>{a({type:"close"})}),[a]);return e&&t?(0,R.jsx)(qo,{isOpen:e,onClose:s,uri:t}):null};var Jo=a(63610);const $o="search-modal-listbox";var Zo=a(87553);const Xo="TQb3mB9R6qGsxvPnCurA",ec="NG1F0VTHk73cEJ8TNfOn",tc="QWeCmvys_7VINTbfUmGB",ac=(0,r.memo)((function(e){const{value:t,onChange:a,onKeyPress:r,hasResults:s,activeResultId:n}=e;return(0,R.jsxs)("div",{className:Xo,children:[(0,R.jsx)(Zo.C,{className:ec,"aria-hidden":!0}),(0,R.jsx)(o.E,{as:"input","data-testid":"search-modal-input",variant:"bodyMedium",className:tc,value:t,onKeyDown:r,onChange:a,placeholder:l.Ru.get("search.search-for-label"),autoFocus:!0,role:"combobox","aria-expanded":s,"aria-controls":$o,"aria-owns":$o,"aria-activedescendant":n})]})})),rc="NU8xwWC0RWBRh_PBJdJe",sc="KOpaRxg8Q8z9XEMKrRp4",nc="c4hmXDjs2Dv8n3VCLz1g",ic=({canOpen:e,canPlay:t,canSelect:a})=>e||t||a?(0,R.jsxs)("div",{className:rc,children:[(0,R.jsx)(uc,{isActive:a,children:(0,R.jsx)(oc,{})}),(0,R.jsx)(uc,{isActive:e,children:(0,R.jsx)(cc,{})}),(0,R.jsx)(uc,{isActive:t,children:(0,R.jsx)(lc,{})})]}):null;function oc(){return l.Ru.get("web-player.search-modal.instructions.navigate",{keys:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(dc,{children:"â†‘"}),(0,R.jsx)(dc,{children:"â†“"})]})})}function cc(){return l.Ru.get("web-player.search-modal.instructions.open",{keys:(0,R.jsx)(dc,{children:"Enter"})})}function lc(){return l.Ru.get("web-player.search-modal.instructions.play",{keys:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(dc,{children:"Shift"}),(0,R.jsx)(dc,{children:"Enter"})]})})}function dc({children:e}){return(0,R.jsx)(o.E,{as:"kbd",variant:"bodySmall",className:nc,semanticColor:"textBase",children:e})}function uc({children:e,isActive:t}){return(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:v()({[sc]:!t}),children:e})}const mc=new Ze.l("searchModalResults","query","34f48bca447d3420a9310ea259bfd4b89d2f7a3608c461d5c121d6232379fb22",null);var gc=a(43943);const pc=(0,r.memo)((function(e){const{query:t,onResults:a,numberOfResults:s}=e,n=(0,ls.n)(),{data:i,error:o,loading:c}=(l={limit:s,numberOfTopResults:s,offset:0,searchTerm:t,includeAudiobooks:!0},d={gcTime:18e5,staleTime:3e5,enabled:t.trim().length>0&&n},(0,Xe.I)(mc,l,d));var l,d;return(0,r.useEffect)((()=>{const e=i?.searchV2?.topResultsV2?.itemsV2??[],r=[];for(let t=0;t<e.length;t++){const{item:a,matchedFields:s}=e[t];if("UnknownTypeWrapper"!==a.__typename&&"PreReleaseResponseWrapper"!==a.__typename&&"AuthorResponseWrapper"!==a.__typename&&a.data)switch(a.data.__typename){case"Genre":r.push({...a.data,uri:hc(a.data.uri),matchedFields:s});break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":r.push({...a.data,matchedFields:s});break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,gc.k)(a.data)}}a({query:t,error:!!o,loading:c,results:r})}),[i,o,c,a,t]),null}));function hc(e){return(0,le.o_h)(e)?e:`spotify:genre:${e}`}var bc=a(29083),Rc=a(76434),fc=a(21388),xc=a(27649),yc=a(36468),Ec=a(39721),vc=a(25710),kc=a(60790),Sc=a(45595);const jc="XUU9nKfSDuNkadzFz_OQ",wc=({children:e})=>(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:jc,children:e}),Nc=e=>`search-modal-result-${e}`;var Cc=a(36499);const Oc="ssvI7dCe2ZiLKChmS8tG",Ic="mvQT8XMnLMFMikaUfHqO",_c="hEPIW_7QH4X3m4QrRPsP",Tc="bFrnKMII6LDDL6NbaYnZ",Ac="dJtLqNpbjiE4oggCyFSQ",Lc="mx8mS84MYJW_9iHyXNJu",Dc=e=>{const{position:t,uri:a,title:s,image:n,color:i,subtitle:c,isSelected:l,onClick:d,tag:u,label:m,menu:g}=e,p=(0,r.useRef)(null);(0,r.useEffect)((()=>{l&&p.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[l]);const{isActive:h}=(0,Cc.l_)(a),b=(0,r.useCallback)((()=>{d({uri:a,position:t})}),[d,t,a]),f={"--position":t};return(0,R.jsx)(Eo.h,{menu:g,children:(0,R.jsxs)(so.N,{ref:p,to:a,className:v()(Oc,{[Ic]:l}),role:"option","aria-selected":l,onClick:b,id:Nc(a),style:f,tabIndex:-1,children:[(0,R.jsx)("span",{className:"hidden-visually",children:m}),(0,R.jsx)("div",{className:Tc,"aria-hidden":!0,children:(0,R.jsx)(Sc.M,{images:[{url:n,width:40,height:40}],color:i,isCircular:(0,le.ecE)(a)})}),(0,R.jsxs)("div",{className:Ac,"aria-hidden":!0,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodyMedium",className:_c,semanticColor:h?"textBrightAccent":"textBase",children:s}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:_c,semanticColor:"textSubdued",children:c})]}),(0,R.jsx)("div",{className:Lc,"aria-hidden":!0,children:(0,R.jsx)(wc,{children:u})})]})})};var Pc=a(38953),Uc=a(84785);const Mc=e=>{const{results:t,onClick:a,selectedIndex:s}=e;return(0,R.jsx)(R.Fragment,{children:t.map(((e,t)=>(0,R.jsx)(r.Fragment,{children:Bc(e,t,a,s===t)},t)))})};function Bc(e,t,a,r){switch(e.__typename){case"Album":{const s=e.artists.items.map((e=>e.profile.name)).join(l.Ru.getSeparator());return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Pc.m)(e.coverArt?.extractedColors),subtitle:s,uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.album"),label:l.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:s,type:l.Ru.get("web-player.search-modal.result.album")}),menu:(0,R.jsx)(bc.h,{uri:e.uri})})}case"Artist":return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.profile.name,image:e.visuals.avatarImage?.sources?.[0]?.url??"",color:(0,Pc.m)(e.visuals.avatarImage?.extractedColors),subtitle:"",uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.artist"),label:l.Ru.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:l.Ru.get("web-player.search-modal.result.artist")}),menu:(0,R.jsx)(Rc.t,{uri:e.uri})});case"Track":{const s=e.artists.items.map((e=>e.profile.name)).join(l.Ru.getSeparator());let n=s;if(e.matchedFields.includes(Uc.tC.Lyrics)){n=`${n} Â· ${l.Ru.get("web-player.search-modal.lyrics-match")}`}return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.albumOfTrack?.coverArt?.sources?.[0]?.url??"",color:(0,Pc.m)(e.albumOfTrack?.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.track"),label:l.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:s,type:l.Ru.get("web-player.search-modal.result.track")}),menu:(0,R.jsx)(kc.P,{uri:e.uri})})}case"Playlist":{const s="User"===e.ownerV2.data?.__typename?e.ownerV2.data.name:"",n=e.images.items.find((e=>e.sources));return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:n?.sources?.[0].url??"",color:(0,Pc.m)(n?.extractedColors),subtitle:s,uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.playlist"),label:l.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:s,type:l.Ru.get("web-player.search-modal.result.playlist")}),menu:(0,R.jsx)(Ec.W,{uri:e.uri})})}case"User":return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.avatar?.sources?.[0]?.url??"",color:(0,Pc.m)(e.avatar?.extractedColors),subtitle:"",uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.user"),label:l.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:l.Ru.get("web-player.search-modal.result.user")}),menu:(0,R.jsx)(vo.B,{uri:e.uri})});case"Genre":return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.image?.sources?.[0]?.url??"",color:(0,Pc.m)(e.image?.extractedColors),subtitle:"",uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.genre"),label:l.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:l.Ru.get("web-player.search-modal.result.genre")}),menu:(0,R.jsx)(yc.h,{uri:e.uri})});case"Episode":{const s="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,n=[e.releaseDate?.isoString?l.Ru.formatDate(new Date(e.releaseDate.isoString)):void 0,s].filter(Boolean).join(" â€¢ "),i=s?l.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:s,type:l.Ru.get("web-player.search-modal.result.episode")}):e.name;return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Pc.m)(e.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.episode"),label:i,menu:(0,R.jsx)(xc.b,{uri:e.uri})})}case"Podcast":return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Pc.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.podcast"),label:l.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:l.Ru.get("web-player.search-modal.result.podcast")}),menu:(0,R.jsx)(vc.H,{uri:e.uri})});case"Audiobook":return(0,R.jsx)(Dc,{isSelected:r,position:t,onClick:a,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Pc.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:l.Ru.get("web-player.search-modal.result.audiobook"),label:l.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:l.Ru.get("web-player.search-modal.result.audiobook")}),menu:(0,R.jsx)(fc.p,{uri:e.uri})});default:return(0,gc.d)(e)}}var Fc=a(56024),Gc=a(65882);const zc="N9tnwm0XDrt_eGJd2D2A",Wc="zZMsUUWG29PYcwWPXhOV",Vc="_kfmGT75UTPoF_D2afwa",Hc="SUOB9gChfkiToLTPl9Bc",Kc="Bn7PjpLWU6TcPCoeP98S",qc="QVqrI1qDRcHQgBn2uuWd",Qc="mXdNvIO9PYnBFoyoMyUO",Yc="Xf30G8NSPQ3pex0iD4zB",Jc="ixdB7tx1aniI9zfMECIi",$c={modal:{base:Qc,afterOpen:Yc,beforeClose:Jc},overlay:{base:Qc,afterOpen:Yc,beforeClose:Jc}},Zc=()=>{const e=(0,ue.g)(),t=(0,Fc.Nf)(),{spec:a,logger:s,UBIFragment:n}=(0,ja.r)(Jo.I,{}),i=(0,Gs.t)(a),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[g,p]=(0,r.useState)(0),[h,b]=(0,r.useState)(!1),f=!(0,ls.n)(),x=(0,r.useMemo)((()=>(0,le.o_h)(c,{parseUnknown:!0})),[c]),y=x&&x.type!==le.NQG.AD,E=(0,r.useCallback)((e=>{const t=e.target.value;t!==c&&(d(t),p(0),s.logInteraction(a.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[s,c,a]),k=(0,r.useCallback)((()=>{d(""),t({type:"CLOSE"})}),[t]),S=(0,r.useCallback)((({uri:e,position:t})=>{s.logInteraction(a.searchResultFactory({position:t}).hitUiNavigate({destination:e})),k()}),[k,s,a]),j=(0,Gc.z)(),w=(0,r.useCallback)((t=>{const a=t.key;if("ArrowUp"===a)p((e=>Math.max(e-1,0))),t.preventDefault();else if("ArrowDown"===a)p((e=>Math.min(e+1,u.length-1))),t.preventDefault();else if("Enter"===a){if(y)return e(x.toURLPath(!0)),void k();const a=u[g];if(a){const r=(0,le.o_h)(a.uri);if(t.shiftKey)el(r?.type)&&j.play({uri:a.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{const t=r?.toURLPath(!0);t&&(e(t),S({uri:a.uri,position:g}))}}t.preventDefault()}}),[y,k,S,e,j,x,u,g]),N=(0,r.useCallback)((e=>{b(e.loading),e.query===c&&m(e.results)}),[c]),C=u.length>0,O=u[g],I=O?Nc(O.uri):void 0,_=(0,le.o_h)(O?.uri),T=el(_?.type);return(0,R.jsxs)(n,{spec:a,children:[(0,R.jsx)(pc,{query:y?"":c,numberOfResults:30,onResults:N}),(0,R.jsxs)("div",{className:zc,ref:i,children:[(0,R.jsx)("div",{className:v()(Wc,{[Vc]:u.length}),children:(0,R.jsx)(ac,{value:c,onChange:E,onKeyPress:w,hasResults:C,activeResultId:I})}),(0,R.jsx)(ic,{canSelect:C&&!y,canPlay:T,canOpen:C||!!y}),c&&!y&&C&&(0,R.jsx)("div",{className:Hc,id:$o,role:"listbox","data-testid":"search-modal-results",children:(0,R.jsx)(Mc,{results:u,onClick:S,selectedIndex:g})}),!h&&c&&!C&&(0,R.jsxs)("div",{className:Kc,onClick:k,children:[(0,R.jsx)(o.E,{className:qc,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:l.Ru.get("search.empty-results-title",c)}),f&&(0,R.jsx)(o.E,{as:"p",semanticColor:"textBase",children:l.Ru.get("web-player.search-modal.offline")})]})]})]})},Xc=()=>{const{isOpen:e}=(0,Fc.Qc)(),t=(0,Fc.Nf)(),a=(0,r.useCallback)((()=>{t({type:"CLOSE"})}),[t]);return e?(0,R.jsx)(ar.A,{contentLabel:l.Ru.get("web-player.search-modal.title"),isOpen:e,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:$c,children:(0,R.jsx)(Zc,{})}):null};function el(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}const tl=()=>{const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.ui.personalizedRecommendationsErrorModal));return(0,R.jsx)(Ri.x,{headingMessage:l.Ru.get("error-dialog.generic.header"),message:l.Ru.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:l.Ru.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:()=>{e(Ka.bL.actions.close())},animated:!0,isOpen:t})};var al=a(95425);const rl="t1hN4Ju87afc5N5fDTnm",sl="kq4vSktBwa0pcc1zklAo",nl="KSUTPJtu2PnuTb_RoGQX",il=({onClose:e,handleRemove:t,primaryButtonText:a,secondaryButtonText:r,primaryButtonLabel:s=a})=>(0,R.jsxs)("div",{className:nl,children:[(0,R.jsx)(y.H,{onClick:e,semanticColor:"textSubdued","aria-label":"Cancel",children:r}),(0,R.jsx)(k.$,{"aria-label":s,autofocus:"true",onClick:t,children:a})]}),ol=({onClose:e,primaryButtonText:t,secondaryButtonText:a})=>(0,R.jsxs)("div",{className:nl,children:[(0,R.jsx)(y.H,{onClick:e,semanticColor:"textSubdued",as:"a",href:al.nw,children:a}),(0,R.jsx)(k.$,{autofocus:"true",onClick:e,children:t})]});var cl=a(19560);const ll=()=>{const e=(0,s.wA)(),{enqueueSnackbar:t}=(0,X.d)(),a=(0,cl.B)(),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{e((0,Z.MB)())}),[e]),d=(0,r.useCallback)((async()=>{try{await a.removeAllDownloads(),c(),t(l.Ru.get("desktop.settings.storage.downloads.success"))}catch(e){i(e instanceof Error?e:new Error("Error when deleting all downloads."))}}),[a,c,t]);return(0,R.jsx)(u.M,{animated:!0,className:sl,onClose:c,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,R.jsxs)("div",{className:v()("encore-light-theme",rl),children:[(0,R.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:n?l.Ru.get("error.generic"):l.Ru.get("desktop.settings.storage.downloads.dialog.heading")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:$.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?l.Ru.get("desktop.settings.storage.downloads.dialog.error"):l.Ru.get("desktop.settings.storage.downloads.dialog.text")}),n?(0,R.jsx)(ol,{onClose:c,primaryButtonText:l.Ru.get("desktop.settings.storage.close"),secondaryButtonText:l.Ru.get("desktop.settings.storage.help")}):(0,R.jsx)(il,{onClose:c,handleRemove:d,primaryButtonLabel:l.Ru.get("desktop.settings.storage.downloads.button"),primaryButtonText:l.Ru.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:l.Ru.get("desktop.settings.storage.cancel")})]})})},dl=()=>{const e=(0,s.wA)(),{enqueueSnackbar:t}=(0,X.d)(),a=(0,cl.B)(),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{e((0,Z.QK)())}),[e]),d=(0,r.useCallback)((async()=>{try{await a.removeCache(),c(),t(l.Ru.get("desktop.settings.storage.cache.success"))}catch(e){i(e instanceof Error?e:new Error("Error when clearing cache."))}}),[t,a,c]);return(0,R.jsx)(u.M,{animated:!0,className:sl,onClose:c,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,R.jsxs)("div",{className:v()("encore-light-theme",rl),children:[(0,R.jsx)(o.E,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:n?l.Ru.get("error.generic"):l.Ru.get("desktop.settings.storage.cache.dialog.heading")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:$.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?l.Ru.get("desktop.settings.storage.cache.dialog.error"):l.Ru.get("desktop.settings.storage.cache.dialog.text")}),n?(0,R.jsx)(ol,{onClose:c,primaryButtonText:l.Ru.get("desktop.settings.storage.close"),secondaryButtonText:l.Ru.get("desktop.settings.storage.help")}):(0,R.jsx)(il,{onClose:c,handleRemove:d,primaryButtonText:l.Ru.get("desktop.settings.storage.cache.button"),secondaryButtonText:l.Ru.get("desktop.settings.storage.cancel")})]})})};var ul=a(92547);const ml="KmvydY9aOuhL7pSuUhCP",gl="yfp_lJM0XpzDc1TJz6Qc",pl="rqMR6HWbOuHuIQEMFrRv",hl=()=>{const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.ui.introducingSmartShuffleModal)),a=()=>{e(Ka.cI.actions.close())};return(0,R.jsx)(ar.A,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:a,contentLabel:l.Ru.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:pl,children:(0,R.jsxs)("div",{className:ml,children:[(0,R.jsx)(ul.k,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,R.jsxs)("div",{className:gl,children:[(0,R.jsx)(o.E,{variant:"titleMedium",semanticColor:"textBase",children:l.Ru.get("web-player.smart-shuffle.introduction-modal-title")}),(0,R.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:l.Ru.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,R.jsx)(k.$,{onClick:a,children:l.Ru.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})};var bl=a(84841);var Rl=a(5236),fl=a(81138),xl=a(66566);var yl=a(36484),El=a(45851);var vl=a(46485),kl=a(19636),Sl=a(43444);var jl=a(14315),wl=a(63365),Nl=a(55),Cl=a(66225);const Ol={get DEFAULT_PLAYBACK_STUCK(){return l.Ru.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return l.Ru.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return l.Ru.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return l.Ru.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return l.Ru.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return l.Ru.get("feedback.track-not-available-in-region-import")},get DEFAULT_PLAYER_ERROR(){return l.Ru.get("feedback.track-not-available-import")},get NETWORK_ERROR(){return l.Ru.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return l.Ru.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return l.Ru.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return l.Ru.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return l.Ru.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return l.Ru.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return l.Ru.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return l.Ru.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return l.Ru.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return l.Ru.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return l.Ru.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return l.Ru.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return l.Ru.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return l.Ru.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return l.Ru.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return l.Ru.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return l.Ru.get("feedback.play-after-ad")}};function Il(e){const t=e?.item??void 0;return(0,wl.N)(t)&&t.isSkippableAd}function _l(e,t,a){switch(t.code){case jl.Z9.PLAYBACK_STUCK:return Ol.DEFAULT_PLAYBACK_STUCK;case jl.Z9.ONE_TRACK_UNPLAYABLE:case jl.Z9.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case jl.Z9.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(r=t.reasons).includes(jl.K7.NOT_AVAILABLE_IN_CURRENT_REGION)?Ol.REGION_RESTRICTED:r.includes(jl.K7.NOT_AVAILABLE_IN_NON_PREMIUM)?Ol.PREMIUM_RESTRICTED:r.includes(jl.K7.NOT_AVAILABLE_OFFLINE)?Ol.FORCED_OFFLINE_MODE:r.includes(jl.K7.USER_CAPPING_REACHED)?Ol.CAPPING_REACHED:r.includes(jl.K7.BANNED_BY_USER_ARTIST)?Ol.ARTIST_BANNED_BY_USER:r.includes(jl.K7.BANNED_BY_USER_TRACK)?Ol.TRACK_BANNED_BY_USER:r.includes(jl.K7.EXPLICIT_CONTENT_FILTERED)?Ol.EXPLICIT_CONTENT_FILTERED:Ol.DEFAULT_PLAYER_ERROR;case jl.Z9.INTERRUPT_PLAYBACK_RESTRICTED:return Ol.INTERRUPT_PLAYBACK_RESTRICTED;case jl.Z9.VIDEO_GEORESTRICTED:return Ol.VIDEO_GEORESTRICTED;case jl.Z9.VIDEO_UNSUPPORTED_CLIENT_VERSION:return Ol.VIDEO_UNSUPPORTED_CLIENT_VERSION;case jl.Z9.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return Ol.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case jl.Z9.VIDEO_COUNTRY_RESTRICTED:return Ol.VIDEO_COUNTRY_RESTRICTED;case jl.Z9.VIDEO_UNAVAILABLE:return Ol.VIDEO_UNAVAILABLE;case jl.Z9.VIDEO_CATALOGUE_RESTRICTED:return Ol.VIDEO_CATALOGUE_RESTRICTED;case jl.Z9.VIDEO_PLAYBACK_ERROR:return Ol.VIDEO_PLAYBACK_ERROR;case jl.Z9.VIDEO_UNSUPPORTED_KEY_SYSTEM:return Ol.VIDEO_UNSUPPORTED_KEY_SYSTEM;case jl.Z9.PAUSE_RESTRICTED:return t.reasons.some((e=>[jl.K7.ALREADY_PAUSED,jl.K7.NOT_PLAYING_LOCALLY].includes(e)))?null:Ol.DEFAULT_PLAYER_ERROR;case jl.Z9.RESUME_RESTRICTED:return t.reasons.includes(jl.K7.NOT_PAUSED)?null:Ol.DEFAULT_PLAYER_ERROR;case jl.Z9.PLAY_RESTRICTED:return t.reasons.includes(jl.K7.AD_DISALLOW)?Il(e)?Ol.SKIP_ADS_TO_HEAR_SONG:Ol.CANT_SKIP_ADS:null;case jl.Z9.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(jl.K7.AD_DISALLOW)?Il(e)?Ol.SKIP_AFTER_DELAY:Ol.CANT_PLAY_DURING_ADS:null;case jl.Z9.TIMEOUT:return Ol.NETWORK_ERROR;case jl.Z9.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(jl.K7.THROTTLED)?null:Ol.DEFAULT_PLAYER_ERROR;default:return function(e,t){return!(t||!e.cause||!("status"in e.cause))&&0===e.cause.status}(t,a)?Ol.NETWORK_ERROR:Ol.DEFAULT_PLAYER_ERROR}var r}var Tl=a(93402);var Al=a(11332),Ll=a(84936);var Dl=a(40638),Pl=a(95857),Ul=a(77353),Ml=a(78460);const Bl=()=>(function(){const e=(0,Gc.z)(),t=(0,ls.n)(),{currentSession:a}=(0,Cl.D)(),{enqueueSnackbar:r}=(0,X.d)(),n=(0,s.wA)();(0,ci.p)(oi.gd.ERROR,(({data:s})=>{if(s.reasons.includes(jl.K7.EXPLICIT_CONTENT_FILTERED))return void n((0,Z.Ac)());const i=e.getState(),o=_l(i,s,t);null!==o&&(a?.active&&s.code===jl.Z9.STOP_RESTRICTED||(0,Nl.d)(i?.item??void 0)||r(o))}))}(),function(){const{enqueueSnackbar:e}=(0,X.d)(),t=(0,ls.n)();(0,ci.p)(oi.gd.QUEUE_ACTION_COMPLETE,(({data:a})=>{a.action===oi.UC.ADD&&(a.error?t?((0,bl.$)("feedback_banner","error","error.generic"),e(l.Ru.get("error.generic"))):e(l.Ru.get("offline.feedback-text")):e(l.Ru.get("queue.added-to-queue")))}))}(),function(){const{enqueueSnackbar:e}=(0,X.d)(),t=(0,Rl.W)(),a=(0,Oe.m)(),r=(0,ls.n)();(0,xl.e)(fl.Lj.OPERATION_COMPLETE,(async({data:s})=>{if(s.operation===fl.sP.ADD&&!s.silent)if(s.error)r?((0,bl.$)("feedback_banner","error","error.generic"),e(l.Ru.get("error.generic"))):e(l.Ru.get("offline.feedback-text"));else try{const{name:e,images:r}=await a.getMetadata(s.uri),n=(0,gt.g)(r,{desiredSize:24});t({message:l.Ru.get("feedback.added-to-playlist-specific",e),imageSrc:n?.url})}catch{e(l.Ru.get("feedback.added-to-playlist-generic"))}}))}(),function(){const e=(0,Co.a)().getEvents(),t=(0,ls.n)(),{enqueueSnackbar:a}=(0,X.d)(),n=(0,s.d4)((e=>e.session?.user?.id));(0,r.useEffect)((()=>e.addListener(Tl.GV.OPERATION_COMPLETE,(({data:e})=>{let r;if(e.error)t?((0,bl.$)("feedback_banner","error","error.generic"),a(l.Ru.get("error.generic"))):a(l.Ru.get("offline.feedback-text"));else switch(e.operation){case Tl.mA.SET_BASE_PERMISSION:return r="VIEWER"===e.permissionLevel?l.Ru.get("feedback.playlist-made-public"):l.Ru.get("feedback.playlist-made-private"),void a(r);case Tl.mA.SET_MEMBER_PERMISSION:return r="VIEWER"===e.permissionLevel?l.Ru.get("feedback.member-made-listener"):l.Ru.get("feedback.member-made-contributor"),void a(r);case Tl.mA.REMOVE_MEMBER:return r=n===e.username?l.Ru.get("feedback.left-playlist"):l.Ru.get("feedback.removed-member"),void a(r)}}))),[n,a,t,e])}(),function(){const e=(0,Al._)().getEvents(),t=(0,ls.n)(),{enqueueSnackbar:a}=(0,X.d)();(0,r.useEffect)((()=>e.addListener(Ll.tD.OPERATION_COMPLETE,(({data:e})=>{if(!e.silent)if(e.error)t?((0,bl.$)("feedback_banner","error","error.generic"),a(l.Ru.get("error.generic"))):a(l.Ru.get("offline.feedback-text"));else switch(e.operation){case Ll.ut.ADD:return void a(l.Ru.get("web-player.aligned-curation.feedback.added-to-library"));case Ll.ut.REMOVE:return void a(l.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case Ll.ut.MOVE:return void(e.showAddConfirmation&&a(l.Ru.get("web-player.aligned-curation.feedback.added-to-library")))}}))),[a,t,e])}(),function(){const{enqueueSnackbar:e}=(0,X.d)(),t=(0,Rl.W)(),a=(0,ls.n)();(0,Sl.l)(kl.UV.OPERATION_COMPLETE,(async r=>{if(r.data.silent)return;if(r.data.error)return void(a?((0,bl.$)("feedback_banner","error","error.generic"),e(l.Ru.get("error.generic"))):e(l.Ru.get("offline.feedback-text")));const[s]=r.data.uris,n=(0,le.o_h)(s)?.type;if(n!==le.NQG.TRACK&&n!==le.NQG.LOCAL_TRACK)if(n!==le.NQG.EPISODE)e(r.data.operation===kl.tS.ADD?l.Ru.get("web-player.aligned-curation.feedback.added-to-library"):l.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));else{const e=(0,vl.dB)();if(!e)return;const a=r.data.operation===kl.tS.ADD?l.Ru.get("web-player.aligned-curation.feedback.added",e.name):l.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,gt.g)(e.images,{desiredSize:24})?.url})}else{const e=(0,vl.zK)();if(!e)return;const a=r.data.operation===kl.tS.ADD?l.Ru.get("web-player.aligned-curation.feedback.added",e.name):l.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,gt.g)(e.images,{desiredSize:24})?.url})}}))}(),function(){const e=(0,El.l)(),{enqueueSnackbar:t}=(0,X.d)();(0,r.useEffect)((()=>{const a=e.getEvents(),r=a.addListener(yl.ar.ADDED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(l.Ru.get("feedback.exclude-playlist-from-recommendations"))})),s=a.addListener(yl.ar.REMOVED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(l.Ru.get("feedback.include-playlist-in-recommendations"))}));return()=>{r(),s()}}),[t,e])}(),(()=>{const{currentSession:e}=(0,Cl.D)(),{enqueueSnackbar:t}=(0,X.d)(),a=(0,r.useRef)([]),s=(0,r.useRef)([]),n=(0,Dl.YQ)((e=>{if(e.isSessionOwner){switch(a.current.length){case 0:break;case 1:t(l.Ru.get("web-player.social-connect.toast.one-person-joined",{user:a.current[0]??""})),a.current=[];break;case 2:t(l.Ru.get("web-player.social-connect.toast.two-people-joined",{firstUser:a.current[0]??"",secondUser:a.current[1]??""})),a.current=[];break;default:t(l.Ru.get("web-player.social-connect.toast.multiple-people-joined",{user:a.current[a.current.length-1]??"",userCount:a.current.length-1})),a.current=[]}switch(s.current.length){case 0:break;case 1:t(l.Ru.get("web-player.social-connect.toast.one-person-left",{user:s.current[0]??""})),s.current=[];break;case 2:t(l.Ru.get("web-player.social-connect.toast.two-people-left",{firstUser:s.current[0]??"",secondUser:s.current[1]??""})),s.current=[];break;default:t(l.Ru.get("web-player.social-connect.toast.multiple-people-left",{user:s.current[s.current.length-1]??"",userCount:s.current.length-1})),s.current=[]}}}),3e3,{leading:!0,trailing:!0}),i=(0,r.useCallback)((({data:e})=>{null===e.isSessionOwner||e.isSessionOwner||t(l.Ru.get("web-player.social-connect.toast.ended",{user:e.hostDisplayName??""}))}),[t]),o=(0,r.useCallback)((({data:e})=>{a.current=e.users?[...a.current,...e.users]:a.current,n(e)}),[n]),c=(0,r.useCallback)((({data:e})=>{s.current=e.users?[...s.current,...e.users]:s.current,n(e)}),[n]),d=(0,r.useCallback)((({data:a})=>{e&&(e?.queueOnlyMode!==a?.queueOnlyMode&&(!1===a?.queueOnlyMode?t(e.isSessionOwner?l.Ru.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):l.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===a?.queueOnlyMode&&t(e.isSessionOwner?l.Ru.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):l.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),e?.participantVolumeControl!==a?.participantVolumeControl&&("ENABLED"===a?.participantVolumeControl?t(l.Ru.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===a?.participantVolumeControl&&t(e.isSessionOwner?l.Ru.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):l.Ru.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),u=(0,r.useCallback)((({data:e})=>{e===Ml.RG.PERMISSIONS_RESTRICTED_GENERIC&&t(l.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,Ul.J)(Pl.K.SESSION_ENDED,i),(0,Ul.J)(Pl.K.JOINED,o),(0,Ul.J)(Pl.K.LEFT,c),(0,Ul.J)(Pl.K.UPDATE,d),(0,Ul.J)(Pl.K.SESSION_MESSAGE,u)})(),null);var Fl=a(71926),Gl=a(71091),zl=a(57160);const Wl=(e,t)=>{switch(e){case zl.EL.SESSION_ENDED:return{title:l.Ru.get("web-player.social-connect.session-ended.title"),description:l.Ru.get("web-player.social-connect.session-ended.sub-title"),confirmText:l.Ru.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:Gl.gw.SESSION_ENDED};case zl.EL.ERROR:return{title:l.Ru.get("web-player.social-connect.generic-error.title"),description:l.Ru.get("web-player.social-connect.generic-error.sub-title"),confirmText:l.Ru.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:Gl.gw.ERROR};case zl.EL.END_SESSION:return{title:l.Ru.get("web-player.social-connect.end-session.title"),description:l.Ru.get("web-player.social-connect.end-session.sub-title"),confirmText:l.Ru.get("web-player.social-connect.end-session.confirm"),cancelText:l.Ru.get("web-player.social-connect.end-session.cancel")};case zl.EL.LEAVE_SESSION:return{title:l.Ru.get("web-player.social-connect.leave-session.title"),description:l.Ru.get("web-player.social-connect.leave-session.sub-title"),confirmText:l.Ru.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:l.Ru.get("web-player.social-connect.leave-session.cancel")};case zl.EL.REMOVE_PARTICIPANT:return{title:l.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:l.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:l.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,gc.k)(e),{confirmText:"",description:"",title:""}}};var Vl=a(47128);var Hl=a(24080);const Kl=({isOpen:e})=>{const t=(0,s.wA)(),{currentSession:a,deleteSession:n}=(0,Cl.D)(),{logEndJam:i}=(()=>{const{spec:e,logger:t}=(0,ja.r)(Vl.Z,{});return{logEndJam:(0,r.useCallback)((()=>{t.logInteraction(e.endButtonFactory().hitStopHostingSocialListeningSession())}),[t,e])}})(),o=(0,Tn.vh)(),{title:c,description:l,confirmText:d,cancelText:u}=Wl(zl.EL.END_SESSION),m=(0,r.useCallback)((async()=>{i(),await n(),o.send((0,Fl.c)({session_id:a?.sessionId,end_reason:Hl.Mm.QUEUE_END_SESSION_BUTTON})),t((0,Z.cQ)())}),[a?.sessionId,n,t,o,i]),g=(0,r.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,R.jsx)(de.T,{isOpen:e,onClose:g,onConfirm:m,titleText:c,"aria-label":c,descriptionText:l,confirmText:d,confirmLabel:d,cancelText:u})},ql=({isOpen:e,dialogType:t})=>{const a=(0,s.wA)(),{title:n,description:i,confirmText:o,ubiIdentifier:c}=Wl(t),{spec:l,logger:d}=(0,ja.r)(Gl.Fh,{data:{identifier:c}}),u=(0,r.useCallback)((()=>{a((0,Z.cQ)())}),[a]);return(0,r.useEffect)((()=>{e&&d.logImpression(l.impression())}),[e,d,l]),(0,R.jsx)(de.T,{isOpen:e,onClose:u,onConfirm:u,titleText:n,"aria-label":n,descriptionText:i,confirmText:o,confirmLabel:o})};var Ql=a(60294);const Yl=({isOpen:e})=>{const t=(0,s.wA)(),{currentSession:a,leaveSession:n}=(0,Cl.D)(),{logLeaveJam:i}=(()=>{const{spec:e,logger:t}=(0,ja.r)(Ql.Q,{});return{logLeaveJam:(0,r.useCallback)((()=>{t.logInteraction(e.leaveButtonFactory().hitLeaveSocialListeningSession())}),[t,e])}})(),o=(0,Tn.vh)(),{title:c,description:l,confirmText:d,cancelText:u}=Wl(zl.EL.LEAVE_SESSION),m=(0,r.useCallback)((async()=>{i(),await n(),o.send((0,Fl.c)({session_id:a?.sessionId,end_reason:Hl.Mm.QUEUE_LEAVE_SESSION_BUTTON})),t((0,Z.cQ)())}),[a?.sessionId,t,o,n,i]),g=(0,r.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,R.jsx)(de.T,{isOpen:e,onClose:g,onConfirm:m,titleText:c,"aria-label":c,descriptionText:l,confirmText:d,confirmLabel:d,cancelText:u})};var Jl=a(97321);const $l=({isOpen:e})=>{const t=(0,s.wA)(),{logRemoveClick:a}=(0,Jl.R)(),{currentSession:n,removeSessionMember:i}=(0,Cl.D)(),{memberToRemove:o}=(0,s.d4)((e=>e.ui.jamModalState)),c=o?.id??"",l=o?.displayName??"",d=n?.sessionId??"",{title:u,description:m,confirmText:g,cancelText:p}=Wl(zl.EL.REMOVE_PARTICIPANT,l),h=(0,r.useCallback)((()=>{a(c,d),c&&(i(c),t((0,Z.cQ)()))}),[a,c,d,i,t]),b=(0,r.useCallback)((()=>{t((0,Z.cQ)())}),[t]);return(0,R.jsx)(de.T,{isOpen:e,onClose:b,onConfirm:h,titleText:u,"aria-label":u,descriptionText:m,confirmText:g,confirmLabel:g,cancelText:p})},Zl=({isOpen:e,dialogType:t})=>{switch(t){case zl.EL.LEAVE_SESSION:return(0,R.jsx)(Yl,{isOpen:e});case zl.EL.END_SESSION:return(0,R.jsx)(Kl,{isOpen:e});case zl.EL.REMOVE_PARTICIPANT:return(0,R.jsx)($l,{isOpen:e});case zl.EL.SESSION_ENDED:case zl.EL.ERROR:return(0,R.jsx)(ql,{isOpen:e,dialogType:t});default:return null}};var Xl=a(35138);const ed=({size:e=60,className:t})=>(0,R.jsx)("img",{className:t,src:(0,Si.b)("images/group-session-logo.svg"),height:e,width:e,alt:l.Ru.get("web-player.social-connect.group-session-logo-alt")}),td="jav_0ddRdU3yOojQAq8w",ad="ldkgyfJfn34VlQ2thtaB",rd="cHxs16ZqqJIr8OAcIG1h",sd="tIfl33R3uqA7AyIa0OHf",nd="OEOcqiDA2mrxdAcZOXdj",id=({imageElement:e,title:t,subtitle:a,confirmButtonText:r,confirmButtonIcon:s,onConfirm:n,cancelButtonText:i,onCancel:c,disabled:l,footerText:d})=>(0,R.jsxs)("div",{className:td,children:[e,(0,R.jsxs)("div",{className:ad,children:["string"==typeof t?(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:rd,children:t}):t,"string"==typeof a?(0,R.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:a}):a]}),(0,R.jsxs)("div",{className:sd,children:[(0,R.jsx)(k.$,{onClick:n,disabled:l,iconTrailing:s,"data-testid":"jam-modal-confirm-button",children:r}),i&&(0,R.jsx)(y.H,{semanticColor:"textSubdued",onClick:c,disabled:l,children:i})]}),d&&(0,R.jsx)("div",{className:nd,children:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textSubdued",children:d})})]});var od=a(17407),cd=a(40693);const ld=({setContentLabel:e})=>{const{createSession:t,currentSession:a,deleteSession:n}=(0,Cl.D)(),i=(0,s.wA)(),o=(0,Tn.vh)(),c=(0,od.Z)(),d=(0,r.useCallback)((async()=>{await t()}),[t]);(0,r.useEffect)((()=>{d()}),[d]);const u=(0,cd.c)(),m=(0,r.useCallback)((async()=>{const e=a?.joinSessionUri;if(!e){const e=await t();if(!e?.joinSessionUri)return;o.send((0,Xl.q)({session_id:e.sessionId,device_type:u.deviceType,tech_type:u.techType,session_uri:e.joinSessionUri,session_type:Hl.dF.REMOTE}))}a?.joinSessionShortLink&&c(a?.joinSessionShortLink),i((0,Z.cQ)())}),[a?.joinSessionUri,a?.joinSessionShortLink,i,t,o,u.deviceType,u.techType,c]),g=(0,r.useCallback)((async()=>{if(a){await n()&&o.send((0,Fl.c)({session_id:a.sessionId,end_reason:Hl.Mm.INVITATION_MODAL_CANCEL_BUTTON}))}i((0,Z.cQ)())}),[a,n,i,o]),p=l.Ru.get("web-player.social-connect.invitation-modal.title");return(0,r.useEffect)((()=>{e(p)}),[p,e]),(0,R.jsx)(id,{imageElement:(0,R.jsx)(ed,{}),title:p,subtitle:l.Ru.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:l.Ru.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:m,cancelButtonText:l.Ru.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:g})};var dd=a(76680),ud=a(86585),md=a(23892),gd=a(93686),pd=a(12674),hd=a(15936),bd=a(11328),Rd=a(79464),fd=a(70961);function xd(){const{isLocalDevice:e,deviceName:t}=(0,fd.v)((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,t)=>e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice));return function(e,t){return e?l.Ru.get("web-player.social-connect.join-modal.device-name.this-computer"):t}(e,t)}var yd=a(72570),Ed=a(71726);const vd="ZKSGhtcDgnOWkcSVee3k",kd="H3UvfEgDtYPH0EL3aLwZ",Sd="LPVfHXRjItuJaNEQdlTT",jd="DD2yyz7nKDIMIXhFOAkl",wd="NQtJIrT4cCneGvSC152a",Nd="xIKQXbFbxYFpBJfoOTFw",Cd="Bs13fjYCTb2TKzoO13sA",Od="N6Pa7PkejWH5KojTMbfU",Id="Uz7GyGSJMC1Cz7Cz0G6t",_d="hN61FwfX0b6x78GshoG3",Td="NNFeYiBvoDQFKQGqt_qE",Ad="b_5KH6jkIhAV2xk50S8c",Ld=()=>(0,R.jsxs)("div",{className:_d,children:[(0,R.jsx)(gd.D,{size:"xsmall",semanticColor:"textBase"}),(0,R.jsx)(o.E,{variant:"marginalBold",semanticColor:"textBase",children:l.Ru.get("navbar.premium")})]}),Dd=({value:e,icon:t,title:a,subtitle:s,selected:n,onSelect:i,formWidth:c,setFormWidth:l})=>{const d=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{if(d.current){const e=d.current.getBoundingClientRect().width;e>c&&l(Math.min(490,e+96+8))}}),[c,l]),(0,R.jsxs)("div",{className:wd,children:[(0,R.jsxs)("label",{className:Nd,htmlFor:e,children:[t,(0,R.jsxs)("div",{className:Cd,style:{"--device-form-label-width":c-96+8+"px"},ref:d,children:[(0,R.jsx)(o.E,{variant:n?"bodyMediumBold":"bodyMedium",semanticColor:n?"textBrightAccent":"textBase",className:Id,children:a}),(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:n?"textBrightAccent":"textSubdued",className:Id,children:s})]})]}),(0,R.jsx)(pd.M,{value:e,id:e,"data-testid":e,className:Od,name:"session-type-radio",checked:n,onChange:()=>{i(e)}})]})},Pd=({sessionType:e,setSessionType:t,hostName:a})=>{const s=xd(),n=(0,fd.v)((({activeDevice:e})=>e?.type??Ed.bq.COMPUTER)),i=(0,Rd.tf)(n),o=(0,yd.l)(),[c,d]=(0,r.useState)(0);return(0,R.jsxs)(hd.g,{className:jd,style:{"--device-form-width":`${c}px`},children:[(0,R.jsx)(Dd,{value:Hl.dF.REMOTE,icon:(0,R.jsx)(i,{semanticColor:e===Hl.dF.REMOTE?"textBrightAccent":"textBase"}),title:l.Ru.get("web-player.social-connect.join-modal.continue-on-this-device",{device:s}),subtitle:l.Ru.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:t,selected:e===Hl.dF.REMOTE,formWidth:c,setFormWidth:d}),o&&(0,R.jsx)(Ld,{}),(0,R.jsx)(Dd,{value:Hl.dF.IN_PERSON,icon:(0,R.jsx)(bd.H,{semanticColor:e===Hl.dF.IN_PERSON?"textBrightAccent":"textBase"}),title:l.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:a}),subtitle:l.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:t,selected:e===Hl.dF.IN_PERSON,formWidth:c,setFormWidth:d})]})},Ud=({deviceName:e,deviceType:t,isGroup:a,isNearbyJam:r})=>{const s=(0,Rd.tf)(t,a);return(0,R.jsxs)(o.E,{variant:"bodyMediumBold",as:"div",className:v()(Ad,Td),semanticColor:r?"textBase":"textBrightAccent",children:[(0,R.jsx)(s,{}),(0,R.jsx)("span",{className:Td,children:l.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.subtitle",{deviceName:e})})]})};var Md=a(91975);const Bd="V8Nnr6rCPzkQv7MCvvKM",Fd="A8jOuTXM1E0dlFYJlV39",Gd="D0L83_9SDaOFBzZT8EKO",zd=()=>(0,R.jsx)("div",{className:td,children:(0,R.jsxs)("div",{className:Bd,children:[(0,R.jsx)(Md.Y,{as:"h3",variant:"titleSmall",className:Gd,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,t)=>(0,R.jsx)("div",{className:Fd,children:e.map(((e,t)=>(0,R.jsx)(Md.Y,{as:"div",variant:"bodySmall",className:Gd,charCount:e,isLoading:!0},`${e}-${t}`)))},`skeleton-section-${t}`)))]})});var Wd=a(11937),Vd=a(17603),Hd=a(27353);var Kd=a(74350);let qd=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({});const Qd=({modalType:e,joinToken:t,jamDeviceInfo:a,setContentLabel:n})=>{const i=(0,s.wA)(),{getSessionInfo:c,joinSession:d}=(0,Cl.D)(),{openURLWithSessionTransfer:u}=(0,va.L)(),m=(0,hi.D)(),{logJoin:g,logUpgradeToPremium:p,logCancel:h,logTakeOverSpeaker:b}=(()=>{const{spec:e,logger:t}=(0,ja.r)(Hd.U,{});return{logJoin:(0,r.useCallback)((()=>{const a=e.joinButtonFactory().hitJoinSocialListeningSession();t.logInteraction(a)}),[t,e]),logUpgradeToPremium:(0,r.useCallback)(((a,r)=>{let s;s=a?e.upsellButtonFactory().hitNavigateToExternalUri({destination:r}):e.upsellButtonFactory().hitUiNavigate({destination:r}),t.logInteraction(s)}),[t,e]),logCancel:(0,r.useCallback)((()=>{const a=e.cancelButtonFactory().hitUiHide();t.logInteraction(a)}),[t,e]),logTakeOverSpeaker:(0,r.useCallback)((a=>{const r=e.takeOverSpeakerButtonFactory().hitConnectToRemoteDevice({remoteDeviceId:a});t.logInteraction(r)}),[t,e])}})(),f=(0,Tn.vh)(),[x,y]=(0,r.useState)(null);let E;switch(e){case zl.EL.JOIN_LISTENING_SESSION:case zl.EL.JOIN_NEARBY_JAM:E=Hl.dF.IN_PERSON;break;default:E=Hl.dF.REMOTE}const[v,k]=(0,r.useState)(E),S=(0,Vd.C)(),j=S===Kd.lz.FREE&&v===Hl.dF.REMOTE;let w,N;switch(e){case zl.EL.JOIN_NEARBY_JAM:w=Kd.JO.DISCOVERED_DEVICE,N="bluetooth";break;case zl.EL.JOIN_LISTENING_SESSION:w=Kd.JO.DISCOVERED_DEVICE,N="broadcast";break;default:w=Kd.JO.DEEPLINKING,N="user"}(0,r.useEffect)((()=>{c(t).then((e=>{if(e){y(e);const t=e.sessionMembers.find((t=>t.id===e.sessionOwnerId));n(l.Ru.get("web-player.social-connect.join-modal.title",{host:t?.displayName??""}))}else i((0,Z.A9)(zl.EL.SESSION_ENDED))}))}),[i,c,t,n]);const[C,O]=(0,r.useState)(qd.NONE),I=(0,r.useCallback)((async()=>{O(qd.JOINING),g();try{const e=await d(t,w,v);e&&(O(qd.JOINED),f.send((0,ud.X)({session_id:x?.sessionId,join_type:w,join_url:e.joinSessionUri,participation_mode:v,discovery_methods:[N]})),S!==Kd.lz.FREE&&i((0,Z.cQ)()))}catch(e){O(qd.FAILED),e instanceof Error&&f.send((0,ud.X)({session_id:x?.sessionId,error_category:e.name,error_data:e.message,discovery_methods:[N]})),i((0,Z.A9)(zl.EL.ERROR))}}),[N,i,f,S,d,t,w,g,x?.sessionId,v]),_=(0,ue.g)(),T=(0,hs.k)(!0),A=(0,r.useMemo)((()=>{const e=new URL(T.url);return e.searchParams.set("ref","jam"),e}),[T.url]),L=(0,r.useCallback)((()=>{let e;!1===T.isExternal?(e="/premium?ref=jam",_(e)):(e=A.href,u(e)),p(T.isExternal,e),i((0,Z.cQ)())}),[i,_,u,p,T.isExternal,A]),D=(0,r.useCallback)((()=>{e===zl.EL.JOIN_LISTENING_SESSION&&a?(m.transferPlayback(a.id,{interactionId:""}),b(a.id)):h(),i((0,Z.cQ)())}),[a,m,i,h,b,e]);if(!x)return(0,R.jsx)(zd,{});const P=x.sessionMembers.find((e=>e.id===x.sessionOwnerId)),U=x.sessionMembers.map(Wd.c);if(C===qd.JOINED&&S===Kd.lz.FREE)return(0,R.jsx)(id,{imageElement:(0,R.jsx)(md.g,{users:U,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:vd,children:l.Ru.get("web-player.social-connect.join-modal.success.title",{host:(0,R.jsx)("span",{className:kd,children:P?.displayName??""})})}),subtitle:(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Sd,children:l.Ru.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:l.Ru.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:()=>{i((0,Z.cQ)())}});const M=e===zl.EL.JOIN_LISTENING_SESSION?l.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.button-tertiary"):l.Ru.get("web-player.social-connect.join-modal.button-tertiary");let B;switch(e){case zl.EL.JOIN_LISTENING_SESSION:B=(0,R.jsx)(Ud,{deviceName:a?.name??"",deviceType:Ed.bq.SPEAKER,isGroup:a?.isGroup??!1});break;case zl.EL.JOIN_NEARBY_JAM:B=(0,R.jsx)(Ud,{deviceName:a.name,deviceType:a.type,isGroup:a.isGroup,isNearbyJam:!0});break;default:B=(0,R.jsx)(Pd,{sessionType:v,setSessionType:k,hostName:P?.displayName??""})}return(0,R.jsx)(id,{imageElement:(0,R.jsx)(md.g,{users:U,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:vd,children:l.Ru.get("web-player.social-connect.join-modal.title",{host:(0,R.jsx)("span",{className:kd,children:P?.displayName??""})})}),subtitle:B,confirmButtonText:j?l.Ru.get("web-player.social-connect.premium-upsell.confirmation-button"):l.Ru.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:j?dd.H:void 0,onConfirm:j?L:I,cancelButtonText:M,onCancel:D,disabled:C===qd.JOINING,footerText:l.Ru.get("web-player.social-connect.join-modal.privacy-notice")})};var Yd=a(54171);const Jd=({joinToken:e})=>{const t=(0,s.wA)(),{logGetAppClick:a}=(()=>{const{spec:e,logger:t}=(0,ja.r)(Yd.e,{});return{logGetAppClick:(0,r.useCallback)((()=>{const a=e.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,Di.rw)().href});t.logInteraction(a)}),[t,e])}})(),{getSessionInfo:n}=(0,Cl.D)(),[i,c]=(0,r.useState)(null),[d,u]=(0,r.useState)([]);(0,r.useEffect)((()=>{n(e).then((e=>{if(e){const t=e?.sessionOwnerId,a=e?.sessionMembers.find((e=>e.id===t)),r=e?.sessionMembers.map(Wd.c)??[];if(u(r),!a)return;c(a.displayName)}else t((0,Z.A9)(zl.EL.SESSION_ENDED))}))}),[n,e,t]);const m=(0,r.useCallback)((()=>{t((0,Z.cQ)())}),[t]),g=(0,r.useCallback)((()=>{a();const r=(0,le.MZA)(e);window.open((0,Di.rw)(r).href),t((0,Z.cQ)())}),[t,e,a]);return(0,R.jsx)(id,{imageElement:(0,R.jsx)(md.g,{users:d,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:l.Ru.get("web-player.social-connect.redirect-modal.title",{host:i??""})}),subtitle:l.Ru.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:l.Ru.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:g,cancelButtonText:l.Ru.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:m})},$d=()=>{const e=(0,s.wA)(),{isOpen:t,modalType:a,joinToken:n,jamDeviceInfo:i}=(0,s.d4)((e=>e.ui.jamModalState)),[o,c]=(0,r.useState)(null),[l,d]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{switch(d(void 0),a){case zl.EL.INVITE:c((0,R.jsx)(ld,{setContentLabel:d}));break;case zl.EL.JOIN:if(!n)throw new Error("trying to open JoinModal without providing a joinToken!");c((0,R.jsx)(Qd,{modalType:zl.EL.JOIN,joinToken:n,setContentLabel:d}));break;case zl.EL.JOIN_LISTENING_SESSION:if(!n||!i)throw new Error("trying to open JoinModal without providing a joinToken and jamDeviceInfo!");c((0,R.jsx)(Qd,{modalType:zl.EL.JOIN_LISTENING_SESSION,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case zl.EL.JOIN_NEARBY_JAM:if(!n||!i)throw new Error("trying to open JoinModal for a nearby jam without providing a joinToken and jamDeviceInfo!");c((0,R.jsx)(Qd,{modalType:zl.EL.JOIN_NEARBY_JAM,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case zl.EL.REDIRECT:if(!n)throw new Error("trying to open RedirectModal without providing a joinToken!");c((0,R.jsx)(Jd,{joinToken:n}));break;case zl.EL.LEAVE_SESSION:case zl.EL.END_SESSION:case zl.EL.REMOVE_PARTICIPANT:case zl.EL.SESSION_ENDED:case zl.EL.ERROR:c((0,R.jsx)(Zl,{isOpen:t,dialogType:a}));break;default:c(null)}}),[t,a,n,i]),a?(e=>e===zl.EL.LEAVE_SESSION||e===zl.EL.END_SESSION||e===zl.EL.REMOVE_PARTICIPANT||e===zl.EL.SESSION_ENDED||e===zl.EL.ERROR)(a)?o:(0,R.jsx)(ar.A,{isOpen:t,onRequestClose:()=>e((0,Z.cQ)()),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:l,children:o}):null},Zd=()=>null,Xd=(0,r.lazy)((async()=>{const{DeleteCommentDialog:e}=await Promise.all([a.e(4481),a.e(4483)]).then(a.bind(a,52433));return{default:e}}));var eu=a(96932),tu=a(32166);function au(e,t){if(e){const a=(0,le.o_h)(e,{parseUnknown:!0});if(a){t(a.toURLPath(!0))}else{const t=document.createElement("a");t.href=e,t.target="_blank",t.click()}}}var ru=a(28313),su=a(89760);function nu(e,t,a,r){if(e&&""===e.innerHTML){const s=function(e,t,a){const r=(0,ru.kp)();if(r){const s=r.createIframe(e,a);return s.setAttribute("data-testid","inAppMessageIframe"),s.style.borderRadius="5px",s.style.margin="auto",s.style.opacity="0",s.style.transition="opacity 150ms linear",s.addEventListener("load",(()=>{const{contentWindow:e,contentDocument:a}=s;e&&function(e){e&&e.focus()}(e),a&&(su.M.setup(a),function(e,t){const a=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=a[0],s=a[a.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&e.target===s&&(e.preventDefault(),r.focus()),e.shiftKey&&"Tab"===e.key&&s.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(a,t)),s.style.opacity="1"})),s}return null}(t,a,r);s&&e.appendChild(s)}}function iu(e,t){const a=(0,s.wA)(),n=(0,ue.g)(),i=(0,r.useCallback)((()=>{a((0,tu.yv)())}),[a]);(0,r.useEffect)((()=>{const a=t.current;return nu(a,e,i,((e,t)=>a=>{switch(a.action){case"DISMISS":default:return void e();case"URL":{const{url:r=""}=a;return au(r,t),void e()}case"EXTERNAL_URL":{const{url:e=""}=a;return void au(e,t)}}})(i,n)),()=>{!function(e){e&&(e.innerHTML="")}(a)}}),[e,i,a,t,n])}function ou({message:e}){const t=(0,r.useRef)(null);return iu(e,t),(0,R.jsx)("div",{"data-testid":"inAppMessageContainer",ref:t})}function cu(){return(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(lu,{})})}function lu(){const e=(0,n.NC)(rn.e6f),{message:t,dismissMessage:a}=function(){const e=(0,s.wA)();return{message:(0,s.d4)((e=>e.inAppMessaging?.message)),dismissMessage:(0,r.useCallback)((()=>{e((0,tu.yv)())}),[e])}}(),i=!!t&&t.format===ru.m0;return e?(0,R.jsx)(ar.A,{animated:!0,contentLabel:"In-App Message Modal",isOpen:i,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:i&&!!t&&(0,R.jsx)(ou,{message:t})}):null}var du=a(84543);const uu=(0,r.lazy)((async()=>{const{DsaModal:e}=await a.e(7294).then(a.bind(a,37294));return{default:e}})),mu=(0,r.lazy)((async()=>{const{YourSoundCapsuleModal:e}=await a.e(4574).then(a.bind(a,95025));return{default:e}})),gu=r.memo((({isDesktop:e})=>{const t=(0,n.NC)(rn.J1t,{loadingValue:!1}),a=(0,r.useRef)(null),i=(0,s.d4)((e=>e.ui.deletePlaylistDialog)),o=(0,s.d4)((e=>e.ui.deleteFolderDialog)),c=(0,s.d4)((e=>e.ui.removeFromLibraryDialog)),l=(0,s.d4)((e=>e.ui.premiumDialog)),d=(0,s.d4)((e=>e.ui.improvedSignupPromptDialog)),u=(0,s.d4)((e=>e.ui.removeDownloadsDialog)),m=(0,s.d4)((e=>e.ui.clearCacheDialog)),g=(0,s.d4)((e=>e.ui.renameFolderModal)),p=(0,s.d4)((e=>e.ui.removeDownloadConfirmationDialog)),h=(0,s.d4)((e=>e.ui.artistAboutDialog)),b=(0,s.d4)((e=>e.ui.authorAboutDialog.isOpen)),x=(0,s.d4)((e=>e.ui.yourDJUpsellDialog)),y=(0,s.d4)((e=>e.ui.dsaDialog)),E=(0,s.d4)((e=>e.ui.trackCreditsModal)),v=(0,s.d4)((e=>e.ui.changesTunaDialog)),k=(0,n.NC)(rn.wXB),S=(0,s.d4)((e=>e.ui.restrictionsModalState)),j=(0,s.d4)(du.fl),w=(0,s.d4)(du.ml);return(0,R.jsxs)(R.Fragment,{children:[i.isOpen&&(0,R.jsx)(Je.pZ,{value:"delete-playlist-modal",children:(0,R.jsx)(ve,{})}),o.isOpen&&(0,R.jsx)(Je.pZ,{value:"delete-folder-modal",children:(0,R.jsx)(pe,{})}),c.isOpen&&(0,R.jsx)(Je.pZ,{value:"delete-folder-modal",children:(0,R.jsx)(ws,{})}),l.isOpen&&(0,R.jsx)(Je.pZ,{value:"premium-modal",children:(0,R.jsx)(ks,{})}),d.isOpen&&(0,R.jsx)(zi,{uri:d.uri}),u.isOpen&&(0,R.jsx)(ll,{}),m.isOpen&&(0,R.jsx)(dl,{}),g.isOpen&&(0,R.jsx)(Ls,{name:g.name,onRename:g.handleRename}),p.isOpen&&(0,R.jsx)(ho,{...p}),h.isOpen&&(0,R.jsx)(Hi,{}),b&&(0,R.jsx)(oo,{}),x.isOpen&&(0,R.jsx)(Je.pZ,{value:"your-dj-upsell-modal",children:(0,R.jsx)(eu.tW,{})}),(0,R.jsx)($d,{}),S.isOpen&&(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(Vs,{})}),(0,R.jsx)(hl,{}),(0,R.jsx)(Za,{}),(0,R.jsx)(Ja,{}),(0,R.jsx)(tl,{}),(0,R.jsx)(eo,{}),y.isOpen&&y.item&&(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(uu,{item:y.item})}),(0,R.jsx)(kn,{}),(0,R.jsx)(mi,{}),(0,R.jsx)(Xn,{}),(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(gs,{})}),(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(Yo,{})}),(0,R.jsx)(da,{}),(0,R.jsx)(De,{}),(0,R.jsx)(Ga,{}),(0,R.jsx)(oe,{}),e&&(0,R.jsx)(we,{}),(0,R.jsx)(f,{}),(0,R.jsx)(bo.A,{languageSelectionModalRef:a}),(0,R.jsx)(cu,{}),(0,R.jsx)(ki,{}),(0,R.jsx)(xi,{}),(0,R.jsx)(J,{}),(0,R.jsx)(La,{}),(0,R.jsx)(go,{}),(0,R.jsx)(qs,{}),(0,R.jsx)(Xc,{}),(0,R.jsx)(wa,{}),(0,R.jsx)(Bl,{}),j&&!e&&(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(mu,{})}),E.isOpen&&(0,R.jsx)(qn,{}),(0,R.jsx)("div",{ref:a}),k&&v.isOpen&&(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(Je.pZ,{value:"revert-changes-tuna-modal",children:(0,R.jsx)(Zd,{})})}),w&&t&&(0,R.jsx)(bi,{}),(0,R.jsx)(ua,{}),(0,R.jsx)(Xd,{})]})}))},87144:(e,t,a)=>{a.d(t,{u:()=>o});var r=a(30758),s=a(33100),n=a(86070);const i=({renderOldExperience:e=()=>null,renderNewExperience:t=()=>null,forceNewExperience:a,property:r})=>(0,s.NC)(r)||a?t():e(),o=({suspenseFallback:e=null,renderNewExperience:t,renderOldExperience:a,forceNewExperience:s=!1,property:o})=>(0,n.jsx)(r.Suspense,{fallback:e,children:(0,n.jsx)(i,{renderNewExperience:t,renderOldExperience:a,forceNewExperience:s,property:o})})},88975:(e,t,a)=>{a.d(t,{D:()=>n});var r=a(78620),s=a(53507);function n(){return(0,s.N)(r.x)}},97321:(e,t,a)=>{a.d(t,{R:()=>i});var r=a(30758),s=a(29396),n=a(3161);const i=()=>{const{spec:e,logger:t}=(0,n.r)(s.T,{});return{logRemoveClick:(0,r.useCallback)(((a,r)=>{t.logInteraction(e.buttonRowFactory().removeButtonFactory().hitRemoveParticipant({participantId:a,sessionId:r}))}),[t,e])}}}}]);
//# sourceMappingURL=xpui-root-dialogs.js.map