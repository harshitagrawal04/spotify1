"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2807],{62807:(e,i,t)=>{t.r(i),t.d(i,{SNACKBAR_ID:()=>H,default:()=>O});var o=t(30758),a=t(73689),n=t(2514);var r=t(79252),l=t(20271),s=t(60749),d=t(69943),c=t(62764),u=t(59133),f=t(55524),p=t(32769),m=p.Ay.div.withConfig({displayName:"Body",componentId:"sc-19u46fy-0"})(["padding-inline:",";padding-block-end:",";overflow:auto;"],(0,f.po)("looser","20px"),(0,f.po)("base","16px")),g=t(9602),b=t(74483),v=p.Ay.div.attrs({role:"dialog"}).withConfig({displayName:"Dialog",componentId:"sc-18qzfns-0"})(["",";",";padding-block-start:",";inline-size:335px;overflow-wrap:break-word;"],(0,g.W)(),(function(e){return(0,b.r3)({colorSet:e.$colorSet})}),(0,f.po)("base","16px")),h=t(97660),w=p.Ay.footer.withConfig({displayName:"Footer",componentId:"sc-1w1mf9b-0"})(["align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end;padding-block:"," ",";padding-inline:",";@media (max-width:","){justify-content:center;}& > div{display:flex;min-inline-size:0;@media (max-width:","){flex-direction:column;}}a,button{&:not(:first-child){margin-inline-start:",";}@media (max-width:","){margin-inline:0;margin-block:",";&:not(:first-child){margin-inline-start:0;}}}"],(0,f.po)("tighter-4","4px"),(0,f.po)("tighter-2","8px"),(0,f.po)("looser","20px"),h.eA,h.eA,(0,f.po)("looser-2","32px"),h.eA,(0,f.po)("tighter-4","4px")),x=t(44004),y=t(86403),S=(0,p.Ay)(x.E).attrs({forwardedAs:"h1",variant:"bodyMediumBold"}).withConfig({displayName:"Title",componentId:"sc-i526nw-0"})(["padding-block-end:",";padding-inline:",";",";"],(0,f.po)("tighter-2","8px"),(0,f.po)("looser","20px"),(function(e){return e.$hasBorder&&(0,y.AH)(["border-block-end:1px solid var(--decorative-subdued,",");"],n.zQ[e.$colorSet].decorative.subdued)})),k=t(45020),A=["dialogTitle","dialogTitleId","id","body","footer","className","colorSet","aria-label"],T=o.forwardRef((function(e,i){var t=e.dialogTitle,a=e.dialogTitleId,r=e.id,l=e.body,s=e.footer,f=e.className,p=e.colorSet,g=void 0===p?"base":p,b=e["aria-label"],h=(0,c.A)(e,A),x=r&&"".concat(r,"-title")||a;t&&x||b||(0,k.R8)("Warning: The DialogAlert component must have dialogTitle and an id or an aria-label to be accessible.");var y=(0,o.useState)(!1),T=(0,d.A)(y,2),N=T[0],R=T[1],I=r&&"".concat(r,"-body");return o.createElement(v,Object.assign({ref:i,className:(0,n.Ju)(g,f),"aria-label":b,"aria-describedby":I,"aria-labelledby":!b&&t?x:void 0,id:r,$colorSet:g},h,{"data-encore-id":u.j.DialogAlert}),t&&o.createElement(S,{id:x,$hasBorder:N,$colorSet:g},t),o.createElement(m,{id:I,onScroll:function(e){return R(e.target instanceof HTMLElement&&0!==e.target.scrollTop)}},l),s&&o.createElement(w,null,s))})),N=t(88019);const R="dRD7dgAMZVRuTdelaf6B",I="sFr9SHK1H3ZYdz2_jWqY",C="AckhtqapSIpyTPpQGw7y";var E=t(86070);const _="dialog-robot";const j=()=>{const[e,i]=(0,o.useState)(!0);return e?(0,E.jsx)(T,{"data-testid":_,id:_,"aria-label":"Dialog robot",dialogTitle:r.Ru.get("user-fraud-verification.dialog-alert.title"),colorSet:"invertedLight",className:R,body:(0,E.jsx)(x.E,{as:"p",children:(t=r.Ru.get("user-fraud-verification.dialog-alert.describe"),a=e=>(0,E.jsx)(s.N_,{to:"/playlist/37i9dQZF1DWUcRrhkfhG22",className:I,children:e},e),t.split(/(\{0\}.*)\{1\}/).map((e=>e.startsWith("{0}")?a(e.split("{0}")[1]):e)))}),footer:(0,E.jsx)(N.$,{className:C,onClick:()=>i(!1),children:r.Ru.get("user-fraud-verification.dialog-alert.ok")})}):null;var t,a};var $=t(29879),D=t(21061),B=t(45127),F=t(68265),V=t(6805),W=t(82786);var z=t(70616);const H="snackbar-user-fraud-verification",O=({verificationId:e})=>{const i=(0,o.useRef)(Date.now()),[t,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[u,f]=(0,o.useState)(!1),p=(0,B.vh)(),m=(()=>{const e=(0,B.vh)(),{mutate:i}=(0,$.n)({mutationFn:e=>{const i=F.n.getInstance();return(0,V.s)(i,e)},onError:(i,t)=>{e.send((0,D.D)({id:t,method:"IN_APP_VERIFICATION_V0",error_message:i instanceof W.O?i.message:null,http_method:"put",http_path:`/verification/${t}`}))}});return i})(),{isTrustedRef:g,isTrustedFn:b}=(0,z.d)(),v=async(t,o)=>{const a=Date.now()-i.current,{type:n}=o;await b(o),p.send({name:"ClientVerificationCompleted",environments:["browser","desktop"],data:{id:e,method:"IN_APP_VERIFICATION_V0",action:t,interaction_details:{reaction_time:`${a}`,event_triggered:JSON.stringify({type:n,isTrusted:g.current})}}}),e&&m(e)};return d?null:u?(0,E.jsx)(j,{}):t?(0,E.jsx)(a.qb,{"data-testid":H,className:(0,n.Ju)("announcement"),showSnackbar:!0,children:r.Ru.get("user-fraud-verification.snackbar.message")}):(0,E.jsx)(l.T,{"aria-label":r.Ru.get("user-fraud-verification.confirm-dialog.title"),titleText:r.Ru.get("user-fraud-verification.confirm-dialog.title"),descriptionText:r.Ru.get("user-fraud-verification.confirm-dialog.description"),onConfirm:e=>{v("human",e),s(!0)},onClose:e=>{v("robot",e),f(!0)},onOutside:e=>{v("robot",e),c(!0)},confirmText:r.Ru.get("user-fraud-verification.confirm-dialog.confirm"),confirmLabel:r.Ru.get("user-fraud-verification.confirm-dialog.label"),cancelText:r.Ru.get("user-fraud-verification.confirm-dialog.cancel")})}},73689:(e,i,t)=>{t.d(i,{qb:()=>v});var o=t(69943),a=t(62764),n=t(30758),r=t(59133),l=t(2514),s=t(44004),d=t(97660),c=t(74483),u=t(55524),f=t(53589),p=t(32769),m=t(86403),g=p.Ay.div.withConfig({displayName:"Container",componentId:"sc-eij2zk-0"})(["",""],(function(e){var i=e.$colorSet,t=e.$isVisible;return(0,m.AH)([""," padding-block:",";padding-inline:",";overflow-wrap:break-word;text-align:center;position:fixed;overflow-x:hidden;text-overflow:ellipsis;z-index:",";bottom:48px;.docs-story{position:absolute;}@media (max-width:","){inset-inline:8px;}@media (min-width:","){margin-inline:auto;inset-inline:0;width:max-content;}",""],(0,c.Lw)({maxWidth:"384px",colorSet:i}),(0,u.po)("tighter","12px"),(0,u.po)("looser-2","32px"),f.Bd,d.eA,d.Dg,t?(0,m.AH)(["transition:opacity var(--productive-enter);visibility:visible;opacity:1;"]):(0,m.AH)(["transition:opacity var(--productive-exit),visibility 0s var(--productive-exit-duration);visibility:hidden;opacity:0;"]))})),b=["onExited","colorSet","showSnackbar","className","children"],v=n.forwardRef((function(e,i){var t=e.onExited,d=e.colorSet,c=void 0===d?"base":d,u=e.showSnackbar,f=e.className,p=e.children,m=(0,a.A)(e,b),v=(0,n.useState)(!1),h=(0,o.A)(v,2),w=h[0],x=h[1];return void 0===u&&console.warn('Warning: If you are not conditionally rendering Snackbar within an aria-live region (wrapping element with role="status") the component will be inaccessible on Windows operating systems. Please use the showSnackbar prop to conditionally render Snackbar. For guidance on how to implement this, refer to our Snackbar Accessibility documentation: https://encore-web.spotify.net/?path=/docs/components-snackbar--accessibility'),(0,n.useEffect)((function(){if(void 0===u){x(!0);var e=setTimeout((function(){x(!1),t&&t()}),5e3);return function(){return clearTimeout(e)}}u?x(!0):(x(!1),t&&t())}),[u,t]),n.createElement("div",{role:"status"},n.createElement(g,Object.assign({ref:i,className:(0,l.Ju)(c,f),$colorSet:c,$isVisible:w,"data-encore-id":r.j.Snackbar},m),n.createElement(s.E,{variant:"bodySmall",semanticColor:"textBase"},p)))}))}}]);
//# sourceMappingURL=2807.js.map