"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2183],{3409:(t,n,e)=>{e.d(n,{A:()=>o});const o={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",lyricsCinemaVisible:"sgQuNaOh5Eu6vnzh3eoh",nonDisplayedArea:"KJNUWtMTBWtQrmsas64b",Container:"F3qS5Fne4ECzEWyFeJ5S",Controls:"dS_1_x4lBrx_vX9AMg6Q",Content:"mC8gFZzy9ZRO5c61MeuO"}},5106:(t,n,e)=>{e.d(n,{r:()=>_});var o=e(30758),i=e(62411),a=e(74520),r=e(84955),s=e(58615),c=e(82843),l=e(49662),p=e(64232),u=e(66108),h=e(39736),d=e(57160),m=e(3409);function _(){const t=(0,i.d4)(l.u),n=(0,i.wA)(),{setLeftSidebarState:e}=(0,s.ae)(),{mainContentRef:_,lyricsCinemaRef:L,rightSidebarRef:A,topBarRef:y}=(0,r.JT)(),{isActive:g,panelSend:C}=(0,p.AI)(h.Z.NowPlayingView);return{mode:t,setMode:(0,o.useCallback)((t=>{t===d.YU.cinema&&g?(L.current?.classList.add(m.A.lyricsCinemaVisible),_.current?.classList.add(m.A.nonDisplayedArea),A.current?.classList.add(m.A.nonDisplayedArea),y.current?.setAttribute("inert","true"),e(s.ZS.COLLAPSED),g||C(u.$S.NPV_BUTTON_CLICK)):(L.current?.classList.remove(m.A.lyricsCinemaVisible),_.current?.classList.remove(m.A.nonDisplayedArea),A.current?.classList.remove(m.A.nonDisplayedArea),y.current?.removeAttribute("inert"),(0,a.I)("NPV_OPEN_CINEMA_LYRICS"),g||C(u.$S.NPV_BUTTON_CLICK)),n((0,c.gh)(t))}),[g,n,L,_,A,y,e,C])}}},16201:(t,n,e)=>{e.d(n,{Q:()=>a});var o=e(30758),i=e(18538);function a(t){var n,e,a,r,s,c=t.size?i.$Z[t.size]:t.iconSize,l=(0,i._C)([{size:16,svgContent:"<path d='M14.55 1c.8 0 1.45.65 1.45 1.45V7h-1.5V2.5H2.595L5.5 5.406V4.021a.75.75 0 0 1 1.5 0v3.946H3.055a.75.75 0 0 1 0-1.5H4.44L1.5 3.527V13.5h5.507V15H1.45C.65 15 0 14.35 0 13.55V2.45C0 1.65.65 1 1.45 1h13.1z'/><path d='M16 9.757a.75.75 0 0 0-.75-.75H9.325a.75.75 0 0 0-.75.75v4.493c0 .414.336.75.75.75h5.925a.75.75 0 0 0 .75-.75V9.757z'/>"},{size:24,svgContent:"<path d='M3 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h18a2 2 0 0 1 2 2v7.17c-.313-.11-.65-.17-1-.17h-1V5H4.092L8.5 9.406V7.44a.75.75 0 0 1 1.5 0v4.527H5.472a.75.75 0 0 1 0-1.5h1.966L3 6.029V19h8v1c0 .35.06.687.17 1H3z'/><path d='M14 21h8a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z'/>"}],c||24),p=null!==(n=t.autoMirror)&&void 0!==n&&n;return o.createElement(i.In,Object.assign({},t,{autoMirror:p,viewBox:"0 0 ".concat(l.size," ").concat(l.size),dangerouslySetInnerHTML:{__html:"".concat((r=t.title,s=t.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((e=t.desc,a=t.descId,e?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(e,"</desc>"):"")).concat(l.svgContent)}}))}},18466:(t,n,e)=>{e.d(n,{X:()=>s});const o="music",i="2.0.1",a="default",r="15.2.1";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-npv-lyrics"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}showLyricsButtonFactory(){return new c.ShowLyricsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}cinemaModeButtonFactory(){return new c.CinemaModeButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}minimizeCinemaModeButtonFactory(){return new c.MinimizeCinemaModeButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}closeLyricsButtonFactory(){return new c.CloseLyricsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ShowLyricsButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:e}){this._path=t.concat({name:"show_lyrics_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:o,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:o,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CinemaModeButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:e}){this._path=t.concat({name:"cinema_mode_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:o,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:o,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.MinimizeCinemaModeButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:e}){this._path=t.concat({name:"minimize_cinema_mode_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:o,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:o,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CloseLyricsButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:e}){this._path=t.concat({name:"close_lyrics_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:o,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={}))},67490:(t,n,e)=>{e.d(n,{LyricsCinemaModeContainer:()=>x});var o=e(8143),i=e(18587),a=e(76706),r=e(84955),s=e(30758),c=e(62411),l=e(16201),p=e(66973),u=e(18466),h=e(79252),d=e(76458),m=e(14806),_=e(5106),L=e(57160),A=e(89323),y=e(3161),g=e(3409),C=e(86070);const b=()=>{const{spec:t,logger:n}=(0,y.r)(u.X,{}),e=(0,c.wA)(),{setMode:o}=(0,_.r)(),i=(0,s.useRef)(null);return(0,A.i)({ref:i,preventScroll:!0}),(0,s.useEffect)((()=>{const t=t=>{"Escape"===t.key&&o(L.YU.npv)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[e,o]),(0,C.jsxs)("div",{className:g.A.Controls,children:[(0,C.jsx)(m.R,{}),(0,C.jsx)(d.D,{focus:!0,ref:i,label:h.Ru.get("web-player.now-playing-view.minimize.lyrics"),onClick:()=>{o(L.YU.npv),n.logInteraction(t.minimizeCinemaModeButtonFactory().hitUiHide()),n.logImpression(t.minimizeCinemaModeButtonFactory().impression())},children:(0,C.jsx)(l.Q,{size:"small"})}),(0,C.jsx)(d.D,{focus:!0,label:h.Ru.get("web-player.now-playing-view.close.lyrics"),onClick:()=>{o(L.YU.none),n.logInteraction(t.closeLyricsButtonFactory().hitUiHide())},children:(0,C.jsx)(p.M,{size:"small"})})]})};var f=e(98429),V=e(85387);var v=e(92505),w=e(1263);const M=()=>{const{mode:t,setMode:n}=(0,_.r)(),{lyricsCinemaRef:e}=(0,r.JT)();!function(){const{pathname:t}=(0,V.zy)(),{mode:n,setMode:e}=(0,_.r)();(0,s.useEffect)((()=>{n===L.YU.cinema&&e(L.YU.npv)}),[t])}();const{item:i}=(0,v.o)((t=>({item:t?.item?.type})));return t!==L.YU.cinema?null:(i&&i===w.c.TRACK||n(L.YU.npv),e.current?(0,o.createPortal)((0,C.jsxs)("div",{className:g.A.Container,children:[(0,C.jsx)(b,{}),(0,C.jsx)(a.a,{className:g.A.Content,children:(0,C.jsx)(f.A,{format:"cinema"})})]}),e.current):(console.error("No container found for cinema video!"),null))},x=()=>(0,C.jsx)(i.s,{children:(0,C.jsx)(M,{})})}}]);
//# sourceMappingURL=dwp-lyrics-cinema-mode-container.js.map