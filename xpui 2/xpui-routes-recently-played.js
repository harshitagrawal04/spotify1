"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5663],{2245:(e,t,n)=>{n.d(t,{R:()=>A});var i=n(30758),l=n(97500),s=n.n(l),a=n(62798),r=n(73146),c=n(38756),o=n(33663),d=n(14422),u=n(16859),m=n(51283);const h="C3jVNGQUUZcUp5kTEOC0",p="pdLDCowVOiUIfeu9hihi",g="Sm3POgzbjs7wFj7tyYNh",f="vZSm_8xsDxBqMzp1tqmn",x="NXBXbVfJboNI6xdrNIDB",C="bF2GZTmgrRQLsrDcIZXd",S="qI009QzTkvisAXqhbw74",v="qIb0IOmZs9KwEeOkpvg1";var I=n(86070);const b=(0,i.memo)((({title:e,titleUri:t,titleMediaCircle:n,subtitle:l,pretitle:o,titleMedia:u,trailing:m,collapsable:b,children:A,className:N="",testId:E="component",id:y,seeAllUri:j,seeAllLabel:w,alwaysShowSeeAll:T=!1,showSeeAll:M=!0,onClickShelfTitle:R,onClickShelfSeeAll:O,elementRef:_,renderSubHeader:U,withEncoreCards:k=!0})=>{const L=(0,i.useRef)(null),B=!!M&&(T||M),D=b?{"data-shelf-collapsable":!0}:{},[G,H]=(0,i.useState)(!0),z=(0,d.W)();(0,i.useLayoutEffect)((()=>{if(L.current){const e=(0,r.X)(L.current,z);e?L.current.removeAttribute("data-shelf-notatedge"):L.current.setAttribute("data-shelf-notatedge","true"),H(e)}}),[_,z]);const P=G?"0px var(--margin, 0px)":"0px";return(0,I.jsxs)("section",{ref:e=>{L.current=e,"function"==typeof _&&_(e)},className:s()(N,h,{[g]:k}),"data-shelf":"carousel","data-testid":`${E}-shelf`,"aria-label":e??"",...D,children:[e&&(0,I.jsx)("div",{className:f,children:(0,I.jsx)(c.k,{seeAllUri:j,seeAllLabel:w,pageId:y,showSeeAll:B,onClickTitle:R,onClickSeeAll:O,title:e,titleUri:t,subtitle:l,pretitle:o,titleMedia:u,trailing:m,titleMediaCircle:n})}),U&&(0,I.jsx)("div",{className:x,children:U()}),(0,I.jsx)(a.FN,{className:p,chevronsClassName:v,scrollContentClassName:S,scrollerClassName:C,scrollingMethod:a.Hv.SNAP,scrollPadding:P,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:a.C_.ON_HOVER,edgeGradients:a.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:A})]})})),A=({index:e,logShelfImpressions:t=!1,...n})=>{const{seeAllUri:i,id:l}=n,{onClickShelfTitle:s,onClickShelfSeeAll:a,spec:r}=(0,o.w)({seeAllUri:i,index:e,id:l}),c=(0,m.t)(r,t);return(0,I.jsx)(u.r,{spec:r,children:(0,I.jsx)(b,{...n,elementRef:c,onClickShelfTitle:s,onClickShelfSeeAll:a})})}},23507:(e,t,n)=>{n.d(t,{E:()=>s});var i=n(30758),l=n(18538);function s(e){var t,n,s,a,r,c=e.size?l.$Z[e.size]:e.iconSize,o=(0,l._C)([{size:16,svgContent:"<path d='M3.75 0A1.75 1.75 0 0 0 2 1.75v12.952c0 1.051 1.22 1.633 2.037.972l3.962-3.208 3.943 3.204c.817.663 2.038.082 2.038-.97V1.75A1.75 1.75 0 0 0 12.23 0H3.75z'/>"},{size:24,svgContent:"<path d='M7 1a3 3 0 0 0-3 3v17.167c0 1.448 1.657 2.27 2.81 1.393L12 18.612l5.19 3.948c1.153.876 2.81.055 2.81-1.393V4a3 3 0 0 0-3-3H7z'/>"}],c||24),d=null!==(t=e.autoMirror)&&void 0!==t&&t;return i.createElement(l.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((a=e.title,r=e.titleId,a?"<title ".concat(r?'id="'.concat(r,'"'):"",">").concat(a,"</title>"):"")).concat((n=e.desc,s=e.descId,n?"<desc ".concat(s?'id="'.concat(s,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}},44312:(e,t,n)=>{n.r(t),n.d(t,{RecentlyPlayedHomeCarouselShelf:()=>U,RecentlyPlayedHomeGridShelf:()=>_,default:()=>k});var i=n(30758),l=n(97500),s=n.n(l),a=n(97998),r=n(33100),c=n(79252),o=n(80103),d=n(57451),u=n(59896),m=n(82770),h=n(65765),p=n(96083),g=n(8072),f=n(2245),x=n(13932),C=n(62747),S=n(41069),v=n(33974),I=n(17145),b=n(92141),A=n(12087),N=n(39302),E=n(30812),y=n(47013);function j(e=!0){const t=(0,y.j)(),[n,l]=(0,i.useState)((()=>t.getContexts()));return(0,i.useEffect)((()=>{if(!e)return;return t.getEvents().addListener(E.m5.UPDATE,(({data:e})=>{l(e)}))}),[t,e]),n}var w=n(43943);const T="wu4hGzXkWRNdY0UX1MJa";var M=n(86070);function R(e){const t=new Set;return e.filter((e=>{if(e.type===E.d2.LIKED_SONGS){if(t.has(e.type))return!1;t.add(e.type)}return!0}))}const O=(e,t,n,i=!1)=>{const l=e.uri;switch(e.type){case E.d2.LIKED_SONGS:return(0,M.jsx)(C.o,{index:t,variant:n},l);case E.d2.YOUR_EPISODES:return(0,M.jsx)(v.e,{index:t,variant:n},l);case E.d2.ALBUM:return(0,M.jsx)(o.a,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null,variant:n,logCardImpressions:i},l);case E.d2.ARTIST:return(0,M.jsx)(d.a,{index:t,name:e.name,uri:e.uri,images:e.images,variant:n,logCardImpressions:i},l);case E.d2.PLAYLIST:return(0,M.jsx)(h.B,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,authorUri:e.owner.uri,isPlayable:!(0,N.p)(e.attributes),variant:n,logCardImpressions:i,leaveTitleVisible:!0},l);case E.d2.SHOW:return(0,M.jsx)(p.o,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,variant:n,logCardImpressions:i},l);case E.d2.AUDIOBOOK:return(0,M.jsx)(u.M,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:e.authors.at(0)?.name??"",authors:e.authors,signifierText:e.signifierText,variant:n,logCardImpressions:i,consumptionCapExplanation:e.consumptionCapExplanation,isPlayable:e.isPlayable},l);case E.d2.TRACK:return(0,M.jsx)(g.w,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null,variant:n,logCardImpressions:i},l);default:return(0,w.k)(e),null}},_=({title:e,index:t,id:n})=>{const l=j(!0),s=(0,r.NC)(I.BCG),a=(0,r.NC)(I.WAq),c=(0,i.useMemo)((()=>{if(!l)return[];return R(l).map(((e,t)=>O(e,t,a?m._.Compact:m._.Default,s)))}),[l,a,s]);return 0===c.length?null:(0,M.jsx)(b.x,{config:(0,A.s1)(a?A.yV.HOME_HIGH_DENSITY:A.yV.HOME_REGULAR_DENSITY),children:(0,M.jsx)(x.p,{id:n,index:t,total:c.length,seeAllUri:`/genre/${S.r}`,title:e,children:c})})},U=({title:e,className:t,index:n,id:l})=>{const s=j(!0),a=(0,r.NC)(I.BCG),c=(0,i.useMemo)((()=>{if(!s)return[];return R(s).map(((e,t)=>O(e,t,m._.Compact,a)))}),[s,a]);return 0===c.length?null:(0,M.jsx)(f.R,{index:n,id:l,title:e,seeAllUri:`/genre/${S.r}`,className:t,children:c})},k=()=>{const e=j(!0);if(!e)return[];const t=R(e);return null===e?null:(0,M.jsx)("section",{className:s()("contentSpacing",T),children:(0,M.jsx)(x.p,{id:"recently-played",title:c.Ru.get("view.recently-played"),showAll:!0,index:0,rowGap:a.lT,fullPage:!0,children:t.map(((e,t)=>O(e,t,m._.Default)))})})}},47013:(e,t,n)=>{n.d(t,{j:()=>s});var i=n(30812),l=n(53507);function s(){return(0,l.N)(i.X6)}},73146:(e,t,n)=>{n.d(t,{X:()=>i});const i=(e,t)=>{const n=e.parentElement.getBoundingClientRect(),i=e.getBoundingClientRect(),l=t?n.right:n.left,s=t?i.right:i.left;return!(e instanceof HTMLElement&&Math.abs(s-l)>48)}}}]);
//# sourceMappingURL=xpui-routes-recently-played.js.map