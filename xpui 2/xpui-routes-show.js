"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{3983:(e,a,t)=>{t.d(a,{O:()=>d});var s=t(30758),i=t(79252),r=t(58206),n=t(60689);const o="IIKJOrbx5pjNtg3gpI0H";var l=t(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:t=c})=>(0,n.H)()&&a?.length?a.map((({uri:e,name:a},n)=>(0,l.jsxs)(s.Fragment,{children:[n?i.Ru.getSeparator():null,e?(0,l.jsx)(r.N,{to:e,className:o,children:t(a)},n):t(a)]},n))):t(e)},18436:(e,a,t)=>{t.d(a,{K:()=>x});var s=t(30758),i=t(43409),r=t(79252),n=t(80882),o=t(19103),l=t(61828);const c="bhvAemcPYUmxOdBe1mVi",d="hmgHdasWrZaA9tiXVw_u",u="RmbxUFLb4j9KmgftJyk1",m="boNCdFnbh9y0PBweIDUt",h="LfQtKa295FPgk8VuZRfD",p="Oytey9nANMtSDKSmZpJ6";var g=t(86070);const x=s.memo((function(e){const{images:a,title:t,isOpen:x,onClose:y}=e,b=(0,s.useMemo)((()=>(0,l.g)(a,{desiredSize:1e4})),[a]);return b?(0,g.jsx)(n.A,{className:c,isOpen:x,onRequestClose:y,animation:{modal:{base:m,afterOpen:h,beforeClose:p}},animated:!0,children:(0,g.jsxs)("div",{style:{"--image-width":`${b.width}px`,"--image-height":`${b.height}px`},className:d,children:[(0,g.jsx)(o._,{loading:"eager",alt:t,src:b.url,className:u}),(0,g.jsx)(i.H,{onClick:y,semanticColor:"textBase",children:r.Ru.get("web-player.cover-art-modal.close")})]})}):null}))},18733:(e,a,t)=>{t.d(a,{W:()=>i});var s=t(30758);const i=()=>{const[e,a]=(0,s.useState)(!1);return{isOpen:e,openModal:(0,s.useCallback)((()=>a(!0)),[]),closeModal:(0,s.useCallback)((()=>a(!1)),[])}}},19929:(e,a,t)=>{t.d(a,{B:()=>N,q:()=>A});var s=t(30758),i=t(62411),r=t(50722),n=t(45005),o=t(59429),l=t(65924),c=t(47290),d=t(27649),u=t(52586),m=t(37114),h=t(21119),p=t(44718),g=t(42812),x=t(17998),y=t(12304),b=t(67762),j=t(92297),v=t(72308),f=t(33782),C=t(62935),k=t(20579),P=t(51283),w=t(3161),R=t(84785),S=t(38138),I=t(86070);function N(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const E=e=>`activation-trigger-mme-${e}`,A=s.memo((function({index:e=-1,showMetadata:a,episode:t,usePlayContextItem:A}){const _=(0,b.c)(),B=t.playedState.playPositionMilliseconds,F=t.uri,D=(0,s.useRef)(null),T=(0,g.N)(a.uri),{draggable:U,onDragStart:M}=(0,x.P)(),L=(0,y.V)(),O=(0,f.y)(),z=(0,i.wA)(),{UBIFragment:H,spec:V,logger:q}=(0,w.r)(r.d,{data:{uri:F,reason:t.requestId||"",position:e}}),G=(0,P.t)(V),{isActive:K,isPlaying:W,togglePlay:$}=A({uri:F}),[J]=(0,C.S)(1e4,(e=>e?.item?.uri===F)),{isFullyPlayed:Q,setIsFullyPlayed:X}=(0,k.e)({uri:F,durationMs:t.duration.milliseconds,episodePlaybackState:t.playedState?.state,isPlaying:W});(0,s.useEffect)((()=>{W&&(D.current=J)}),[W,J]),(0,s.useEffect)((()=>{!W&&D.current&&t.duration.milliseconds<=D.current&&X(!0)}),[W,t.duration.milliseconds,X]);const Y=(0,s.useCallback)((e=>{e||(D.current=0),X(e)}),[X]),Z=N(a),ee=(0,j.C)({...t,coverArt:{sources:t.coverArt}},Z),ae=(0,s.useCallback)((()=>{if(t.episodeType===R.I_.Episode&&_)m.h.set((()=>({triggerId:E(t.uri),triggerAction:null})));else if(L)ee();else{let e;e=W?V.playButtonFactory().hitPause({itemToBePaused:F}):K?V.playButtonFactory().hitResume({itemToBeResumed:F}):V.playButtonFactory().hitPlay({itemToBePlayed:F});const a=q.logInteraction(e);$({loggingParams:a})}}),[K,ee,$,F,W,L,t,_,q,V]),te=(0,s.useCallback)((()=>{q.logInteraction(V.hitUiNavigate({destination:F}))}),[F,q,V]),se=t.podcastSubscription?.isPaywalled??!1,ie=t.podcastSubscription?.isUserSubscribed??!1,re=se&&!ie,ne=se&&L,{badges:oe}=(0,S.b)({contentRating:t.contentRating?.label,isPaywalled:se}),le=(0,s.useCallback)((()=>z((0,o.Tf)(a.uri))),[a.uri,z]),ce=(0,s.useCallback)((e=>{let s=e;return(re||ne)&&(s=(0,I.jsx)(h.N,{enabled:!0,showUri:t.podcast?.uri||a.uri,renderInline:!1,children:s})),!t.playability.playable&&oe.nineteen&&(s=(0,I.jsx)("div",{onClick:e=>{e.stopPropagation(),le()},children:e})),s=(0,I.jsx)(l.k,{id:E(F),targetURI:(0,n.o_h)(F),children:s}),s}),[F,re,ne,a.uri,oe.nineteen,t.playability.playable,le,t.podcast?.uri]);return(0,I.jsx)(H,{spec:V,children:(0,I.jsx)(v.pZ,{value:"row",index:e,children:(0,I.jsx)(c.h,{onShow:()=>{q.logInteraction(V.secondaryHitUiReveal())},menu:(0,I.jsx)(d.b,{uri:F,showUri:a.uri,sharingInfo:t.sharingInfo,isPlayed:Q,onMarkAsPlayed:Y}),children:(0,I.jsx)(u.k,{ref:G,requestId:t.requestId,index:e,uri:F,size:O,images:t.coverArt||[],name:t.name,showName:t.podcast?.name||a.name,description:t.description,isPlayable:t.playability.playable||re,fullyPlayed:Q,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate,resumePositionMs:D.current??B,draggable:U,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const s=`${t.name} â€¢ ${a.name}`;M(e,{itemUris:[F],dragLabelText:s,contextUri:a.uri})},handlePlaybackClick:ae,handleClick:te,isCurrentlyPlaying:K,isPaywalled:se,isUserSubscribed:ie,isCourseLesson:T,isPlaying:W,position:W?J:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:Y,contentInformation:t.contentInformation,showUri:t.podcast?.uri||a.uri,mediaTypes:t.mediaTypes??void 0,badges:(0,I.jsx)(p.P,{episode:t}),playButtonWrapper:ce,onMoreButtonClick:()=>{q.logInteraction(V.moreButtonFactory().hitUiReveal())}})})})})}))},24204:(e,a,t)=>{t.d(a,{a:()=>s});const s=e=>(e||[]).filter((e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Audiobook"===e.__typename;var a})(e.data)))},27220:(e,a,t)=>{t.d(a,{v:()=>m});var s=t(83793),i=t(2715),r=t(88019),n=t(32360),o=t(79252),l=t(42880),c=t(52697),d=t(16947),u=t(86070);const m=({uri:e,isBook:a=!1})=>{const{isPreSaved:t,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:a});return t?(0,u.jsx)(s.n,{onClick:h,iconTrailing:i.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(r.$,{disabled:void 0===t,onClick:m,iconTrailing:n.P,children:o.Ru.get("web-player.prerelease.presave")})})}},27746:(e,a,t)=>{t.d(a,{r:()=>n});var s=t(5820),i=t(33031);const r=new s.l("similarAudiobooks","query","d62da1bbf5859e5a156da1f52ce21a73a642f925db717a179fd89626b27a80b8",null),n=(e,a)=>(0,i.I)(r,e,a)},35431:(e,a,t)=>{t.d(a,{s:()=>c});var s=t(85387),i=t(33100),r=t(67762),n=t(17145),o=t(68192),l=t(13355);const c=()=>{const e=(0,o.o)(l.P.SimilarAudiobooksComponent,(0,s.zy)()),a=(()=>{const e=(0,r.c)(),a=(0,i.NC)(n.S$t);return!!e&&a===n.LR0.Enabled})();return e||a}},42880:(e,a,t)=>{t.d(a,{h:()=>u});var s=t(30758),i=t(37114),r=t(11129),n=t(12304),o=t(40184),l=t(53507);var c=t(19636),d=t(86070);const u=({children:e,action:a,uri:t})=>{const u=(0,n.V)(),m=(0,l.N)(o.JD);let h;const p=()=>{const e={triggerId:r.d,triggerAction:{type:a}};i.h.set((a=>({...a,...e}))),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[t]})};try{h=s.Children.only(e)}catch(a){return(0,d.jsx)(d.Fragment,{children:e})}return u?s.cloneElement(h,{onClick:p}):(0,d.jsx)(d.Fragment,{children:e})}},42976:(e,a,t)=>{function s(e){const a=new Date;return(e instanceof Date?e:new Date(e)).getTime()-a.getTime()}t.d(a,{u:()=>s})},52697:(e,a,t)=>{t.d(a,{w:()=>d});var s=t(30758),i=t(36748),r=t(79252),n=t(35953),o=t(74268),l=t(19813),c=t(3161);const d=({uri:e,isBook:a})=>{const{add:t,remove:d}=(0,l.p)("prerelease"),u=(0,o.o)("prerelease",[e]).at(0),{enqueueSnackbar:m}=(0,n.d)(),{spec:h,logger:p}=(0,c.r)(i.k,{data:{uri:e}});return{isPreSaved:u,addPresave:(0,s.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitPresave({prereleaseId:e,itemToBePresaved:e,contextUri:e})),await t(e),m(a?r.Ru.get("web-player.prerelease.audiobook_feedback_presaved"):r.Ru.get("web-player.prerelease.album_feedback_presaved"))}),[t,m,a,p,h,e]),removePresave:(0,s.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitRemovePresave({prereleaseId:e,itemToBeRemovedFromPresaved:e,contextUri:e})),await d(e)}),[p,d,h,e])}}},59699:(e,a,t)=>{t.d(a,{K:()=>s});const s=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Podcast"===e.__typename;var a}},59896:(e,a,t)=>{t.d(a,{M:()=>E});var s=t(30758),i=t(97500),r=t.n(i),n=t(62411),o=t(44004),l=t(63732),c=t(61395),d=t(33100),u=t(79252),m=t(66105),h=t(82770),p=t(45595),g=t(82099),x=t(29683),y=t(7606),b=t(47290),j=t(21388),v=t(20535),f=t(3983),C=t(1310),k=t(17145),P=t(49365);const w="udGpsOceE80fzjUaGxkU",R="wMX24UZ671wvuRJkkUOC";var S=t(86070);const I=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,S.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,S.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,N=({signifierText:e})=>e?(0,S.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,E=({name:e,uri:a,images:t,authorName:i,authors:P,isHero:E,className:A,onClick:_,testId:B,index:F,requestId:D,isLocked:T=!1,isPlayable:U=!1,color:M,signifierText:L,isPreRelease:O=!1,publishDate:z,variant:H,consumptionCapExplanation:V,logCardImpressions:q=!1})=>{const{playUri:G,playOptions:K}=(0,C.J)(a),W=(0,n.wA)(),$=(0,d.NC)(k.HJU),J=!!V,Q=(0,S.jsx)(f.O,{authorName:i,authors:P}),X=(0,s.useCallback)((()=>{J&&W((0,m._3)(V))}),[V,W,J]);let Y;return Y=E?(0,S.jsx)(x.A,{className:A,index:F,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:K,onPlay:J?X:void 0,delegatePlayback:J,isPlayable:(U||J)&&$,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(p.M,{isHero:!0,images:t,color:M,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,S.jsx)(o.E,{variant:"bodySmall",children:Q})]}),getSignifierContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I,{isPreRelease:O,publishDate:z}),(0,S.jsx)(N,{signifierText:L})]}),testId:B,requestId:D,logCardImpressions:q}):(0,S.jsx)(h.Z,{className:A,variant:H,index:F,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playUri:G,onPlay:J?X:void 0,delegatePlayback:J,playOptions:K,isPlayable:(U||J)&&$,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(p.M,{images:t,color:M,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(g.c,{lineClamp:L?1:2,children:[T&&(0,S.jsx)(c.y,{size:"small",className:w}),(0,S.jsx)(I,{isPreRelease:O,publishDate:z}),(0,S.jsx)(o.E,{as:"span",variant:"bodySmall",className:r()({[R]:O&&i}),children:Q})]}),(0,S.jsx)(N,{signifierText:L})]}),testId:B,requestId:D,logCardImpressions:q}),(0,S.jsx)(b.h,{menu:(0,S.jsx)(j.p,{uri:a}),children:Y})}},60177:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(9969);const i="rTMkDBDp47Eo12ZEQv4U";var r=t(86070);const n=({copyrights:e,courtesyLine:a})=>{const t=(e||[]).map(((e,a)=>{if(e.untyped)return(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â„—\s+)/,"");let i;return i="C"===e.type?"Â©":"P"===e.type?"â„—":`(${e.type})`,(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${t}`},a)}));return a&&t.unshift((0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:a},t.length)),(0,r.jsx)("div",{className:i,children:t})}},67368:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ai});var s=t(30758),i=t(85387),r=t(93472),n=t(1072),o=t(45005),l=t(79252),c=t(11936),d=t(30618),u=t(97500),m=t.n(u),h=t(62411),p=t(44004),g=t(33100),x=t(46662),y=t(50158),b=t(66105),j=t(24313),v=t(90298),f=t(45804),C=t(35431),k=t(34288),P=t(47455),w=t(45127),R=t(12304),S=t(17145),I=t(85507),N=t(94705),E=t(49531),A=t(61008);var _=t(8335),B=t(59896),F=t(18587),D=t(73852),T=t(76608),U=t(27746);var M=t(24204),L=t(1263),O=t(86070);const z=({className:e,title:a,uri:t})=>{const{data:i}=(0,U.r)({uri:t}),r=i?.seoRecommendedAudiobook.items,n=i?.seoRecommendedAudiobook.totalCount,c=(0,M.a)(r),{ref:d,inView:u}=(0,_.Wx)({threshold:1}),m=(e=>{const a=(0,R.V)(),t=(0,w.vh)(),s=(0,g.NC)(S.S$t),i=(0,h.d4)(N.F6),r=(0,h.d4)(I.JJ);return()=>{const n={category:"audiobook_more_like_this_component_visible",action:"component_visible",variant:s,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?t.send((0,P.r)(n)):t.send((0,k._)(n))}})(t);if((0,s.useEffect)((()=>{u&&m()}),[u,m]),0===n)return null;const p=(0,o.o_h)(t)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:r?.length,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${p}:more-like-this`,elementRef:d,children:c?.map((({data:e},a)=>{return(0,O.jsx)(B.M,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],authorName:(t=e.authorsV2,t.map((e=>e?.name)).join(l.Ru.getSeparator())??""),authors:e.authorsV2,index:a},e.name);var t}))})},H=e=>{const a=(0,D.D)({entityType:L.c.AUDIOBOOK,componentType:"shelf",uri:e.uri});return(0,O.jsx)(F.s,{onError:a,children:(0,O.jsx)(z,{...e})})};var V=t(49465),q=t(9969),G=t(35208),K=t(60237),W=t(64389),$=t(309),J=t(68538),Q=t(46412),X=t(90423),Y=t(81393),Z=t(38138);const ee="Bns6t3CfzQaCA4DLRzPQ",ae="zGFcpmwFVhJxRDXUXoXA",te="_FLyhB96W9W0msGYNWUl",se="Si5iVyGLDY7mGWH_U2wA",ie="HLBtD6mJyIB9EeOzDtXE",re="DRO0ur1WXqpK9BelywtE",ne="vtlBEOtYFwv1cxC32ccc",oe="Pq_DZj9ECxwTsK8pBxe0",le="bu7LVUNyDPF_FcrKMv74",ce="bYP2npsc_CeChpMGcr6g",de="Ux7aVnDYlwojS4AmkSLg";let ue=function(e){return e.SMALL="small",e.LARGE="large",e}({});const me=({images:e,title:a,contentRating:t,duration:s,moreButton:i,onClick:r,onContextMenu:n,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:h,label:p,isPlayable:g=!0})=>{const x=u===ue.LARGE?"medium":"small",{badges:y}=(0,Z.b)({contentRating:t});return(0,O.jsxs)("div",{"data-testid":"trailer-component",className:m()(ee,h,{[ae]:d}),onContextMenu:n,onTouchStart:o,onTouchEnd:l,children:[(0,O.jsxs)("div",{className:se,children:[(0,O.jsxs)("div",{className:oe,children:[(0,O.jsx)(J.b,{type:L.c.EPISODE,title:a,className:m()(ne,{[de]:u===ue.SMALL,[ce]:u===ue.LARGE}),size:Q.Qe.SIZE_56,images:e,shape:J.u.ROUNDED_CORNERS}),(0,O.jsx)("div",{className:le,children:(0,O.jsx)(K.R,{"data-testid":"trailer-play-button",version:G.H4.transparent,size:x,isPlaying:c,onClick:r,disabled:!g})})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:ie,children:(0,O.jsx)(q.Z,{dir:"auto",className:te,variant:"balladBold",children:a})}),(0,O.jsxs)("div",{className:re,children:[(0,O.jsx)(W.E,{text:p}),y.explicit&&(0,O.jsx)($.U,{}),y.nineteen&&(0,O.jsx)(X.q,{}),(0,O.jsx)(q.Z,{dir:"auto",variant:"mesto",children:(0,O.jsx)(Y.d,{durationMs:s})})]})]})]}),i]})};var he=t(13888),pe=t(15845);const ge=({htmlDescription:e,narrators:a,spec:t,isPreRelease:i})=>{const r=(0,pe.s)(),n=(0,s.useCallback)((e=>{const a=t.seeMoreButtonFactory();r.logInteraction(e?a.hitUiReveal():a.hitUiHide())}),[r,t]);return(0,O.jsxs)(O.Fragment,{children:[a.length?(0,O.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",a.join(l.Ru.getSeparator()))}):null,e&&(0,O.jsx)(he.N,{maxLines:4,content:e,htmlContent:e,onExpanded:n,isOpen:i||null})]})};var xe=t(2567),ye=t(55784),be=t(19730),je=t(62108),ve=t(81172),fe=t(21388),Ce=t(78723),ke=t(62502),Pe=t(33386),we=t(86517);const Re="e74TmRHu_W1yZHspTBmR",Se="rrcjfInomKt1lXRDRdR8",Ie="Wj9mxFJDtPdiMcUtS1te",Ne="SCwESjClY3m_9JlV2L7S",Ee="Yoa_yG2jhELT4w9wJpHf",Ae="xsw253oiwmIAafVfjl1J",_e="JPqnsg5dgBTzsEoClLmD",Be="bhuRgaz03VXMf0mOG3Q2",Fe="GP_qgmZlmL0CJ9r22AD9",De="bilV2VquzmEnhV4d97Tc",Te="caqddwmUJf4ix6GI84NX",Ue="H3bD3wHovFQ2QWwQ5RCg",Me=({explicit:e,durationMs:a,publishDate:t,preReleaseEndDateTime:s,isPreRelease:i,uri:r,isPlaying:n})=>{const o=(0,Pe.p)(r),{isMarkedAsFinished:c}=(0,ke.z)(r);let d;return i&&s?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(s)}):!i&&t&&(d=l.Ru.formatDate(t)),(0,O.jsxs)("div",{className:Be,children:[e&&(0,O.jsx)($.U,{className:Te}),(0,O.jsxs)("div",{className:Fe,children:[d&&(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:d}),a?(0,O.jsxs)(O.Fragment,{children:[o?.playPositionMilliseconds?(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:(0,O.jsx)(Y.d,{durationMs:a})}):null,(0,O.jsx)(we.j,{isPlaying:n,fullyPlayed:c,durationMs:a,position:o?.playPositionMilliseconds})]}):null]})]})};var Le=t(88019),Oe=t(27220);const ze=(0,s.createContext)(null),He=({children:e,isPreRelease:a})=>{const[t,i]=(0,s.useState)(!a),r=(0,s.useMemo)((()=>({isPreRelease:a,isCountdownFinished:t,setCountdownFinished:()=>i(!0)})),[a,t,i]);return(0,O.jsx)(ze.Provider,{value:r,children:e})};function Ve(){const e=(0,s.useContext)(ze);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var qe=t(23149);const Ge="nz8Wc80RAtdAb3yU9FxM",Ke=({uri:e})=>{const{isCountdownFinished:a}=Ve(),{invalidateCache:t}=(0,qe.W)(e);return(0,O.jsx)("div",{className:Ge,children:a?(0,O.jsx)(Le.$,{onClick:t,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,O.jsx)(Oe.v,{uri:e,isBook:!0})})};var We=t(2384),$e=t(40638),Je=t(35953),Qe=t(20029);const Xe="NQAShVY0o7RQ2bCTDSkw";function Ye({uri:e,price:a,size:t,spec:s,logger:i,onPlayback:r}){const{enqueueSnackbar:n}=(0,Je.d)(),o=(0,R.V)(),c=(0,h.d4)(N.Ly),d=0===a?.finalPrice?.amount,u=d?s.getButtonFactory({uri:e}):s.buyButtonFactory({uri:e}),m=(0,$e.YQ)((async()=>{if(i.logInteraction(u.hitShowPaywall({paywalledItem:e})),o)r();else{try{a?.finalPrice?await(0,Qe.S)({show_uri:e,currency:a.finalPrice.currency,price:a.finalPrice.amount}):n(l.Ru.get("error.generic"))}catch(e){n(l.Ru.get("error.generic"))}r()}}),2e3,{leading:!0,trailing:!1}),p=c?l.Ru.get("web-player.audiobooks.unlock"):l.Ru.get("web-player.audiobooks.buy");return(0,O.jsx)(Le.$,{size:t,className:Xe,style:{flexShrink:0},onClick:m,children:d?l.Ru.get("web-player.audiobooks.buyFree"):p})}const Ze=({uri:e,isLocked:a,price:t,isPlaying:s,isConsumptionCapped:i,onPlayback:r,logger:n,spec:o,size:l="large"})=>a&&!i?(0,O.jsx)(Ye,{size:l,uri:e,price:t,logger:n,spec:o,onPlayback:r}):(0,O.jsx)(We.D,{size:l,isPlaying:s,uri:e,onClick:r});var ea=t(85852),aa=t(33796),ta=t(81882),sa=t(19792),ia=t(15727),ra=t(3161);const na="8px",oa=s.memo((function({backgroundColor:e,uri:a,name:t,isPlaying:i,togglePlay:r,isLocked:n,isSaved:o,consumptionCapExplanation:c,price:d,spec:u,isExplicit:m,publishDate:p,preReleaseEndDateTime:g,duration:x}){const[y,f]=(0,sa.A)(a,o),C=!(0,ta.n)(),{isPreRelease:k}=Ve(),P=(0,h.wA)(),w=(0,pe.s)(),R=(0,ea.d$)(),{spec:S,logger:I}=(0,ra.r)(xe.e,{data:{uri:a}});(0,s.useEffect)((()=>{R&&I.logImpression(S.impression())}),[R,I,S]);const N=(0,s.useCallback)((()=>{const e=u.saveToLibraryButtonFactory();y?w.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a})):(w.logInteraction(e.hitFollow({itemToBeFollowed:a})),R&&I.logInteraction(S.hitFollow({itemToBeFollowed:a}))),f(!y)}),[a,y,u,f,w,R,I,S]),E=(0,s.useCallback)(((e,t)=>{const s=u.downloadButtonFactory();c?P((0,b._3)(c)):t===ia.NV.ADD?w.logInteraction(s.hitDownload({itemToDownload:a})):t===ia.NV.REMOVE?w.logInteraction(s.hitRemoveDownload({itemToRemoveFromDownloads:a})):t!==ia.NV.NO_PERMISSION&&t!==ia.NV.NO_CAPABILITY||w.logInteraction(s.hitUiReveal())}),[c,P,w,u,a]),A=(0,s.useCallback)((()=>{const e=u.contextButtonFactory().hitUiReveal();w.logInteraction(e)}),[w,u]),_=(0,aa.j)(),B=!!c,F=!n&&!B;return(0,O.jsxs)(ye.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":na},children:[(0,O.jsx)(be.S,{testId:"book-action-bar-metadata",children:(0,O.jsx)(Me,{explicit:m,publishDate:p,preReleaseEndDateTime:g,durationMs:x,isPreRelease:k,uri:a,isPlaying:i})}),(0,O.jsxs)(be.S,{children:[k&&(0,O.jsx)(Ke,{uri:a}),!k&&(0,O.jsx)(Ze,{uri:a,isLocked:n,isConsumptionCapped:B,price:d,isPlaying:i,onPlayback:r,logger:w,spec:u,size:_}),!k&&(0,O.jsx)(Ce.e,{children:(0,O.jsx)(je.M,{isAdded:y,onClick:N,disabled:C,size:_,condensed:!0})},"follow-button"),(0,O.jsx)(ve.I,{uri:a,onClick:E,size:_,canDownload:F}),(0,O.jsx)(v.b,{menu:(0,O.jsx)(fe.p,{uri:a,isPreRelease:k,price:d,isLocked:n,isCapped:B}),children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",t),onClick:A,size:_})})]})]})}));var la=t(47290),ca=t(76919),da=t(20535),ua=t(97514),ma=t(83415),ha=t(11891),pa=t(7106),ga=t(9242),xa=t(13195),ya=t(41882),ba=t(44063),ja=t(54264),va=t(3983),fa=t(18436),Ca=t(18733),ka=t(52748),Pa=t(33782);const wa="BBK_i9SHovXTLVjas0kc",Ra=s.memo((function({coverArt:e,name:a,authorName:t,authors:s,uri:i,backgroundColor:r,isPlaying:n,togglePlay:o,isLocked:c,price:d,isConsumptionCapped:u,logger:m,spec:h,preReleaseEndDateTime:g}){const x=(0,Pa.y)(),y=x===ka.E.SMALL||x===ka.E.XSMALL,{isOpen:b,openModal:j,closeModal:v}=(0,Ca.W)(),{isPreRelease:f,setCountdownFinished:C}=Ve(),k=f&&y,P=(0,O.jsx)(fe.p,{uri:i,price:d,isLocked:c,isCapped:u}),w=(0,O.jsx)(va.O,{authorName:t,authors:s});return(0,O.jsxs)(ua.z,{backgroundColor:r,size:f?ua.K.XLARGE:ua.K.DEFAULT,children:[(0,O.jsxs)(pa.h,{children:[f&&(0,O.jsx)(Ke,{uri:i}),!f&&(0,O.jsx)(Ze,{uri:i,isLocked:c,price:d,isPlaying:n,isConsumptionCapped:u,onPlayback:o,logger:m,spec:h,size:"medium"}),(0,O.jsx)(la.h,{menu:P,children:(0,O.jsx)(ga.X,{text:a,dragUri:i,dragLabel:a})})]}),!k&&(0,O.jsx)(la.h,{menu:P,children:(0,O.jsx)(ma.K,{images:e,name:a,dragUri:i,dragMimeType:da.fl.AUDIOBOOKS,shape:J.u.SQUARE,onClick:j,ariaLabel:l.Ru.get("web-player.audiobooks.open_cover_modal")})}),(0,O.jsxs)(ha.Y,{children:[(0,O.jsx)(ya.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,O.jsx)(la.h,{menu:P,children:(0,O.jsx)(ja.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:ja.tw,dragUri:i,dragMimeType:da.fl.AUDIOBOOKS,dragLabel:a,children:a})}),f?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(xa.X,{children:(0,O.jsx)(p.E,{className:wa,variant:"bodySmallBold","data-testid":"entityAuthor",children:w})}),g&&(0,O.jsx)(ca.G,{targetDate:g,images:k?e:[],imageTitle:a,onComplete:C})]}):(0,O.jsx)(ba.g,{children:w})]}),(0,O.jsx)(fa.K,{images:e,isOpen:b,onClose:v,title:a})]})})),Sa="pwjwUMaZVoJ0wBcQlIDf",Ia=s.memo((({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,O.jsxs)("div",{className:Sa,children:[(0,O.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,O.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,O.jsxs)("div",{className:Sa,children:[(0,O.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,O.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,O.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null));var Na=t(86459),Ea=t(73849),Aa=t(28823),_a=t(95961),Ba=t(92505),Fa=t(16440);const Da="XzRW0BrBLoXKWET5f8m4",Ta="ooqITYCPJKua4e5yv8_9",Ua="zN8lTnSnAUSRAMPb7XYV",Ma="llVyicNXe8z0QAnoRur1",La="fCrjgF2UgDUWjtqWls4Q",Oa="CLnKy_BRVtIluLfBWy5t",za="RZa0qnXymlZCoGOdE03d",Ha="RFXE57hUzWvvK4_7GX13",Va="ALQqkJiR2lZOSYvhHesh",qa="BQwrI2BbKK4n451iu2QC",Ga="VYLq_YaQVNISHPQOu2af",Ka=s.memo((function({name:e,duration:a,uri:t,bookName:i,usePlayContextItem:r,isChapterLocked:n,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:g,spec:x,index:y,consumptionCapExplanation:j}){const C=(0,s.useRef)(c),{isPlaying:k,togglePlay:P,isActive:w}=r({uri:t}),R=(0,pe.s)(),S=(0,h.wA)(),I=(0,Ba.o)((e=>{if(e?.item?.uri===t){const a=(0,Fa.s)(e)??0;return C.current=a,a}return 0})),N=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),E=(0,s.useCallback)((e=>{if(N(e),j)return void S((0,b._3)(j));const a=x.chapterBlockFactory({position:y,uri:t}).playButtonFactory();if(n)R.logInteraction(a.hitShowPaywall({paywalledItem:t}));else{const e=(0,_a.$I)({isPlaying:k,isActive:w,spec:a,logger:R,uri:t});P({loggingParams:e})}}),[j,S,y,w,n,k,R,x,N,P,t]),A=(0,s.useCallback)((()=>{const e=x.chapterBlockFactory({position:y,uri:t}).secondaryHitUiReveal();R.logInteraction(e)}),[y,R,x,t]),_=(0,s.useCallback)((e=>{N(e);const a=x.chapterBlockFactory({position:y,uri:t}).contextMenuFactory().hitUiReveal();R.logInteraction(a)}),[y,R,x,N,t]),B=!(n||j),F=(0,O.jsx)(Na.d,{className:m()({[Ta]:w}),children:e}),D=(0,O.jsxs)("div",{className:Oa,children:[u&&(0,O.jsx)($.U,{fullText:!0}),g&&(0,O.jsx)(X.q,{size:16}),(0,O.jsxs)("div",{className:za,children:[C.current?(0,O.jsx)(p.E,{variant:"bodySmall",className:Ga,children:(0,O.jsx)(Y.d,{durationMs:a.milliseconds})}):null,(0,O.jsx)(we.j,{isPlaying:k,fullyPlayed:d,durationMs:a.milliseconds,resumePositionMs:C.current,position:k?I:void 0})]})]}),T=(0,O.jsxs)("div",{className:Va,children:[(0,O.jsx)("div",{className:qa,children:B?(0,O.jsx)(v.b,{menu:(0,O.jsx)(f.r,{uri:t}),children:(0,O.jsx)(Aa.e,{className:La,size:Aa.M.xs,label:l.Ru.get("more.label.context",e),onClick:_})}):null}),(0,O.jsx)("div",{className:Ha,children:(0,O.jsx)(K.R,{size:"small",version:K.H.secondary,onClick:E,isPlaying:k,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,i),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,i),locked:n&&!j,disabled:!o&&!(n||j)})})]}),U=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{className:Ua,"aria-hidden":!0}),(0,O.jsx)(Ea.v,{id:`chapter-${y}`,title:F,body:D,footer:T,onDoubleClick:e=>{E(e)},className:Da})]});return B?(0,O.jsx)(la.h,{menu:(0,O.jsx)(f.r,{uri:t}),onShow:A,children:(0,O.jsx)("div",{className:Ma,children:U})}):(0,O.jsx)("div",{className:Ma,children:U})}));var Wa=t(8061),$a=t(15658);var Ja=t(12675);const Qa=({bookUri:e,bookName:a,sampleUri:t,isFinishedUnlockingJourney:i,usePlayContextItem:r,spec:n,consumptionCapExplanation:o})=>{const l=function(e,a){const t=(0,$a.T)();return(0,s.useCallback)((async(s,i)=>t.getBookContents(e,{offset:s,limit:i,doRefreshSubscription:a})),[a,t,e])}(e,i),c=(0,s.useRef)(!1),d=(0,s.useRef)(0),{isMarkedAsFinished:u}=(0,ke.z)(e),[m,h]=(0,s.useState)([]),p=(0,s.useCallback)((e=>e?.uri===t),[t]),g=(0,s.useCallback)((e=>(e=>null!==e)(e)&&!p(e)),[p]),x=(0,s.useCallback)((()=>{l&&(c.current||null===d.current||(c.current=!0,l(d.current,50).then((e=>{c.current=!1,d.current=e.nextOffset,e.items.length>0&&h((a=>a.concat(e.items.filter(g))))}))))}),[l,g]);return(0,s.useEffect)((()=>{d.current=0,h([])}),[e]),(0,O.jsx)("ul",{children:(0,O.jsx)(Wa._,{onReachBottom:x,triggerOnInitialLoad:!0,children:m.map(((e,t)=>{const{name:s,duration:i,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:d,state:m},isExplicit:h,is19PlusOnly:p}=e,g=m===Ja._w.Completed||u,x=function(e){return!e.playability?.playable&&(e.playability?.reason===Ja.Uk.PaymentRequired||e.playability?.reason===Ja.Uk.Anonymous)}(e);return(0,O.jsx)(Ka,{name:s,duration:i,uri:l,bookName:a,usePlayContextItem:r,isPlayable:c,isChapterLocked:x,consumptionCapExplanation:o,resumePositionMs:d,isFullyPlayed:g,isExplicit:h,is19PlusOnly:p,spec:n,index:t},l)}))})})};var Xa=t(73723),Ya=t(65421),Za=t(60177),et=t(89372),at=t(30849);const tt="_yl4tOZxcpoUt28k6B8I",st="lcJflizNrSwDM9yPNk6h",it="ret7iHkCxcJvsZU14oPY",rt=({rating:e,className:a,onClick:t})=>{if(!e)return null;const s=Boolean(e.rating?.rating);return(0,O.jsxs)("button",{className:m()(tt,a),onClick:t,children:[(0,O.jsx)(q.Z,{dir:"auto",variant:"mestoBold",children:e.averageRating?.showAverage?l.Ru.formatNumber(e.averageRating.average,{maximumFractionDigits:1}):l.Ru.get("web-player.audiobooks.noRating")}),s?(0,O.jsx)(et.j,{iconSize:16,className:m()(st)}):(0,O.jsx)(at.a,{iconSize:16,className:m()(st)}),e.averageRating?.showAverage&&(0,O.jsxs)(q.Z,{variant:"mesto",className:m()(it),children:["(",l.Ru.formatNumberCompact(Number(e.averageRating.totalRatings)),")"]})]})};var nt=t(23898),ot=t(24848),lt=t(25945),ct=t(26068);const dt={shuffle:!1,repeat:lt.p.REPEAT_NONE},ut=s.memo((function({metadata:e}){const{uri:a,coverArt:t,name:r,htmlDescriptionPlain:o,authorName:d,authors:u,sample:_,narrators:B,rating:F,isExplicit:D,duration:T,copyrights:U,publishDate:M,price:z,isLocked:q,isSaved:G,consumptionCapExplanation:K,signifierText:W,resumeEpisodeLink:$,topics:J,isPreRelease:Q,preReleaseEndDateTime:X}=e,{search:Y}=(0,i.zy)(),Z=!!new URLSearchParams(Y).get("isUnlockingAudiobook"),ee=!(!(0,nt.Z)(Z)||Z),ae=(0,R.V)(),te=(0,Ya.H)(t[0]?.url),se=(0,h.wA)(),ie=(0,C.s)(),re=(e=>{const a=(0,R.V)(),t=(0,w.vh)(),s=(0,g.NC)(S.S$t),i=(0,h.d4)(N.F6),r=(0,h.d4)(I.JJ);return()=>{const n={category:"audiobook_show_page_exposure",action:"audiobook_show_page_visit",variant:s,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?t.send((0,P.r)(n)):t.send((0,k._)(n))}})(a);(0,s.useEffect)((()=>{re()}),[re]);const ne=(0,g.NC)(S.NzS,{loadingValue:!1}),{spec:oe,logger:le}=(0,ra.r)(x.U,{data:{uri:a,identifier:n.$h.PODCAST_SHOW_AUDIOBOOK}}),{spec:ce,logger:de}=(0,ra.r)(x.U,{data:{uri:a,identifier:n.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:he,logger:pe}=(0,ra.r)(y.Y,{data:{uri:a,identifier:n.$h.PODCAST_SHOW_AUDIOBOOK}}),xe=(0,s.useMemo)((()=>oe.actionBarFactory()),[oe]),ye=(0,s.useMemo)((()=>ce.aboutSectionFactory()),[ce]),be=(0,s.useMemo)((()=>oe.chapterListFactory()),[oe]);(0,s.useEffect)((()=>{q&&pe.logImpression(he.impression())}),[he,pe,q]);const{isPlaying:je,togglePlay:ve,usePlayContextItem:fe,isActive:Ce,triggerPlay:ke}=(0,ot.P)({uri:a},{featureIdentifier:"audiobook"},dt),{togglePlay:Pe,isPlaying:we,isActive:Be}=(0,ot.P)({uri:_?.uri??"",pages:[{items:[{uri:_?.uri??"",uid:_?.uri??"",type:L.c.CHAPTER,provider:null,metadata:Q?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},dt),Fe=je&&!we,De=Ce&&!Be,Te=(0,s.useCallback)((async()=>{const e=oe.actionBarFactory().playButtonFactory();if(K)return le.logInteraction(e.hitShowPaywall({paywalledItem:a})),void se((0,b._3)(K));if(!q||ae)if(ae)ve();else{const t=(0,_a.$I)({isPlaying:Fe,isActive:De,spec:e,logger:le,uri:a});De?ve({loggingParams:t}):ke({skipTo:$?{uri:$}:void 0,loggingParams:t})}}),[oe,K,ae,q,le,a,se,ve,Fe,De,ke,$]),Me=(0,s.useCallback)((()=>{_?.uri&&Pe()}),[Pe,_?.uri]),Le=(0,s.useCallback)((()=>{const t=ye.ratingButtonFactory().hitUiReveal();de.logInteraction(t),se((0,b.eH)(a,e))}),[ye,se,e,de,a]),Oe=(0,Pa.y)(),ze=q&&!K&&z;return(0,O.jsx)("section",{children:(0,O.jsxs)(He,{isPreRelease:Q,children:[(0,O.jsx)(c.Q,{children:(0,ct.hV)({showOrAudiobookName:r,type:"Audiobook"})}),(0,O.jsx)(Xa.c,{artistOrShow:d,title:r,uri:a,entityType:Xa.p.AUDIOBOOK}),(0,O.jsx)(Ra,{name:r,authorName:d,authors:u,uri:a,coverArt:t,backgroundColor:te,togglePlay:Te,isPlaying:Fe,isLocked:q,isConsumptionCapped:!!K,price:z,logger:le,spec:oe.actionBarFactory(),preReleaseEndDateTime:X}),(0,O.jsx)(oa,{name:r,backgroundColor:te,uri:a,togglePlay:Te,isPlaying:Fe,isLocked:q,isSaved:G,consumptionCapExplanation:K,isExplicit:D,duration:T,publishDate:M,preReleaseEndDateTime:X,price:z,spec:xe}),(0,O.jsxs)("div",{className:m()(Re,"contentSpacing",{[Se]:Oe===ka.E.LARGE}),children:[(0,O.jsxs)("div",{className:Ie,children:[(0,O.jsxs)("div",{className:_e,children:[W&&(0,O.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:W}),!W&&ze&&(0,O.jsx)(Ia,{price:z})]}),(0,O.jsx)(ge,{htmlDescription:o,narrators:B,spec:ye,isPreRelease:Q??!1})]}),(0,O.jsxs)("div",{className:Ne,children:[_?.isPlayable&&(0,O.jsx)(me,{label:l.Ru.get("audiobook.page.sample"),images:_.coverArt,title:_.name,duration:_.duration.milliseconds,moreButton:q?null:(0,O.jsx)(v.b,{menu:(0,O.jsx)(f.r,{uri:_.uri}),children:(0,O.jsx)(j.e,{})}),onClick:Me,isPlaying:we,isActive:Be,size:ue.LARGE,contentRating:_.contentRating?.label,isPlayable:_.isPlayable}),!Q&&(0,O.jsx)("div",{className:Ee,children:(0,O.jsx)(rt,{rating:F,onClick:Le})}),J.length>0&&(0,O.jsx)(V.N,{topics:J})]}),(0,O.jsxs)("div",{className:Ae,children:[!Q&&(0,O.jsx)(Qa,{bookUri:a,bookName:r,sampleUri:_?.uri,isFinishedUnlockingJourney:ee,usePlayContextItem:fe,spec:be,consumptionCapExplanation:K},`${a}-${q}-${!!K}`),ne&&(0,O.jsx)(Za.Z,{copyrights:U})]}),ie&&(0,O.jsx)(H,{title:l.Ru.get("similar-audiobooks.more-audiobooks-like-this"),uri:a,className:Ue})]})]})})}));var mt=t(61702),ht=t(25710),pt=t(83968);const gt=({uri:e,name:a,isSaved:t,backgroundColor:i,spec:r})=>{const n=(0,pe.s)(),o=!(0,ta.n)(),[c,d]=(0,sa.A)(e,t),u=(0,ea.d$)(),{spec:m,logger:h}=(0,ra.r)(xe.e,{data:{uri:e}});(0,s.useEffect)((()=>{u&&h.logImpression(m.impression())}),[u,h,m]);const p=(0,s.useCallback)((()=>{const a=r.followButtonFactory();n.logInteraction(c?a.hitUnfollow({itemToBeUnfollowed:e}):a.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)}),[e,c,r,n,d,u,h,m]),g=(0,s.useCallback)((()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())}),[n,r]),x=(0,aa.j)();return(0,O.jsx)(ye.E,{backgroundColor:i,children:(0,O.jsxs)(be.S,{children:[(0,O.jsx)(Ce.e,{children:(0,O.jsx)(pt.W,{isFollowing:c,onClick:p,disabled:o})},"follow-button"),(0,O.jsx)(v.b,{menu:(0,O.jsx)(ht.H,{uri:e}),onShow:g,children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",a),size:x})})]})})};var xt=t(86403),yt=t(4050),bt=t(3285),jt=t(53967),vt=t(90666),ft=t(54461),Ct=t(49255),kt=t(58206);const Pt="BknvXMyUnN3fQCz8mvLI",wt="slMInsl3HL9_02zHT22R",Rt="40px",St=({leavebehinds:e})=>{let a;return 1===e.length&&(a=(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&(a=l.Ru.get("podcast-ads.recent_ads_just_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&(a=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,O.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),a]})},It=({leavebehinds:e,uri:a,surface:t})=>{const i=(0,w.vh)();if((0,s.useEffect)((()=>{a&&e.length>0&&i.send((0,jt.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,vt.Fh)(t).toLowerCase()}`,surface:(0,vt.Fh)(t),uri:a}))}),[i,e,a,t]),0===e.length)return null;const r=(0,o.o_h)(a)?.id,n=1===e.length?e[0].clickthroughUrl:(0,ft.q)(r),c=Ct.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,O.jsx)(kt.N,{to:n,pathname:e.length>1?n:void 0,state:{uri:a},className:wt,onClick:()=>i.send((0,jt.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,vt.Fh)(t),uri:a})),"data-testid":"show-leavebehinds-container",children:(0,O.jsx)(Ea.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,O.jsxs)("div",{className:Pt,"data-testid":"show-leavebehinds-logos-container",children:[m.map((e=>(0,O.jsx)(yt.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:Rt,imageWidth:Rt},e.adId))),d?(0,O.jsx)(Nt,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:Rt,borderRadius:"4px",padding:"6px",children:(0,O.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,O.jsx)(St,{leavebehinds:e})})})};var Nt=(0,xt.Ay)(bt.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),Et=t(81544);const At=vt.ui.SHOW_PAGE;function _t({uri:e}){const{data:a,error:t,getLeavebehinds:i}=(0,Et.A)({surface:At,uri:e});(0,s.useEffect)((()=>{i()}),[i]);const r=(0,s.useMemo)((()=>a?(0,Ct.iT)(a,e):[]),[a?.requestId]);return t||a?.leavebehindAds&&a?.leavebehindAds?.length<1?null:(0,O.jsx)(It,{leavebehinds:r,uri:e,surface:At})}var Bt=t(27649),Ft=t(48585),Dt=t(64600),Tt=t(96083),Ut=t(84047),Mt=t(59699),Lt=t(28025);const Ot=({className:e,title:a,uri:t})=>{const{data:s}=(0,Ut.v)({uri:t}),i=s?.seoRecommendedPodcast.totalCount,r=s?.seoRecommendedPodcast.items,n=function(e){return(e||[]).filter((e=>(0,Mt.K)(e.data)))}(r);if(0===i)return null;const c=(0,o.o_h)(t)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map((({data:e},a)=>(0,O.jsx)(Tt.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,Lt.w)(e.mediaType),index:a},e.uri)))})},zt=e=>{const a=(0,D.D)({entityType:L.c.SHOW,componentType:"shelf",uri:e.uri});return(0,O.jsx)(F.s,{onError:a,children:(0,O.jsx)(Ot,{...e})})};var Ht=t(52554),Vt=t(19929),qt=t(81572),Gt=t(72056),Kt=t(63377);const Wt=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),$t=s.memo((function({uri:e,children:a}){return(0,O.jsx)(Kt.E,{uri:e,defaultState:[],sortContext:Wt,localStorageKey:"showFilterParams-v2",children:a})}));var Jt=t(38085);const Qt={field:Jt.WY.PUBLISH_DATE,order:Jt.AX.DESC},Xt={field:Jt.WY.PUBLISH_DATE,order:Jt.AX.ASC},Yt=Xt,Zt={episodic:Qt,sequential:Xt,recent:Qt};function es(){return new Map([[Qt,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[Xt,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function as(e){return Zt[e]}const ts=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:as("recent")}),ss=e=>{const a=es();return Array.from(a.keys()).some((({field:a})=>a===e?.field))},is=s.memo((function({uri:e,children:a,defaultSortParam:t}){return(0,O.jsx)(Kt.E,{uri:e,defaultState:t,sortContext:ts,localStorageKey:"showSortParam",validator:ss,children:a})}));var rs=t(67762),ns=t(72308),os=t(39667),ls=t(88308);const cs="ysJC093hc_2ixGCy40_s",ds="mJP3Bamg3hN7S0p7XKfN",us="clPqCj1L_KSfoVuTuP6x",ms="vqQmhCMZq7eUtTV7YYOQ",hs=s.memo((function({showMetadata:e,usePlayContextItem:a}){const{sortState:t}=(0,s.useContext)(ts),{sortState:i}=(0,s.useContext)(Wt),r=function(e,a,t){const s=(0,$a.T)(),{canSort:i}=s.capabilities,r=(0,ls.U0)((async(i,r)=>s.getContents(e,{offset:i,limit:r,sort:a,filters:t})),[s,e,a,t]),n=(0,ls.U0)((async(a,t)=>s.getContents(e,{offset:a,limit:t})),[s,e]);return i?r:n}(e.uri,t,i),n=(0,rs.c)(),o=n?6:50,[c,d]=(0,s.useState)(o),u=(0,s.useCallback)((async(e,a)=>{const t=await r(e,a);return{items:t.items,totalLength:t.totalCount}}),[r]),{getItems:m,nrValidItems:h}=(0,os.E)({fetch:u,nrItems:o,limit:50}),g=(0,s.useCallback)((()=>{d((e=>e+o))}),[o]),x=n&&h>c;return(0,O.jsxs)(ns.pZ,{value:"track-list",children:[(0,O.jsx)(Wa._,{onReachBottom:n?void 0:g,children:m(0,c-1).map(((t,s)=>t&&(0,O.jsxs)("div",{className:ds,children:[(0,O.jsx)("hr",{className:cs,"aria-hidden":!0}),(0,O.jsx)(Vt.q,{index:s,episode:t,showMetadata:e,usePlayContextItem:a},`${t.uri}/${s}`)]},`${s}${t.uri}`)))}),x&&(0,O.jsx)("div",{className:us,children:(0,O.jsxs)(qt.v,{onClick:()=>{g()},className:ms,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,O.jsx)(Gt.V,{size:"xsmall"})]})})]})}));var ps=t(55355);const gs={field:Jt.K$.ISPLAYED,operator:Jt.uj.EQUALS,value:!1},xs={field:Jt.K$.STARTEDPLAYING,operator:Jt.uj.GREATER_THAN,value:0};const ys="all-episodes",bs=({onFilter:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(Wt),i=new Map([[gs,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[xs,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),r=Array.from(i.values());r.unshift({key:ys,value:l.Ru.get("mwp.podcast.all.episodes")});const n=Array.from(i.keys()),o=(0,s.useCallback)((a=>{if(a===ys)t([]);else{const e=n.find((e=>i.get(e)?.key===a));e&&t([e])}e()}),[e,t,n,i]);if(!i.size||!n)return null;let c=r[0];const d=Array.from(i.entries()).filter((e=>a?.some((a=>a.field===e[0].field&&a.operator===e[0].operator))));return d.length>0&&(c=d[0][1]),(0,O.jsx)(ps.g,{options:r,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},js=({onSort:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(ts),i=es(),r=Array.from(i.values()),n=Array.from(i.keys()),o=(0,s.useCallback)((a=>{const s=n.find((e=>i.get(e)?.key===a));s&&t(s),e()}),[n,e,i,t]);if(!i.size||!a)return null;const c=Array.from(i.keys()).find((e=>e.field===a.field&&e.order===a.order));if(!c)return null;const d=i.get(c);return d?(0,O.jsx)(ps.g,{options:r,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},vs="jVWq1orbpiIK34UFHkFb",fs="gYTsg8kvcGmu41_lilIb",Cs="GMHh7OED_Nijo4zzSfrb",ks="sNEwCEh44Lapg36PnVFw",Ps="SoIsw3P_1RnUtFBHs_2d",ws="OMG3QMzpwer8oWsiJpzs",Rs="r0yVSge7A1iSTNfudfyV",Ss="yP6EeRtQJeqKq10IsMxn",Is="MIaGJ1KyQ3JLblOjWL19",Ns="p8WHC1qBUrwrBwzp_vYY",Es="Uzyuaxpkm_Gwb6jOGbva",As="TSNj_F4gGzCuxrzx6n98",_s="E4HX0M3aD0MY5dUCKSCb",Bs="CbSqM7wDwoLFnyIo1iKL",Fs="c0h80mSMc3PkNlHX0DYs",Ds="SGGetEMTKgQk1aJvG4k9",Ts="ne3ntrWAoMrE6_4A23Mf",Us=({spec:e})=>{const a=(0,pe.s)(),{canSort:t,canFilter:i}=(0,$a.T)().capabilities,r=(0,s.useCallback)((()=>{a.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())}),[a,e]),n=(0,s.useCallback)((()=>{a.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())}),[a,e]);return(0,O.jsxs)("div",{className:Ss,children:[i&&(0,O.jsx)("div",{className:Ns,children:(0,O.jsx)(bs,{onFilter:r})}),!i&&(0,O.jsx)(p.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",className:Es,children:l.Ru.get("mwp.podcast.all.episodes")}),t&&(0,O.jsx)("div",{className:Is,children:(0,O.jsx)(js,{onSort:n})})]})};var Ms=t(42812),Ls=t(22513),Os=t(48735);var zs=t(92297),Hs=t(62363),Vs=t(58151),qs=t(16859);const Gs=({breakpoint:e,metadata:a,spec:t})=>{const{uri:i,trailer:n,topics:o,description:c,htmlDescription:d,rating:u}=a,g=(0,Ms.N)(i),x=(0,pe.s)(),{spec:y,logger:j}=(0,ra.r)(r.R,{data:{uri:i}}),f=(0,s.useMemo)((()=>y.aboutSectionFactory()),[y]),C=(0,s.useMemo)((()=>t.episodeListFactory()),[t]),k=(0,h.wA)(),P=(0,R.V)(),{sortState:w}=(0,s.useContext)(Wt),S=(0,$a.T)(),I=(0,rs.c)(),{usePlayContextItem:N}=(0,ot.P)({uri:i,metadata:{[Vs.W.SORTING_CRITERIA]:S.getPlayerSort(Yt),[Vs.W.FILTERING_PREDICATE]:S.getPlayerFilter(w)}},{featureIdentifier:"show"}),{isActive:E,isPlaying:A,togglePlay:_}=N({uri:n?.uri||""}),B=(0,s.useCallback)((e=>{const a=t.aboutSectionFactory().seeMoreButtonFactory(),s=e?a.hitUiReveal():a.hitUiHide();x.logInteraction(s)}),[x,t]),F=(0,s.useCallback)(((e,a)=>{const s=t.aboutSectionFactory().topicFactory(a).hitUiNavigate({destination:a.uri});x.logInteraction(s)}),[x,t]),D=n?{name:n.name,uri:n.uri,audio:{items:n.audio.items.map((e=>({url:e.url})))}}:null,T=(0,Vt.B)(a),U=(0,zs.C)(D,T),M=(0,s.useCallback)((()=>{n?.uri&&(P?U():_())}),[U,P,_,n?.uri]),{ref:L,breakpoint:z}=(0,Hs.x)({[ka.E.MEDIUM]:0,[ka.E.LARGE]:600}),H=o.length>0,q=c||d,G=q||H,K=(0,Ft.C)();return(e=>{const a=(0,h.wA)(),t=(0,rs.c)(),i=(0,h.d4)(Os.uY);(0,s.useEffect)((()=>{t&&e!==i&&a((0,Ls.SC)(e))}),[e,i,a,t])})(i),(0,O.jsxs)("div",{className:m()(vs,"contentSpacing",{[Cs]:e===ka.E.LARGE}),ref:L,children:[(0,O.jsx)(Ht.q,{className:fs,gatedEntityCoverArt:a.gatedEntityCoverArt,gatedEntityRelations:a.gatedEntityRelations,upsellExplanation:a.upsellExplanation,hasAccess:a.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,O.jsxs)("div",{className:ks,children:[G&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(p.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",className:Es,children:l.Ru.get("artist.about")}),q&&(0,O.jsx)(he.N,{maxLines:4,content:(c||"").trim(),onExpanded:B,htmlContent:d||void 0}),n&&(0,O.jsx)(la.h,{menu:(0,O.jsx)(Bt.b,{uri:n.uri,showUri:i,sharingInfo:n.sharingInfo}),children:(0,O.jsx)(me,{label:l.Ru.get("track-trailer"),className:As,images:n.coverArt,title:n.name,duration:n.duration.milliseconds,moreButton:(0,O.jsx)(v.b,{menu:(0,O.jsx)(Bt.b,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:i}),children:(0,O.jsx)(Aa.e,{})}),onClick:M,isPlaying:A,isActive:E,size:ue.LARGE,contentRating:n.contentRating?.label})}),(0,O.jsxs)("div",{className:Bs,children:[u&&!g&&(0,O.jsx)("div",{className:Fs,children:(0,O.jsx)(rt,{rating:u,onClick:()=>{const e=f.ratingButtonFactory().hitUiReveal();j.logInteraction(e),k((0,b.eH)(i,a))}})}),H&&(0,O.jsx)(V.N,{topics:o,className:Ds,onClick:F})]})]}),(0,O.jsx)(_t,{uri:i})]}),(0,O.jsx)(Pa.o.Provider,{value:z,children:(0,O.jsxs)("div",{className:m()(ws,{[Rs]:I}),"data-testid":"show-all-episode-list",children:[(0,O.jsx)(Us,{spec:t}),(0,O.jsx)(qs.r,{spec:C,children:(0,O.jsx)(hs,{showMetadata:a,usePlayContextItem:N})})]})}),(0,O.jsx)(Za.Z,{copyrights:[]}),(0,O.jsxs)("div",{className:Ps,children:[K&&(0,O.jsx)(Dt.w,{uri:i,title:l.Ru.get("internal-link-recommender.popular-episodes"),"data-testid":"popular-episodes-above"}),I&&(0,O.jsx)(zt,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:i,className:Ts})]})]})},Ks=s.memo(Gs);var Ws=t(17662),$s=t(75489);const Js=({reason:e})=>{const a=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return a?(0,O.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:_s,children:a}):null};const Qs=({metadata:e,backgroundColor:a})=>{const{uri:t,coverArt:s,name:i,podcastType:r,publisherName:n,gatedContentAccessReason:o}=e,c=(0,O.jsx)(ht.H,{uri:t});return(0,O.jsxs)(ua.z,{backgroundColor:a,children:[(0,O.jsx)(pa.h,{children:(0,O.jsx)(la.h,{menu:c,children:(0,O.jsx)(ga.X,{text:i,dragUri:t,dragLabel:i})})}),(0,O.jsx)(Ws.X,{children:(0,O.jsx)(la.h,{menu:c,children:(0,O.jsx)($s.b,{loading:"eager",name:i,images:s,placeholderType:"show",shape:$s.u.SQUARE})})}),(0,O.jsxs)(ha.Y,{children:[(0,O.jsxs)(ya.B,{children:["SHOW"===r?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,O.jsx)(Js,{reason:o})]}),(0,O.jsx)(la.h,{menu:c,children:(0,O.jsx)(ja.mm,{dragUri:t,dragLabel:i,scaleAtMinWidth:ja.tw,children:(0,O.jsx)("span",{"data-testid":"show-title",children:i})})}),(0,O.jsx)(ba.g,{children:n})]})]})};var Xs=t(31166),Ys=t(62461),Zs=t(8759);const ei=({metadata:e,showId:a})=>{const{coverArt:t,name:i,uri:n,isSaved:o}=e,{spec:l}=(0,ra.r)(r.R,{data:{uri:n}}),d=(0,s.useMemo)((()=>l.actionBarFactory()),[l]),u=(0,Ya.H)(t[0]?.url||null),m=(0,Pa.y)();return(0,O.jsxs)("section",{children:[(0,O.jsx)(c.Q,{children:(0,ct.hV)({showOrAudiobookName:i,type:"Podcast"})}),(0,O.jsx)(Xa.c,{artistOrShow:i,uri:n,entityType:Xa.p.PODCAST}),(0,O.jsx)(Qs,{metadata:e,backgroundColor:u}),(0,O.jsx)(gt,{uri:n,name:i,isSaved:o,backgroundColor:u,spec:d}),(0,O.jsx)(Ks,{breakpoint:m,metadata:e,showId:a,spec:l})]})},ai=(0,s.memo)((function(){const{showId:e=""}=(0,i.g)(),a=`spotify:show:${e}`,{data:t,error:r,redirectUri:c}=(0,qe.W)(a);if(c){const e=(0,o.Lce)(c);return(0,O.jsx)(mt.$,{to:e.toURLPath(!0)})}const u=t&&(0,Ja.Go)(t);return!t||r?r instanceof Zs.W?(0,O.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")}):(0,O.jsx)(d.LoadingPage,{hasError:!!r,errorMessage:l.Ru.get("error.not_found.title.page")}):u?(0,O.jsx)(s.Suspense,{fallback:null,children:(0,O.jsx)(Xs.u,{pageId:n.$h.PODCAST_SHOW_AUDIOBOOK,uri:a,children:(0,O.jsx)(Ys.d,{dynamicColors:t.dynamicColors,children:(0,O.jsx)(ut,{metadata:t},`${!!t.consumptionCapExplanation}`)})})}):(0,O.jsx)(s.Suspense,{fallback:null,children:(0,O.jsx)(Xs.u,{pageId:n.$h.PODCAST,uri:a,children:(0,O.jsx)($t,{uri:t.uri,children:(0,O.jsx)(is,{uri:t.uri,defaultSortParam:as(t.consumptionOrder),children:(0,O.jsx)(Ys.d,{dynamicColors:t.dynamicColors,children:(0,O.jsx)(ei,{showId:e,metadata:t})})})})})})}))},76919:(e,a,t)=>{t.d(a,{G:()=>w});var s=t(97500),i=t.n(s),r=t(79252),n=t(44004);const o="YNXLVjlRXPfM4xObTojA",l="CVRy4NtxZYSle8dJ1E67",c="holKDGFNEFSz85czBeSv",d="gqidZhN1lgoZDfI_7E6w",u="_IQ8dgA5pEr_V8PfUkWa",m="xNkPMA_OvAxcFTdfyroI";var h=t(86070);const p=({value:e,label:a,hasDivider:t=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(n.E,{variant:"titleSmall",className:i()({[u]:t}),children:e}),(0,h.jsx)(n.E,{variant:"marginal",semanticColor:"textSubdued",children:a})]});var g=t(30758);const x=6e4,y=36e5,b=864e5;var j=t(42976),v=t(22682);const f={days:0,hours:0,minutes:0,seconds:0};function C(e){return e>0?function(e){const a=Math.abs(e);return{days:Math.floor(a/b),hours:Math.floor(a%b/y),minutes:Math.floor(a%y/x),seconds:Math.floor(a%x/1e3)}}(e):f}var k=t(68538),P=t(1263);const w=({targetDate:e,className:a,onComplete:t,images:s,imageTitle:n})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,a)=>{const t=(0,g.useRef)(a);t.current=a;const[s,i]=(0,g.useState)((()=>C((0,j.u)(e))));return(0,v.$)((a=>{const s=(0,j.u)(e),r=C(s);i(r),s<=0&&(a(),t.current?.())}),1e3),s})(e,t),b=void 0!==s&&s.length>0&&n,f=r.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:i()(o,a,{[l]:b}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:f}),b&&(0,h.jsx)(k.b,{images:s,type:P.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:n}),(0,h.jsx)(p,{value:c,label:r.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(p,{value:u,label:r.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(p,{value:x,label:r.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(p,{value:y,label:r.Ru.get("web-player.prerelease.seconds",y)})]})}},81172:(e,a,t)=>{t.d(a,{I:()=>l});var s=t(30758),i=t(23115),r=t(92915),n=t(19792),o=t(86070);const l=s.memo((function({uri:e,size:a=i.M.md,className:t,onClick:l,canDownload:c,condensedAll:d}){const[u,m]=(0,n.A)(e),h=(0,r.W)(),p=(0,s.useCallback)((()=>{h({targetUri:e,intent:u?"unsave":"save",type:"click"}),m(!u)}),[h,e,u,m]);return(0,o.jsx)(i.f,{className:t,isFollowing:u,onFollow:p,onClick:l,uri:e,size:a,canDownload:c,condensedAll:d,condensed:!0})}))},84047:(e,a,t)=>{t.d(a,{v:()=>n});var s=t(5820),i=t(33031);const r=new s.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),n=(e,a)=>(0,i.I)(r,e,a)},96083:(e,a,t)=>{t.d(a,{o:()=>h});var s=t(79252),i=t(82770),r=t(45595),n=t(82099),o=t(29683),l=t(7606),c=t(47290),d=t(25710),u=t(27817),m=t(86070);const h=({images:e,name:a,uri:t,publisher:h,sharingInfo:p,mediaType:g,isHero:x=!1,onClick:y,testId:b,index:j,requestId:v,color:f,variant:C,logCardImpressions:k=!1})=>{let P;const w=g===u.Q.MIXED?s.Ru.get("type.show"):s.Ru.get("card.tag.show");return P=x?(0,m.jsx)(o.A,{index:j,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:w}),h&&(0,m.jsx)("span",{children:h})]}),testId:b,requestId:v,logCardImpressions:k}):(0,m.jsx)(i.Z,{variant:C,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,index:j,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:b,requestId:v,logCardImpressions:k}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:t,sharingInfo:p}),children:P})}}}]);
//# sourceMappingURL=xpui-routes-show.js.map