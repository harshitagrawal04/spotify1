"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{42631:(e,t,a)=>{a.d(t,{u:()=>h});var r=a(97500),i=a.n(r),s=a(40638),n=a(35748),o=a(67847),l=a(92915),c=a(96231),u=a(15845),d=a(32574),p=a(86070);const h=({uri:e,src:t,playAriaLabel:a,onClick:r,isPlaying:h,isActive:m,isLocked:y,isEpisode:g,isVideo:x,spec:b})=>{const L=(0,l.W)(),v=(0,u.s)(),A=(0,s.YQ)((t=>{let a;if(L({type:"click",intent:h?"pause":"play"}),b){const t=b.playbackButtonFactory();let r;r=m&&h?t.hitPause({itemToBePaused:e}):m&&!h?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=v.logInteraction(r)}r(t,a)}),c.d,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,p.jsx)(o.e,{src:t,isEpisode:g,isVideo:x}),(0,p.jsx)(n.x,{className:i()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:A,isPlaying:h,isLocked:y,playAriaLabel:a})]})}},60177:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(9969);const i="rTMkDBDp47Eo12ZEQv4U";var s=a(86070);const n=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${a}`},t)}));return t&&a.unshift((0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,s.jsx)("div",{className:i,children:a})}},71016:(e,t,a)=>{a.d(t,{R:()=>s});var r=a(58206),i=a(86070);const s=({uri:e,enabled:t,className:a,children:s,onClick:n})=>t?(0,i.jsx)(r.N,{to:e,className:a,onClick:n,children:s}):(0,i.jsx)(i.Fragment,{children:s})},76600:(e,t,a)=>{a.d(t,{J:()=>n});var r=a(5820),i=a(33031);const s=new r.l("getTrack","query","26cd58ab86ebba80196c41c3d48a4324c619e9a9d7df26ecca22417e0c50c6a4",null),n=(e,t)=>(0,i.I)(s,e,t)},98493:(e,t,a)=>{a.d(t,{j:()=>R});var r=a(30758),i=a(97500),s=a.n(i),n=a(44004),o=a(93686),l=a(45005),c=a(79252),u=a(43453),d=a(47290),p=a(76434),h=a(82221),m=a(58206);var y=a(60989),g=a(52748),x=a(33782),b=a(24276),L=a(86070);function v(e){return e.displayName||e.name||""}const A=e=>{let t=null;return(0,l.ecE)(e)&&(t=(0,L.jsx)(p.t,{uri:e})),(0,l.APS)(e)&&(t=(0,L.jsx)(h.B,{uri:e})),t},k=({creator:e,onClick:t,position:a=0})=>{const i=(0,r.useCallback)((r=>{t?.(r,{position:a,creator:e})}),[e,t,a]);return(0,y.s)(e)?(0,L.jsx)(d.h,{menu:A(e.uri),children:(0,L.jsx)(n.E,{variant:"bodySmallBold",children:(0,L.jsx)(m.N,{"data-testid":"creator-link",to:e.uri,onClick:i,children:v(e)})})}):(0,L.jsx)(n.E,{variant:"bodySmall",children:v(e)})},j=({creator:e,onClick:t,isSmallIcon:a})=>{const[r,i]=c.Ru.get("playlist.header.made-for","USER").split("USER");return(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper,{[b.A.smallMadeForIcon]:a}),children:[(0,L.jsx)(o.D,{semanticColor:"textBrightAccent"}),(0,L.jsx)(n.E,{variant:"bodySmall",children:r}),(0,L.jsx)(k,{creator:e,onClick:t}),i&&(0,L.jsx)(n.E,{variant:"bodySmall",children:i})]})},f=({creator:e,onClick:t,isSmallIcon:a,prefix:r})=>(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[e.images.length>0&&(0,L.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small"}),r&&(0,L.jsx)(n.E,{variant:"bodySmall",children:r}),(0,L.jsx)(k,{creator:e,onClick:t})]}),_=({creators:e,onPiledCreatorsClick:t,isSmallIcon:a})=>{const r=(0,L.jsx)("div",{className:b.A.piled,children:e.slice(0,3).map(((e,t)=>(0,L.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small",piled:t>0},e.uri)))});let i=c.Ru.get("playlist.header.creator-and-others",v(e[0]),e.length-1);return 2===e.length&&(i=c.Ru.get("playlist.header.creator-and-co-creator",v(e[0]),v(e[1]))),t?(0,L.jsxs)("button",{className:s()(b.A.metaDataText,b.A.creatorWrapper,b.A.creatorButton),onClick:t,children:[r,i]}):(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[r,i]})},C=({creators:e,onCreatorClick:t})=>(0,L.jsx)(L.Fragment,{children:e.map(((e,a)=>(0,L.jsxs)(r.Fragment,{children:[0!==a&&(0,L.jsx)("span",{className:b.A.divider}),(0,L.jsx)(k,{creator:e,onClick:t,position:a})]},e.id)))}),N=({creators:e,onPiledCreatorsClick:t,onCreatorClick:a,isTunaApplied:r})=>{const i=(0,x.y)(),s=i===(g.E.SMALL||i===g.E.XSMALL);if(1===e.length){const[t]=e;return t.isMadeFor?(0,L.jsx)(j,{creator:t,onClick:a,isSmallIcon:s}):(0,L.jsx)(f,{creator:t,onClick:a,isSmallIcon:s,prefix:r?"":void 0})}return e.length>0&&e.every((e=>(0,l.APS)(e.uri)))?(0,L.jsx)(_,{creators:e,onPiledCreatorsClick:t,isSmallIcon:s}):(0,L.jsx)(C,{creators:e,onCreatorClick:a})};function R({creators:e,onCreatorClick:t,onPiledCreatorsClick:a,isTunaApplied:i}){return(0,L.jsx)(r.Suspense,{fallback:null,children:(0,L.jsx)(N,{creators:e,onPiledCreatorsClick:a,onCreatorClick:t,isTunaApplied:i})})}},99284:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Sr});var r=a(30758),i=a(97500),s=a.n(i),n=a(85387),o=a(44004),l=a(17971),c=a(43409);const u="music",d="5.1.0",p="default",h="16.2.6";function m(e){return new y(e)}class y{constructor(e){this._path=[{name:"desktop-track",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new y.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new y.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}artistLinkFactory(t){return new e.HeaderEventFactory.ArtistLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}playButtonFactory(){return new e.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.ActionBarEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextButtonFactory(){return new e.ActionBarEventFactory.ContextButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new e.ActionBarEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){!function(e){e.ArtistLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({...a,name:"artist_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(y||(y={})),function(e){!function(e){e.PlayButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"play_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.ContextButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.DownloadButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"download_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={}));var g=a(45005),x=a(79252),b=a(47290),L=a(60790),v=a(11936),A=a(97514),k=a(83415),j=a(11891),f=a(7106),_=a(9242),C=a(13195),N=a(98493),R=a(55277),w=a(45381),I=a(26506),P=a(54264),E=a(10683),S=a(41350),T=a(18587),B=a(5820),U=a(33031);const V=new B.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var F=a(71016),M=a(87205),O=a(50791),D=a(69867),q=a(42631),G=a(50813),Z=a(54287),$=a(21279),z=a(70731),W=a(25811),Y=a(38872),H=a(23823),X=a(61545),Q=a(30775),J=a(24646),K=a(53112),ee=a(67762),te=a(35894),ae=a(309),re=a(1425),ie=a(90423),se=a(72308),ne=a(69078),oe=a(38138);const le="Z9Dr8PkXFtlO8KnnDcxp",ce="Bm0LUMlhVIcF5qusgdUP",ue="GIyB7JDkRwjtVL6PSBbg",de="whTIka0YYAkqhqrs26Wa";var pe=a(86070);const he=r.memo((function({uri:e,name:t,imgUrl:a,artists:r,isExplicit:i,index:s,albumUri:n,contextUri:o,isPlayable:l,isMOGEFRestricted:c,totalMilliseconds:u,playcount:d,usePlayContextItem:p}){const{isActive:h,isPlaying:m,triggerPlay:y,togglePlay:g}=p({uri:e,index:s}),v=(0,ne.T)(e),{isPlayable:A,isAnyArtistBanned:k}=(0,te.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:r.map((e=>e.uri))}),{unBanArtists:j}=(0,K.M)(r.map((e=>e.uri))),f=r.map((e=>e.name)).join(x.Ru.getSeparator()),{badges:_,hasBadges:C}=(0,oe.b)({isMOGEFRestricted:c,downloadAvailability:v,isExplicit:i}),N=r.map((e=>e.name)).join(x.Ru.getSeparator()),R=(0,ee.c)();return(0,pe.jsx)(se.pZ,{value:"row",index:s,children:(0,pe.jsx)(b.h,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:n,artists:r,contextUri:o}),children:(0,pe.jsxs)(Q.w,{uri:e,contextUri:o,isPlayable:A,isAnyArtistBanned:k,handleArtistBanUndoClick:j,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:h,index:s,ariaRowIndex:s,dragMetadata:{name:t,createdBy:f},isExplicit:i,children:[(0,pe.jsxs)(W.U,{ariaColIndex:0,children:[(0,pe.jsx)(q.u,{uri:e,src:a,onClick:(e,t)=>{g({loggingParams:t})},isLocked:!1,isPlaying:m,isActive:h,playAriaLabel:x.Ru.get("tracklist.a11y.play",t,f)}),(0,pe.jsxs)(G.l,{children:[(0,pe.jsx)(F.R,{uri:e,enabled:R,className:ue,children:(0,pe.jsx)(X.p,{titleText:t,children:t})}),C&&(0,pe.jsxs)(O.P,{children:[_.download&&(0,pe.jsx)(re._,{}),_.explicit&&(0,pe.jsx)(ae.U,{}),_.nineteen&&(0,pe.jsx)(ie.q,{className:de,size:16})]}),(0,pe.jsx)(H.p,{children:(0,pe.jsx)(M.l,{artists:r})})]})]}),(0,pe.jsx)(Y.o,{ariaColIndex:1,children:(0,pe.jsx)($.Y,{playcount:d})}),(0,pe.jsxs)(z.l,{ariaColIndex:2,children:[(0,pe.jsx)(J.d,{uri:e}),(0,pe.jsx)(D.P,{duration:u}),(0,pe.jsx)(Z.Y,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:n,contextUri:o,artists:r}),label:x.Ru.get("more.label.track",t,N)})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));var me=a(93887),ye=a(2336),ge=a(44558),xe=a(24848),be=a(21574),Le=a(84785),ve=a(1263);const Ae=r.memo((function({subtitle:e,uri:t}){const{data:a}=(i={uri:t,limit:5},(0,U.I)(V,i,s));var i,s;const n=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t})(e.data))).map((e=>e.data))}(a?.seoRecommendedTrack.items),c=(0,r.useMemo)((()=>n?.slice(0,Math.min(n.length,5))),[n]),u=(0,r.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),d=(0,r.useMemo)((()=>[ge.$.TITLE_AND_ARTIST,ge.$.ALBUM,ge.$.DURATION]),[]),{usePlayContextItem:p}=(0,xe.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:n?.map((e=>({uri:e.uri,uid:null,type:ve.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),h=(0,r.useCallback)(((e,a)=>(0,pe.jsx)(he,{index:a,contextUri:t,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===Le.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===Le.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:p},`${a}-${e.uri}`)),[t,p]);return n?.length?(0,pe.jsxs)("div",{className:le,children:[(0,pe.jsxs)("div",{className:ce,children:[(0,pe.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:x.Ru.get("playlist.extender.recommended.title")}),(0,pe.jsx)(o.E,{variant:"bodySmall",paddingBottom:l.CD,children:e})]}),(0,pe.jsx)(ye.S4,{ariaLabel:x.Ru.get("playlist.extender.recommended.title"),nrTracks:c.length,rowPlaceholder:me.qq,tracks:c,renderRow:h,resolveItem:u,columns:d},"internal-link-recommender-track-list")]}):null})),ke=e=>{const{entityType:t}=e;return(0,pe.jsx)(T.s,{onError:()=>{(0,be.fE)({metric_type:S.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:t}})},children:(0,pe.jsx)(Ae,{...e})})};var je=a(58206),fe=a(30618),_e=a(2384),Ce=a(76556),Ne=a(76608),Re=a(61411);const we=({albums:e,artistName:t,artistId:a,artistUri:r,className:i})=>e?(0,pe.jsx)(se.pZ,{value:"shelf/albums",children:(0,pe.jsx)(Ne.$,{total:e.totalCount,title:x.Ru.get("rich-page.popular-albums-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(a)}:discography:${Le._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,Re.Ey)(e.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:r},e.uri)))})}):null;var Ie=a(57451);const Pe=({artistId:e,className:t,fansAlsoLike:a,title:r})=>(0,pe.jsx)(se.pZ,{value:"shelf/fans-also-like",children:(0,pe.jsx)(Ne.$,{total:a.length,title:r??x.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,Re.Dh)(e)}:related`,className:t,children:a.map(((e,t)=>(0,pe.jsx)(se.pZ,{value:"card",index:t,children:(0,pe.jsx)(Ie.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ee=a(72264);const Se="ERm7dIKbVoqGwPb_lXPH",Te=({artistName:e,artistUri:t,headerClassName:a,rowClassName:i,topTracks:s,topTracksTransformer:n,uri:l})=>{const c=(0,r.useMemo)((()=>s?.items.map((e=>n(e,l)))),[s?.items,n,l]);return c&&c.length>0?(0,pe.jsxs)("div",{className:i,children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)(o.E,{variant:"bodySmall",className:Se,children:x.Ru.get("rich-page.popular-tracks")}),(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:a,children:e})]}),(0,pe.jsx)(Ee.z,{uri:t,nrTracks:c.length,initialTracks:c})]}):null};var Be=a(74891);const Ue=({artistName:e,artistId:t,artistUri:a,className:i,releases:s,artistImages:n})=>{const o=(0,r.useMemo)((()=>n?{title:e,pretitle:x.Ru.get("artist-page.popular"),media:(0,Be.h)(n,{desiredSize:48})||""}:null),[n,e]);return s?(0,pe.jsx)(se.pZ,{value:"shelf/releases",children:(0,pe.jsx)(Ne.$,{total:10,title:x.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Re.Dh)(t)}:discography:${Le._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,...o,children:s.items.map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))})}):null},Ve=({artistId:e,artistName:t,artistUri:a,className:r,singles:i})=>i?(0,pe.jsx)(se.pZ,{value:"shelf/singles-and-eps",children:(0,pe.jsx)(Ne.$,{total:i.totalCount,title:x.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(e)}:discography:${Le._m.Single.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Re.Ey)(i.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))})}):null;var Fe=a(75981),Me=a(73723),Oe=a(20494),De=a(14505),qe=a(83745),Ge=a(1310),Ze=a(85181);const $e="VdIaMy6YRQX6cN5B7OVC",ze="LjkmarFarmUOq0nmv9iy",We="VHigmLQwT1FxkKEbCs4H",Ye="qX5K6LTMIuXG1gFBXzjZ",He="fsH_X6pBkexdxtu19q5k",Xe="sDbr7RxY_jjg1XXq8zU5",Qe="MiWZGlZeQCy1tibDTql5",Je="uci6FedOoLZEL163ZR8k",Ke="GDA6ugyRoV7ZiqIyOU4d",et="IUBwxdZXklSkRPTZ9w_Q",tt="f7XB243E_dNMV9dkUXV6",at="gQQC7YFmzffMUaCqbx3o",rt="QJVNM_FcLpEHhjDc_FU3",it="Vd2oInYt1Ynz9X6KgL7o",st="yUA20RYjsLIb7xXNRlfn",nt="MVDvKVX1aJ05U9lmHzaz",ot=({richTrack:e})=>{const{search:t}=(0,n.zy)(),a=(0,r.useCallback)((()=>new URLSearchParams(t.slice(1)).get("highlight")||""),[t])(),{tracklistRef:i}=(0,Ze.h)(),s=e.albumOfTrack,{playUri:o,playOptions:l}=(0,Ge.J)(s?.uri||""),{usePlayContextItem:c}=(0,xe.P)({uri:o},{featureIdentifier:"album"},l),u=(0,r.useMemo)((()=>({items:[],totalCount:0})),[]),d=(0,qe.t)();return s?(0,pe.jsx)("div",{ref:i,className:Qe,children:(0,pe.jsx)(Oe.a,{columns:d,children:(0,pe.jsx)(De.F,{albumName:s.name,nrTracks:s.tracks.totalCount,albumUri:s.uri,highlightUri:a,discs:u,usePlayContextItem:c,hasHeaderRow:!1})})}):null};let lt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});var ct=a(43943);const ut=(e,t)=>{switch(t.type){case"SEO_LYRICS_LOADING":return{...e,[t.uri]:{status:lt.LOADING}};case"SEO_LYRICS_LOADED":return{...e,[t.uri]:{status:lt.LOADED,data:t.response}};case"SEO_LYRICS_ERROR":return{...e,[t.uri]:{status:lt.UNAVAILABLE}};default:return(0,ct.d)(t,`Unhandled lyrics action with type: ${t.type}`)}};var dt=a(68265),pt=a(81907);var ht=a(82786);const mt=async({api:e,uri:t,isPlayable:a,clientId:r=""})=>{if(!a||!t||!r)return{hasLyrics:!1};try{const a=await(async(e,t,a)=>(await e.build().withHost(pt.Hj).withPath(`/seo/track/${t}`).withEndpointIdentifier("/track/{trackId}").withHeaders([{key:"x-spotify-seolyrics-clientid",value:a}]).send()).body)(e||dt.n.getInstance(),t.id,r);return{hasLyrics:!0,lyrics:a.lyrics.lines,provider:a.lyrics.provider,providerDisplayName:a.lyrics.providerDisplayName,providerLyricsId:a.lyrics.providerLyricsId,isRtlLanguage:a.lyrics.isRtlLanguage}}catch(e){if(e instanceof ht.O&&404===e.status)return{hasLyrics:!1};throw e}},yt={status:lt.LOADING},gt={status:lt.UNAVAILABLE},xt=r.createContext(void 0),bt=({children:e,initialState:t={}})=>{const a=r.useReducer(ut,t);return(0,pe.jsx)(xt.Provider,{value:a,children:e})},Lt=({uri:e,isNotPermittedToFetchLyrics:t,isPlayable:a})=>{const i=r.useContext(xt);if(void 0===i)throw new Error("useSeoLyrics must be used within a SeoLyricsProvider");const[s,n]=i,o=e?s[e]:null;return(0,r.useEffect)((()=>{t||!o&&e&&(n({type:"SEO_LYRICS_LOADING",uri:e}),mt({uri:(0,g.o_h)(e)??void 0,isPlayable:a,clientId:"65b708073fc0480ea92a077233ca87bd"}).then((t=>{n({type:"SEO_LYRICS_LOADED",uri:e,response:t})})).catch((()=>{n({type:"SEO_LYRICS_ERROR",uri:e})})))}),[n,t,a,o,e]),e&&(0,g.U_m)(e)&&!t&&a?o||yt:gt};var vt=a(9969);const At="OH5mnpJIVCJozYM3raMt",kt="etw0slM6uVrCi5RR3iDi",jt=({padded:e,providerDisplayName:t})=>t?(0,pe.jsx)(vt.Z,{as:"p",dir:"auto",variant:"finale",className:`${At} ${e?kt:""}`,children:x.Ru.get("web-player.lyrics.providedBy",t)}):null,ft=({uri:e,isPlayable:t})=>{const{data:a}=Lt({uri:e,isPlayable:t});return a?.hasLyrics?(0,pe.jsx)(jt,{providerDisplayName:a.providerDisplayName}):null};var _t=a(2567),Ct=a(55784),Nt=a(19730),Rt=a(62108),wt=a(23115),It=a(24313),Pt=a(90298),Et=a(78723),St=a(85852),Tt=a(33796),Bt=a(81882),Ut=a(95961),Vt=a(56157),Ft=a(19792),Mt=a(3161);const Ot=r.memo((function({uri:e,togglePlay:t,isPlaying:a,isActive:i,spec:s,logger:n,backgroundColor:o,name:l,isPlayable:c,albumUri:u,artists:d}){const p=(0,Bt.n)(),[h,m]=(0,Ft.A)(e),y=(0,St.d$)(),{spec:g,logger:b}=(0,Mt.r)(_t.e,{data:{uri:e}});(0,r.useEffect)((()=>{y&&b.logImpression(g.impression())}),[y,b,g]);const v=(0,r.useCallback)((async()=>{const t=s.saveButtonFactory();n.logInteraction(h?t.hitRemoveLike({itemNoLongerLiked:e}):t.hitLike({itemToBeLiked:e})),h&&y&&b.logInteraction(g.hitAddToPlaylist({itemToBeAdded:e,playlist:Vt.BP}));try{await m(!h)}catch{}}),[e,h,s,n,m,y,b,g]),A=(0,r.useCallback)((()=>{const r=(0,Ut.$I)({isPlaying:a,isActive:i,spec:s.playButtonFactory(),logger:n,uri:e});t({loggingParams:r})}),[i,a,n,s,t,e]),k=(0,r.useCallback)((()=>{n.logInteraction(s.contextButtonFactory().hitUiReveal())}),[n,s]),j=(0,Tt.j)();return(0,pe.jsx)(Ct.E,{backgroundColor:o,children:(0,pe.jsxs)(Nt.S,{children:[(0,pe.jsx)(Et.e,{children:(0,pe.jsx)(_e.D,{onClick:A,isPlaying:a,disabled:!c,size:j,uri:e})}),(0,pe.jsx)(Et.e,{children:(0,pe.jsx)(Rt.M,{isAdded:h,onClick:v,disabled:!p,size:j,condensed:!0})}),(0,pe.jsx)(wt.f,{uri:e,isFollowing:h,onFollow:v,size:j,condensed:!0,onClick:(t,a)=>(0,Ut.Qv)(a,s.downloadButtonFactory(),n,e)}),(0,pe.jsx)(Pt.b,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:u,artists:d}),onShow:k,children:(0,pe.jsx)(It.e,{label:x.Ru.get("more.label.context",l),size:j})})]})})}));let Dt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const qt=(e,t)=>{switch(t.type){case"LYRICS_LOADING":return{...e,[t.uri]:{status:Dt.LOADING}};case"LYRICS_LOADED":return{...e,[t.uri]:{status:Dt.LOADED,data:t.response}};case"LYRICS_ERROR":return{...e,[t.uri]:{status:Dt.UNAVAILABLE}};default:return(0,ct.d)(t,`Unhandled lyrics action with type: ${t.type}`)}},Gt=async({trackUri:e,api:t,imageForLyricsRequest:a,isPlayable:r})=>{if(!r)return{hasLyrics:!1};const i=(0,g.o_h)(e);try{const e=await(async(e,t,a)=>(await e.build().withHost(pt.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(a)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(t||dt.n.getInstance(),i.id,a||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof ht.O&&404===e.status)return{hasLyrics:!1};throw e}},Zt={status:Dt.LOADING},$t={status:Dt.UNAVAILABLE},zt=r.createContext(void 0),Wt=({children:e,initialState:t={}})=>{const a=r.useReducer(qt,t);return(0,pe.jsx)(zt.Provider,{value:a,children:e})},Yt=({uri:e,isNotPermittedToFetchLyrics:t,imageForLyricsRequest:a,isPlayable:i})=>{const s=r.useContext(zt);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=s,l=e?n[e]:null;return(0,r.useEffect)((()=>{t||!l&&e&&(o({type:"LYRICS_LOADING",uri:e}),Gt({trackUri:e,imageForLyricsRequest:a,isPlayable:i}).then((t=>{o({type:"LYRICS_LOADED",uri:e,response:t})})).catch((()=>{o({type:"LYRICS_ERROR",uri:e})})))}),[o,a,t,i,l,e]),e&&(0,g.U_m)(e)&&!t&&i?l||Zt:$t},Ht=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const{data:r}=Yt({uri:e,imageForLyricsRequest:t,isPlayable:a});return r?.hasLyrics?(0,pe.jsx)(jt,{providerDisplayName:r.providerDisplayName}):null};var Xt=a(62411),Qt=a(88019);const Jt="QhDsXG1Gmo7XmQWLggAO",Kt="bZgWQj7UxvK8GYKWDA7N",ea="AW61P3tnW5cKJCWtbhFh",ta=({buttonText:e,className:t,onSecondaryButtonClick:a,onPrimaryButtonClick:r,secondaryButtonText:i,text:n})=>(0,pe.jsxs)("div",{className:s()(Jt,t),"data-testid":"static-activation-trigger",children:[(0,pe.jsx)(o.E,{className:Kt,variant:"bodyMediumBold",semanticColor:"textBase",children:n}),(0,pe.jsxs)("div",{className:ea,children:[(0,pe.jsx)(c.H,{onClick:a,semanticColor:"textBase",children:i}),(0,pe.jsx)(Qt.$,{onClick:r,colorSet:"invertedLight",children:e})]})]});var aa=a(45127),ra=a(34288),ia=a(47455),sa=a(12304),na=a(85507),oa=a(94705),la=a(49531),ca=a(61008);const ua=e=>{const t=(0,aa.vh)(),a=(0,Xt.d4)(oa.F6),r=(0,Xt.d4)(na.JJ),i=(0,Xt.d4)(oa.oo),s=(0,sa.V)();return()=>{(0,be.fE)({metric_type:S.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const n={category:"lyrics_render_error",label:"dwp",os:(0,ca.f)(),context:JSON.stringify({uri:e,product:i}),country:a?r:"",sp_t:(0,la.v8)("sp_t")},o=s?ia.r:ra._;t.send(o(n))}};a(51670);var da=a(33100),pa=a(17145);var ha=a(68192),ma=a(13355),ya=a(30861);const ga=()=>{const e=(0,ee.c)(),t=(0,n.zy)(),{trackId:a=""}=(0,n.g)(),r=(0,ha.o)(ma.P.SeoLyricsReferrer,t),i=(0,ya.sp)(document.referrer)||r,s=(0,ha.o)(ma.P.SeoLyrics,t),o=(0,da.NC)(pa.gAe)===pa.vh7.Enabled,l=atob((0,la.v8)("x-unauth-referred")||"");return!((0,ya.w2)(window.navigator.userAgent)||!e||!i||l!==a)&&(s||o)};var xa=a(8335);const ba="EaTxqhHk6J4ecKHwpY5m",La="dUQl9yd5x_1oWk4L0Ntm",va="xt5C47eHPYNiriMJxGnC";var Aa=a(21506);const ka=({words:e,onObserve:t,lyricsInView:a,...i})=>{const{ref:s,inView:n}=(0,xa.Wx)({threshold:1}),l=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{a||(l.current=!1)}),[a]),(0,r.useEffect)((()=>{l.current||n&&(t({text:e,outOfView:!1}),l.current=!0)}),[n,t,e]),(0,pe.jsx)(o.E,{ref:s,as:"p",dir:"auto",variant:"bodyMedium",className:va,"data-testid":i["data-testid"],children:e})},ja="q1JbsdMqX7OImgIFWa6J",fa="hAGejMh7SncdbJ5wcfUi",_a="IaG9Zc3xGxeYjsn73RAz",Ca="zgSEYVU2gMYxihFVEJPn",Na=420,Ra=280,wa="expandable-lyrics-container";const Ia=({lyrics:e,lyricsInView:t,onObserve:a,previewCount:i})=>{const[n,l]=(0,r.useState)(!1),{visibleLyrics:c,collapsibleLyrics:u}=function(e,t){let a=0,r=-1;const i=e.filter((e=>!!e.words));for(const[e,s]of i.entries())if(a+=s.words.length,a>t){r=e;break}if(r>-1)return{visibleLyrics:i.slice(0,r),collapsibleLyrics:i.slice(r)};return{visibleLyrics:i,collapsibleLyrics:[]}}(e,i),d=u.length>0,p=n?x.Ru.get("show_less"):`…${x.Ru.get("show_more")}`;return(0,pe.jsxs)(pe.Fragment,{children:[c.map((({words:e},r)=>(0,pe.jsx)(ka,{onObserve:a,words:e,lyricsInView:t,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${r}`))),(0,pe.jsx)("span",{"aria-hidden":!n,className:s()(_a,{[Ca]:n}),children:u.map((({words:e},r)=>(0,pe.jsx)(ka,{onObserve:n?a:()=>{},words:e,lyricsInView:n&&t},`lyrics-seo-line-${r}`)))}),d&&(0,pe.jsx)("button",{className:ja,onClick:()=>{l(!n)},"aria-controls":wa,"aria-owns":wa,"aria-label":p,children:(0,pe.jsx)(o.E,{variant:"bodyMediumBold",className:fa,children:p})})]})},Pa=({data:e,eventSender:t,playbackId:a,previewCount:i,uri:s})=>{const{lyrics:n=[],provider:l,providerLyricsId:c,syncType:u}=e,{ref:d,inView:p}=(0,xa.Wx)({threshold:0}),h=function(e){const{trackUri:t,provider:a,providerLyricsId:i,syncType:s,eventSender:n,playbackId:o}=e,l=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[y,g]=(0,r.useState)(!1),x=(0,r.useMemo)((()=>(0,Aa.W)({lyrics_format:"track-page",track_uri:t,provider:a,provider_lyrics_id:i,sync_type:s,playback_id:o})),[t,a,i,s,o]),b=(0,r.useMemo)((()=>({name:"LyricsSnippetViewEvent",environments:["device","desktop","browser"],data:{track_uri:t,playback_id:o,provider:a,provider_lyrics_id:i,sync_type:s,lyrics_format:"track-page"}})),[t,a,i,s,o]);return(0,r.useEffect)((()=>{p(!1),u(!1),m(0),g(!1),l.current=null}),[t]),(0,r.useEffect)((()=>{o&&(c&&u(!1),d&&p(!1))}),[o]),(0,r.useEffect)((()=>{c||(!d&&h>0&&(n?.send(b),p(!0)),h>=140&&y&&(n?.send(x),u(!0)))}),[h,d,b,c,x,n,y]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(m((e=>e+t.length)),c||null!==l.current||(l.current=setTimeout((()=>{g(!0)}),1500))),a&&(l.current&&clearTimeout(l.current),l.current=null,m(0))}),[m,c])}({trackUri:s,provider:l,providerLyricsId:c,syncType:u,eventSender:t,playbackId:a});return(0,r.useEffect)((()=>{p||h({outOfView:!0})}),[p,h]),(0,pe.jsxs)("div",{className:ba,ref:d,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Ia,{lyrics:n,lyricsInView:p,onObserve:h,previewCount:i})]})};function Ea(e){return{name:"SeoLyricsImpressionNonAuth",environments:["browsernonauth"],data:e}}const Sa=({data:e,eventSender:t,isBot:a,previewCount:i,trackTitle:s,trackArtists:n,uri:l})=>{const{lyrics:c=[],provider:u,providerLyricsId:d}=e,{ref:p,inView:h}=(0,xa.Wx)({threshold:0}),m=function(e){const{eventSender:t,isBot:a,provider:i,providerLyricsId:s,trackTitle:n,trackArtists:o,trackUri:l}=e,c=(0,r.useRef)(null),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,y]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),b=(0,r.useMemo)((()=>Ea({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,la.v8)("sp_t"):void 0,impression_type:"minimumCharactersSeen",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:l})),[a,i,s,n,o,l]),L=(0,r.useMemo)((()=>Ea({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,la.v8)("sp_t"):void 0,impression_type:"snippet",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:l})),[a,i,s,n,o,l]);return(0,r.useEffect)((()=>{h(!1),d(!1),y(0),x(!1),c.current=null}),[l]),(0,r.useEffect)((()=>{u||(!p&&m>0&&(t?.send(L),h(!0)),m>=140&&g&&(t?.send(b),d(!0)))}),[m,p,L,u,b,t,g]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(y((e=>e+t.length)),u||null!==c.current||(c.current=setTimeout((()=>{x(!0)}),1500))),a&&(c.current&&clearTimeout(c.current),c.current=null,y(0))}),[y,u])}({eventSender:t,isBot:a,provider:u,providerLyricsId:d,trackUri:l,trackArtists:n,trackTitle:s});return(0,r.useEffect)((()=>{h||m({outOfView:!0})}),[h,m]),(0,pe.jsxs)("div",{className:ba,ref:p,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Ia,{lyrics:c,lyricsInView:h,onObserve:m,previewCount:i})]})};var Ta=a(88218);const Ba=({uri:e,isPlayable:t,trackArtists:a,trackTitle:i})=>{const[s,n]=(0,r.useState)(Na),o=ga(),{data:l}=Lt({uri:e,isNotPermittedToFetchLyrics:!o,isPlayable:t}),c=(0,aa.vh)(),u=(0,r.useCallback)((()=>{window.innerWidth<=768?n(Ra):window.innerWidth>768&&s===Ra&&n(Na)}),[s]);return(0,r.useEffect)((()=>{u()}),[u]),(0,Ta.s)(u),l&&l?.hasLyrics?(0,pe.jsx)(Sa,{data:l,eventSender:c,isBot:(0,ya.w2)(window.navigator.userAgent),previewCount:s,trackArtists:a,trackTitle:i,uri:e}):null},Ua=e=>{const t=ua(e.uri);return(0,pe.jsx)(T.s,{onError:t,children:(0,pe.jsx)(Ba,{...e})})};var Va=a(92505),Fa=a(13478);const Ma=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const[i,s]=(0,r.useState)(Na),{data:n}=Yt({uri:e,imageForLyricsRequest:t,isPlayable:a}),o=(0,aa.vh)(),{isPaused:l,currentTrackUri:c,playbackId:u}=(0,Va.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),Fa.a),d=!l&&c===e,p=(0,r.useCallback)((()=>{window.innerWidth<=768?s(Ra):window.innerWidth>768&&i===Ra&&s(Na)}),[i]);return(0,r.useEffect)((()=>{p()}),[p]),(0,Ta.s)(p),n&&n?.hasLyrics?(0,pe.jsx)(Pa,{data:n,uri:e,eventSender:o,playbackId:d?u:void 0,previewCount:i}):null},Oa=e=>{const t=ua(e.uri);return(0,pe.jsx)(T.s,{onError:t,children:(0,pe.jsx)(Ma,{...e})})};var Da=a(36576);const qa="T1nqQ4HEh3heHy4RCCKa",Ga="L8zjshPVgUMXyZR4FtOk",Za="YMn1FWcFmOz9osBrNvhF",$a="Inbyq3TnvKDOJtcKFTDQ",za="lWk5se4WETUOJwaEb8D6",Wa="i8DyQbWCmDV_8N5XGJQT",Ya="t5WPFlGTY6GCd9UOFfLu",Ha="AGQ3wRyMVK1odq860qnT",Xa="ZX_r7uZgPgssaUplfpxT",Qa="qrqctaPu2XBpxsw23nPX",Ja="XnWidTagai3nQwMPxIMF";var Ka=a(68538),er=a(46412),tr=a(19156),ar=a(72042);let rr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ir=e=>{const{disabled:t,images:a,LinkComponent:r,name:i,size:o,uri:l,enableI18nAdditionalPages:c}=e,u=o===rr.SMALL,d=(0,n.Zp)(),p=(0,g.o_h)(l),h=p?.type,m=x.Ru.getLocaleForURLPath(),y=(0,tr.p)({entityFeatureFlag:c,urlLocale:m,entity:h,type:"link"});return(0,pe.jsxs)("div",{className:s()(Ga,{[Za]:t}),"data-testid":"track-artist-link-card",children:[(0,pe.jsx)(Ka.b,{shape:Ka.u.CIRCLE,images:a,size:er.Qe.SIZE_80,title:i,type:ve.c.ARTIST}),(0,pe.jsxs)("div",{className:s()(za,{[Wa]:u}),children:[(0,pe.jsx)(vt.Z,{variant:"mestoBold",className:$a,children:x.Ru.get("card.tag.artist")}),(0,pe.jsx)(r,{to:l,children:(0,pe.jsx)(vt.Z,{as:"div",dir:"ltr",className:Ya,variant:"balladBold",children:i})})]}),(0,pe.jsx)("div",{onClick:()=>{const e=p?.toURL(`/${ar.CT}${m}/`);if(p){const t=y?e:p.toURLPath(!0);d(t)}},className:Ha})]})},sr=({size:e=rr.LARGE,disabled:t=!1,enableI18nRoutes:a,enableI18nAdditionalPages:i,...n})=>{const[o,l]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{l(!o)}),[o]),d=n.artists;return(0,pe.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,pe.jsx)("div",{className:qa,children:d.map(((r,l)=>(0,pe.jsx)("div",{className:s()({[Qa]:o&&l>5,[Xa]:l>5}),children:(0,pe.jsx)(ir,{name:r.name,uri:r.uri,images:r.images,size:e,LinkComponent:n.LinkComponent,disabled:t,enableI18nRoutes:a,enableI18nAdditionalPages:i},r.id)},`${r.uri}-${l}`)))}),d.length>6&&(0,pe.jsx)(c.H,{onClick:u,className:Ja,children:(0,pe.jsx)(vt.Z,{as:"p",variant:"violaBold",children:o?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})})]})};var nr=a(31320);const or=e=>{const{albumArtists:t,columnCount:a,imageForLyricsRequest:i,isPlayable:n,uri:o,title:l}=e,c=a-2,u={"--column-count":a,"--left-column-end":c-2,"--right-column-start":c},{isAnonymous:d}=(0,Xt.d4)(oa.Ht),p=(0,Bt.n)(),{data:h,status:m}=Yt({uri:o,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:i,isPlayable:n}),y=!!h?.hasLyrics&&m!==Dt.UNAVAILABLE,g=ga(),{data:b,status:L}=Lt({uri:o,isPlayable:n,isNotPermittedToFetchLyrics:!g}),v=!!b?.hasLyrics&&L!==lt.UNAVAILABLE,A=y||d&&(!g||v),k=(0,Xt.d4)(Da.M),j=(0,Xt.d4)(Da.N),f=(()=>{const e=(0,da.NC)(pa.gAe),t=(0,aa.vh)(),a=(0,ee.c)(),r=(0,sa.V)();return i=>{if(!a||!r)return;const s={category:"track_unauth_lyrics_exposure",action:"viewed",variant:e,label:"dwp",os:(0,ca.f)(),context:i,sp_t:(0,la.v8)("sp_t")};t.send((0,ia.r)(s))}})();(0,r.useEffect)((()=>{f(document.referrer)}),[f]);return(0,pe.jsxs)(r.Suspense,{fallback:null,children:[A&&(0,pe.jsx)("div",{className:s()(We,{[Ye]:a>5}),style:{...u},"data-testid":"lyrics-container",children:d?d&&g?(0,pe.jsx)(Ua,{uri:o,isPlayable:n,trackArtists:t.map((e=>e.name)).join(x.Ru.getSeparator()),trackTitle:l}):(0,pe.jsx)(ta,{buttonText:x.Ru.get("sign_up"),secondaryButtonText:x.Ru.get("login"),text:x.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:nr.ie,onSecondaryButtonClick:nr.PW,className:"paywall"}):(0,pe.jsx)(Oa,{uri:o,imageForLyricsRequest:i,isPlayable:n})}),(0,pe.jsx)("div",{className:s()($e,{[ze]:a>5&&A}),style:{...u},children:(0,pe.jsx)(sr,{artists:t,LinkComponent:je.N,disabled:!p,enableI18nRoutes:k,enableI18nAdditionalPages:j})})]})};function lr({playcount:e,durationMs:t}){return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.q,{children:(0,Be.f)(t)}),e&&e>0?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(I.J,{}),(0,pe.jsx)(w.q,{variant:"bodySmall","data-testid":"playcount",children:x.Ru.formatNumber(e)})]}):null]})}var cr=a(76600),ur=a(12534),dr=a(60177),pr=a(44569);const hr="o2TlnuNKxRO5RnB9BpHB",mr="q0Ke_aAvTcc4dO4wCHQt",yr="UlKUfS_GcROZmofuafOW",gr="I5LORTI1u3A6VoUvRCBf",xr="TS85Qkpioa31wR0p4kzT",br="yL1DLXBc05CR_ACv_NhA",Lr="k5kRkUyoz9znqg_SGOVQ";var vr=a(34447),Ar=a(21701);let kr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const jr=({art:e,disabled:t=!1,LinkComponent:a,name:r,size:i=kr.SMALL,type:o,uri:l})=>{const c=e?[e]:[],u=i===kr.SMALL?(0,vr.C)(o):function(e){switch(e){case Ar.s.SINGLE:return x.Ru.get("track-page.from-the-single");case Ar.s.EP:return x.Ru.get("track-page.from-the-ep");case Ar.s.COMPILATION:return x.Ru.get("track-page.from-the-compilation");case Ar.s.ALBUM:default:return x.Ru.get("track-page.from-the-album")}}(o),d=(0,n.Zp)();return(0,pe.jsxs)("div",{className:s()(hr,{[yr]:i===kr.SMALL,[mr]:t}),children:[(0,pe.jsx)("div",{className:gr,children:(0,pe.jsx)(Ka.b,{images:c,size:er.Qe.SIZE_80,title:r,type:ve.c.ALBUM})}),(0,pe.jsxs)("div",{className:xr,children:[(0,pe.jsx)(vt.Z,{variant:i===kr.SMALL?"mestoBold":"finale",children:u}),(0,pe.jsx)(a,{to:l,children:(0,pe.jsx)(vt.Z,{as:"div",className:br,variant:"balladBold",dir:"auto",children:r})})]}),(0,pe.jsx)("div",{onClick:()=>{d((0,g.o_h)(l).toURLPath(!0))},className:Lr})]})};var fr=a(25219),_r=a(35827),Cr=a(95799),Nr=a(62461),Rr=a(26068),wr=a(49365);const Ir=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),Pr=e=>(e||[]).map((e=>e.profile.name)),Er=({uri:e,track:t})=>{const a=(0,Bt.n)(),i=(0,sa.V)(),n=(0,ur.W)({type:"locale",uri:e}),u=x.Ru.getLocaleForTranslation(),d=parseInt(t.playcount||"0",10),{firstArtist:p,otherArtists:h,albumOfTrack:y,duration:g,name:S}=t,T=y?.coverArt,B=y?.copyright.items,U=y?.courtesyLine,V=y?.date,F=T?.extractedColors?.colorRaw.hex,M=(T?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),O=Pr(p.items),D=Pr(h.items),q=Ir(p),G=Ir(h),Z=[...q,...G],$=p.items[0],z=t.albumOfTrack,W=z?.playability?.playable,Y={artistId:$?.id,artistName:$?.profile?.name,artistUri:$?.uri},H=t.albumOfTrack?.coverArt?.sources,X=(0,Be.h)(H||void 0,{desiredLabel:"large",desiredSize:600})??H?.[0]?.url??"",[Q,J]=(0,r.useState)(!1),K=(0,r.useCallback)((()=>{J(!Q)}),[Q]),ee=h&&h.items.length>5,{spec:te,logger:ae}=(0,Mt.r)(m,{data:{uri:e}}),re=t.playability.playable,{togglePlay:ie,isPlaying:se,isActive:ne}=(0,xe.P)({uri:e},{featureIdentifier:"track"}),oe=(0,r.useCallback)((()=>(0,Rr.rO)({i18n:x.Ru,trackArtistsList:[...O,...D].join(x.Ru.getSeparator()),trackName:t.name,shouldLocalize:n})),[O,D,n,t.name]),le=(0,r.useCallback)(((e,t)=>{ae.logInteraction(te.headerFactory().artistLinkFactory({position:t.position,uri:t.creator.uri}).hitUiNavigate({destination:t.creator.uri}))}),[ae,te]),ce=(0,r.useCallback)((()=>{const t=(0,Ut.$I)({isPlaying:se,isActive:ne,spec:te.actionBarFactory().playButtonFactory(),logger:ae,uri:e});ie({loggingParams:t})}),[ne,se,ae,te,ie,e]),ue=z?.uri,de=(0,r.useMemo)((()=>[...p.items,...h.items].map((e=>({uri:e.uri,name:e.profile.name})))),[p.items,h.items]),he=ga(),me=(0,pe.jsx)(L.P,{uri:e,albumUri:ue,artists:de});return(0,pe.jsxs)("section",{"data-testid":"track-page",children:[(0,pe.jsx)(v.Q,{children:oe()}),(0,pe.jsx)(Me.c,{artistOrShow:de.map((e=>e.name)).join(x.Ru.getSeparator()),title:S,uri:e,entityType:Me.p.TRACK}),(0,pe.jsxs)(A.z,{backgroundColor:F,children:[(0,pe.jsxs)(f.h,{children:[(0,pe.jsx)(_e.D,{size:"medium",onClick:ce,disabled:!re,isPlaying:se,uri:e}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(_.X,{text:S,dragUri:e,dragLabel:S})})]}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(k.K,{dragUri:e,images:M,name:S,placeholderType:"album"})}),(0,pe.jsxs)(j.Y,{children:[(0,pe.jsx)(o.E,{variant:"bodySmallBold",children:x.Ru.get("song")}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(P.mm,{dragUri:e,dragLabel:S,children:S})}),(0,pe.jsxs)(C.X,{children:[(0,pe.jsx)(N.j,{creators:q,onCreatorClick:le}),z&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(I.J,{}),(0,pe.jsx)(w.q,{children:(0,pe.jsx)(je.N,{to:z.uri,children:z.name})})]}),(0,pe.jsx)(I.J,{}),(0,pe.jsx)(R.H,{releaseDate:V}),(0,pe.jsx)(I.J,{}),(0,pe.jsx)(lr,{playcount:d,durationMs:g.totalMilliseconds})]})]})]}),(0,pe.jsx)(Ot,{uri:e,togglePlay:ie,isPlaying:se,isActive:ne,spec:(0,r.useMemo)((()=>te.actionBarFactory()),[te]),logger:ae,backgroundColor:F,name:S,isPlayable:re,albumUri:ue,artists:de}),(0,pe.jsx)(bt,{children:(0,pe.jsxs)(Wt,{children:[(0,pe.jsxs)("div",{className:"contentSpacing",children:[(0,pe.jsx)("div",{className:He,children:(0,pe.jsx)(pr.E,{render:({columnCount:a})=>(0,pe.jsx)(or,{imageForLyricsRequest:X,albumArtists:Z,columnCount:a,uri:e,isPlayable:re,title:t.name}),rowGap:l.lT})}),(0,pe.jsx)(ke,{subtitle:x.Ru.get("internal-link-recommender.based-on-this-song"),uri:t.uri,entityType:ve.c.TRACK}),(0,pe.jsx)(Te,{artistName:$.profile.name,artistUri:$.uri,headerClassName:Ke,rowClassName:He,topTracks:$.discography.topTracks,topTracksTransformer:Fe.fX,uri:t.uri}),(0,pe.jsx)(Ue,{className:Je,releases:$?.discography?.popularReleasesAlbums,...Y}),(0,pe.jsx)(we,{albums:$?.discography?.albums,className:Je,...Y}),(0,pe.jsx)(Ve,{className:Je,singles:$?.discography?.singles,...Y}),h.items.length>0&&(0,pe.jsx)("div",{className:tt,children:h.items.map(((e,t)=>(0,pe.jsx)(Ue,{className:s()(et,{[rt]:t>4,[it]:Q&&t>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),ee&&(0,pe.jsx)(c.H,{onClick:K,className:st,children:(0,pe.jsx)(o.E,{as:"h2",variant:"bodySmallBold",children:Q?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})}),(0,pe.jsx)(E.b,{uri:e,className:Je}),(0,pe.jsx)(Pe,{artistId:$.id,className:s()(Je,{[at]:h.items.length>0}),fansAlsoLike:$.relatedContent.relatedArtists.items,title:x.Ru.get("artist-page.fansalsolike")}),z&&(0,pe.jsx)(jr,{art:z.coverArt?.sources[0],disabled:!W||!a,LinkComponent:je.N,name:z.name,type:z.type,size:kr.LARGE,uri:z.uri}),(0,pe.jsx)(ot,{richTrack:t})]}),(0,pe.jsx)("div",{className:"contentSpacing",children:(0,pe.jsxs)("div",{className:Xe,children:[V?.isoString&&(0,pe.jsx)(o.E,{as:"p",variant:"bodySmall",className:nt,children:(0,wr.rh)((0,wr.ad)(V.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,wr.rk)(V.precision))}),(0,pe.jsx)(dr.Z,{copyrights:B||[],courtesyLine:U}),!i&&(0,pe.jsx)(Ht,{uri:e,imageForLyricsRequest:X,isPlayable:re}),i&&he&&(0,pe.jsx)(ft,{uri:e,isPlayable:re})]})})]})})]})},Sr=(0,r.memo)((function(){const{trackId:e=""}=(0,n.g)(),t=(0,g.Mce)(e).toURI(),a=(0,cr.J)({uri:t}),r="Track"===a.data?.trackUnion?.__typename&&a.data?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,Cr.V)(a.data?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return a.loading||a.error||"Track"!==a.data?.trackUnion?.__typename?(0,pe.jsx)(fe.LoadingPage,{hasError:!a.loading,errorMessage:x.Ru.get("track-page.error")}):(0,pe.jsx)(_r.P,{surface:fr.u.TRACK,uris:[t,a.data.trackUnion.albumOfTrack?.uri??null],children:(0,pe.jsx)(Nr.d,{dynamicColors:r,children:(0,pe.jsx)(Er,{uri:t,track:a.data.trackUnion})})})}))}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map