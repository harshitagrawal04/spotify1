"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5853],{28911:(t,e,a)=>{a.r(e),a.d(e,{default:()=>M});var n=a(97500),o=a.n(n),r=a(97547);const i="0.1.0",s="default";function c(t){return new l(t)}class l{constructor(t){this._path=[{name:"desktop-concerts-gallery"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}eventSectionFactory(t){return new l.EventSectionEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[s,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.EventSectionEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:a}){this._path=t.concat({...a,name:"event_section"}),e&&(this._parentAbsoluteLocation=e)}eventCardFactory(e){return new t.EventSectionEventFactory.EventCardEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[s,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(l||(l={})),function(t){!function(t){t.EventCardEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:a}){this._path=t.concat({...a,name:"event_card"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[s,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:"music",generatorVersion:"16.2.6",interactionType:"hit",specificationMode:s,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.EventSectionEventFactory||(t.EventSectionEventFactory={}))}(l||(l={}));var d=a(79252),h=a(25373),u=a(11936),p=a(97514),m=a(66118),g=a(11891),v=a(7106),y=a(9242),_=a(54264),b=a(30618),x=a(30758),C=a(76608),j=a(99665),f=a(79881),A=a(86070);const L=t=>{const e=(0,f.I)({...(a=t.data,"__typename"in a&&"ConcertGalleryConcertCard"===a.__typename?t.data.concert:{}),position:t.position,spec:t.spec});var a;return e?(0,A.jsx)(j.A,{...e,onClick:e.handleClick}):null},E=({position:t,header:e,items:a,spec:n})=>{const o=(0,x.useMemo)((()=>n?.eventSectionFactory({position:t})),[n,t]);return(0,A.jsx)(C.$,{total:a.length,showAll:!0,title:e?.title,withEncoreCards:!1,children:a.map(((t,e)=>(0,A.jsx)(L,{position:e,data:t,spec:o},e)))})};var S=a(85387),w=a(60749),N=a(5820),k=a(33031);const V=new N.l("ConcertGallery","query","9fda600bdc4dcb5e9585df7ce39a385320fb62c1f306122c9e9c437c5d1281ca",null),F=(t,e)=>(0,k.I)(V,t,e);var G=a(3161);const I="qivAyVC3g48WmEmuzJFu",M=()=>{const{data:t,sections:e,loading:a}=(({useConcertGalleryQuery:t=F}={})=>{const{slug:e}=(0,S.g)(),[a]=(0,w.ok)(),{data:n,loading:o}=t({uri:`spotify:concert-gallery:${e}${a?`?${a.toString()}`:""}`});if(r=n?.concertGallery,void 0===r||!("__typename"in r)||"ConcertGalleryView"!==r.__typename)return{loading:o};var r;const i=n.concertGallery.items.reduce(((t,e)=>{if("ConcertGalleryTitle"===e.__typename)return[...t,[e]];const a=t.pop()??[];return[...t,[...a,e]]}),[]);return{data:n.concertGallery,sections:i,loading:o}})(),{spec:n}=(0,G.r)(c,{});return a?(0,A.jsx)(b.LoadingPage,{hasError:!1,errorMessage:""}):t?(0,A.jsxs)("section",{children:[t.header?.title&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.Q,{children:t.header.title}),(0,A.jsxs)(p.z,{size:p.K.SMALL,backgroundColor:t.header.hexColor||r.Ql9,children:[(0,A.jsx)(g.Y,{children:(0,A.jsx)(_.mm,{children:t.header.title})}),t.header.description&&(0,A.jsx)(m.Z,{children:t.header.description}),(0,A.jsx)(v.h,{children:(0,A.jsx)("div",{children:(0,A.jsx)(y.X,{text:t.header.title})})})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(h.K,{backgroundColor:t.header?.hexColor||r.Ql9}),(0,A.jsx)("div",{className:o()(I,"contentSpacing"),children:e?.map(((t,e)=>{const[a,...o]=t,r="ConcertGalleryTitle"===a.__typename?a:void 0,i=r?o:t;return(0,A.jsx)(E,{position:e,header:r,items:i,spec:n},e)}))})]})]}):(0,A.jsx)(b.LoadingPage,{hasError:!0,errorMessage:d.Ru.get("concert.error.concert_not_found_title")})}},36772:(t,e,a)=>{a.d(e,{Q:()=>n});const n=t=>{const[e]=t;if(!("visuals"in e.data))return;const[a]=e.data.visuals.avatarImage?.sources??[];return a?.url}},79881:(t,e,a)=>{a.d(e,{I:()=>d});var n=a(30758),o=a(45005),r=a(79252),i=a(16498),s=a(36772),c=a(8146),l=a(15845);const d=t=>{const e=(0,l.s)(),a=(0,n.useMemo)((()=>{const e=(0,o.o_h)((0,i.$V)(t)?t.data.uri:"");return t.spec?.eventCardFactory({identifier:e?.id,position:t.position,uri:e?.toURI()??""})}),[t]);if(!(0,i.$V)(t))return;return{imageUrl:(0,s.Q)(t.data.artists.items)??"",uri:t.data.uri,title:t.data.title,subTitle:[t.data.location.name,t.data.location.city].join(r.Ru.getSeparator()),date:t.data.startDateIsoString,dateRange:(0,c.Y)(new Date(t.data.startDateIsoString)),handleClick:()=>a&&e.logInteraction(a.hitUiNavigate({destination:t.data.uri}))}}},99665:(t,e,a)=>{a.d(e,{A:()=>x});var n=a(30758),o=a(87968),r=a(44004),i=a(93686),s=a(58206),c=a(8146),l=a(52337);const d="wedRUk4eiBo9n9vqXLhU",h="hMbtEskyvMbDiwq1EScA",u="HYVIJaYYiCTgSCHie70L",p="SPbe_Q1wtiZQCmo0QKUy",m="TRp4tgG7_cymGIXDevIP",g="tC1Y_nwyyly7cpIGqF5K",v="l93AfoV_qHnMQSQBB5GK",y="DgDBmSR2sbwji2UfqxIf",_="EkGb0ZzhswreSvpZoioY";var b=a(86070);const x=(0,n.memo)((t=>{const{uri:e,title:a,imageUrl:n,date:x,subTitle:C,firstParty:j,onClick:f}=t,A=x?(0,c.l4)(x):void 0;return(0,b.jsx)(s.N,{to:e,className:d,"data-testid":"concert-card",onClick:f,children:(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)(l.b,{children:(0,b.jsx)("div",{role:"img",className:_,style:{backgroundImage:`url(${n})`},children:!n&&(0,b.jsx)(o.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),A&&(0,b.jsxs)("time",{className:u,dateTime:x,children:[(0,b.jsx)(r.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(A)}),(0,b.jsx)(r.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(A)})]}),(0,b.jsxs)("div",{className:p,dir:"auto",children:[(0,b.jsx)(r.E,{as:"h3",variant:"bodyMedium",className:m,children:a}),(0,b.jsxs)("div",{className:g,children:[j&&(0,b.jsx)("span",{className:y,children:(0,b.jsx)(i.D,{size:"small"})}),(0,b.jsx)(r.E,{as:"span",className:v,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))}}]);
//# sourceMappingURL=xpui-routes-collection-concert-gallery.js.map