"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[987],{11937:(t,e,o)=>{o.d(e,{c:()=>i,t:()=>r});var n=o(45005);const a=t=>({url:t}),i=t=>{const e=[];return t.largeImageUrl?e.push(a(t.largeImageUrl)):t.imageUrl&&e.push(a(t.imageUrl)),{displayName:t.displayName,images:e,username:t.username,uri:(0,n.Qjr)(t.username).toURI()}},r=(t,e,o)=>{const n=[],a=t.sessionMembers.find((({id:e})=>e===t.sessionOwnerId));a&&n.push(a);const r=t.isSessionOwner?void 0:t?.sessionMembers.find((({username:t})=>t===e));r&&(o?.userFirst?n.unshift(r):n.push(r));const s=t.sessionMembers.filter((({username:o,id:n})=>n!==t.sessionOwnerId&&o!==e));return[...n,...s].map(i)}},29396:(t,e,o)=>{o.d(e,{T:()=>s});const n="music",a="1.0.0",i="default",r="15.2.1";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-jam-remove-participant-confirmation-dialog"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}buttonRowFactory(){return new c.ButtonRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ButtonRowEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"button_row"}),e&&(this._parentAbsoluteLocation=e)}cancelButtonFactory(){return new t.ButtonRowEventFactory.CancelButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}removeButtonFactory(){return new t.ButtonRowEventFactory.RemoveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(c||(c={})),function(t){!function(t){t.CancelButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"cancel_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeUiHide(){return{actionName:"ui_hide",actionVersion:1,app:n,generatorVersion:r,interactionType:"key_stroke",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ButtonRowEventFactory||(t.ButtonRowEventFactory={}))}(c||(c={})),function(t){!function(t){t.RemoveButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"remove_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitRemoveParticipant({participantId:t,sessionId:e}){return{actionParameterNames:["participant_id","session_id"],actionParameterValues:[t.toString(),e.toString()],actionName:"remove_participant",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeRemoveParticipant({participantId:t,sessionId:e}){return{actionParameterNames:["participant_id","session_id"],actionParameterValues:[t.toString(),e.toString()],actionName:"remove_participant",actionVersion:1,app:n,generatorVersion:r,interactionType:"key_stroke",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ButtonRowEventFactory||(t.ButtonRowEventFactory={}))}(c||(c={}))},40770:(t,e,o)=>{o.d(e,{ParticipantListPage:()=>E});var n=o(30758),a=o(62411),i=o(85387),r=o(44004),s=o(45005),c=o(79252),p=o(54509),l=o(11936),u=o(20271),h=o(97321),m=o(66225),g=o(86070);const _=({memberToBeRemoved:t,onClose:e})=>{const{logRemoveClick:o}=(0,h.R)(),{currentSession:a,removeSessionMember:i}=(0,m.D)(),r=t?.id??"",s=t?.displayName??"",p=a?.sessionId??"",l=(0,n.useCallback)((()=>{o(r,p),r&&(i(r),e())}),[o,r,p,i,e]),_=(0,n.useCallback)((()=>{e()}),[e]);return(0,g.jsx)(u.T,{isOpen:Boolean(r),titleText:c.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:s}),"aria-label":c.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:s}),confirmText:c.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:c.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel"),onConfirm:l,onClose:_})};var d=o(83793),b=o(51313),L=o(44677),y=o(43453),A=o(47290),v=o(82221),C=o(58206),f=o(11937);const w="VaoPVkde4AzxorQnp6Jp",R="dDz8CzVKiV2128rhR543",V="tBAiRbWhD79Gi2XqZ_AG",F=({sessionMember:t,index:e,showRemoveButton:o,onClickRemove:n,onClickMember:a})=>{const{displayName:i,images:s,uri:p,username:l}=(0,f.c)(t);return(0,g.jsx)(A.h,{menu:(0,g.jsx)(v.B,{uri:p}),children:(0,g.jsx)("span",{children:(0,g.jsxs)(L.$,{rowIndex:e,className:w,children:[(0,g.jsx)(b.T,{columnIndex:0,children:(0,g.jsxs)(C.N,{to:p,className:V,onClick:a,"aria-label":i,children:[(0,g.jsx)(y.e,{images:s,userIconSize:"medium",width:32,displayName:i,username:l,label:i}),(0,g.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textBase",children:i})]})}),o&&(0,g.jsx)(b.T,{columnIndex:1,className:R,children:(0,g.jsx)(d.n,{size:"small",onClick:n,"aria-label":c.Ru.get("web-player.social-connect.participant-list.remove-guest-accessible-label",{displayName:i}),children:c.Ru.get("web-player.social-connect.participant-list.remove-guest")})})]})})})};var k=o(97235);const N="qAE8wMAxO5THZoNqlb0q",E=()=>{const t=(0,a.d4)((t=>t.session.user?.id)),{currentSession:e}=(0,m.D)(),[o,u]=(0,n.useState)(),{logUserClick:h,logRemoveClick:d,UBIFragmentWithSpec:b}=(0,k.T)(),L=(0,n.useCallback)(((t,e)=>{d(t),u(e)}),[d]),y=(0,n.useCallback)(((t,e)=>{const o=(0,s.Qjr)(e.username).toURI();h(t,o)}),[h]),A=(0,n.useCallback)((()=>{u(void 0)}),[]),v=e?.sessionMembers.find((t=>t.id===e.sessionOwnerId));if(!e||!v)return(0,g.jsx)(i.C5,{to:"/queue"});const C=e.isSessionOwner?2:1;return(0,g.jsxs)("section",{className:"contentSpacing",children:[(0,g.jsx)(l.Q,{children:c.Ru.get("web-player.social-connect.participant-list.title",{host:v.displayName})}),(0,g.jsx)(r.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("web-player.social-connect.participant-list.title")}),(0,g.jsx)(r.E,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",children:c.Ru.get("web-player.social-connect.participant-list.subtitle")}),(0,g.jsx)(p.f,{"aria-colcount":C,"aria-rowcount":e.sessionMembers.length,"aria-label":c.Ru.get("web-player.social-connect.participant-list.title"),className:N,children:e.sessionMembers.map(((o,n)=>(0,g.jsx)(F,{sessionMember:o,showRemoveButton:e.isSessionOwner&&o.username!==t,index:n,onClickRemove:()=>L(n,o),onClickMember:()=>y(n,o)},o.displayName)))}),(0,g.jsx)(b,{children:(0,g.jsx)(_,{memberToBeRemoved:o,onClose:A})})]})}},88804:(t,e,o)=>{o.d(e,{I:()=>s});const n="music",a="2.0.0",i="default",r="15.2.1";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-jam-participant-list"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}participantListFactory(){return new c.ParticipantListEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ParticipantListEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"participant_list"}),e&&(this._parentAbsoluteLocation=e)}participantListRowFactory(e){return new t.ParticipantListEventFactory.ParticipantListRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(c||(c={})),function(t){!function(e){e.ParticipantListRowEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({...o,name:"participant_list_row"}),e&&(this._parentAbsoluteLocation=e)}userLinkFactory(){return new t.ParticipantListEventFactory.ParticipantListRowEventFactory.UserLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}removeButtonFactory(){return new t.ParticipantListEventFactory.ParticipantListRowEventFactory.RemoveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(t.ParticipantListEventFactory||(t.ParticipantListEventFactory={}))}(c||(c={})),function(t){!function(t){!function(t){t.UserLinkEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"user_link"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:n,generatorVersion:r,interactionType:"key_stroke",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ParticipantListRowEventFactory||(t.ParticipantListRowEventFactory={}))}(t.ParticipantListEventFactory||(t.ParticipantListEventFactory={}))}(c||(c={})),function(t){!function(t){!function(t){t.RemoveButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"remove_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"key_stroke",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ParticipantListRowEventFactory||(t.ParticipantListRowEventFactory={}))}(t.ParticipantListEventFactory||(t.ParticipantListEventFactory={}))}(c||(c={}))},97235:(t,e,o)=>{o.d(e,{T:()=>s});var n=o(30758),a=o(88804),i=o(3161),r=o(86070);const s=()=>{const{spec:t,logger:e,UBIFragment:o}=(0,i.r)(a.I,{});return{logUserClick:(0,n.useCallback)(((o,n)=>{e.logInteraction(t.participantListFactory().participantListRowFactory({position:o}).userLinkFactory().hitUiNavigate({destination:n}))}),[e,t]),logRemoveClick:(0,n.useCallback)((o=>{e.logInteraction(t.participantListFactory().participantListRowFactory({position:o}).removeButtonFactory().hitUiReveal())}),[e,t]),UBIFragmentWithSpec:(0,n.useCallback)((e=>(0,r.jsx)(o,{spec:t,...e})),[o,t])}}},97321:(t,e,o)=>{o.d(e,{R:()=>r});var n=o(30758),a=o(29396),i=o(3161);const r=()=>{const{spec:t,logger:e}=(0,i.r)(a.T,{});return{logRemoveClick:(0,n.useCallback)(((o,n)=>{e.logInteraction(t.buttonRowFactory().removeButtonFactory().hitRemoveParticipant({participantId:o,sessionId:n}))}),[e,t])}}}}]);
//# sourceMappingURL=dwp-participant-list-page.js.map