"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838],{46686:(t,e,o)=>{o.r(e),o.d(e,{REDIRECT_BASE:()=>ot,default:()=>at});var n=o(30758),a=o(97500),i=o.n(a);const r="music",s="0.1.0",l="default",c="12.2.0";function u(t){return new p(t)}class p{constructor(t){this._path=[{name:"desktop-culturalmoments-hub",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}shelvesFactory(){return new p.ShelvesEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}mobilePromptFactory(){return new p.MobilePromptEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[s,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ShelvesEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"shelves"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[s,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(p||(p={})),function(t){t.MobilePromptEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"mobile_prompt"}),e&&(this._parentAbsoluteLocation=e)}appleBadgeFactory(){return new t.MobilePromptEventFactory.AppleBadgeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}googleBadgeFactory(){return new t.MobilePromptEventFactory.GoogleBadgeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[s,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}impression(){return{app:r,generatorVersion:c,specificationVersion:s,specificationMode:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(p||(p={})),function(t){!function(t){t.AppleBadgeEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"apple_badge"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[s,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToWebviewUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_webview_uri",actionVersion:1,app:r,generatorVersion:c,interactionType:"hit",specificationMode:l,specificationVersion:s,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.MobilePromptEventFactory||(t.MobilePromptEventFactory={}))}(p||(p={})),function(t){!function(t){t.GoogleBadgeEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"google_badge"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[l,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[s,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitNavigateToWebviewUri({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"navigate_to_webview_uri",actionVersion:1,app:r,generatorVersion:c,interactionType:"hit",specificationMode:l,specificationVersion:s,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.MobilePromptEventFactory||(t.MobilePromptEventFactory={}))}(p||(p={}));var h=o(79252),d=o(25373),m=o(11936),g=o(30618),b=o(97547),_=o(97514),v=o(11891),A=o(7106),y=o(9242),f=o(54264),L=o(90335),x=o(86070);const w=({image:t,color:e=b.vyq,title:o})=>{const n=void 0===t?_.K.SMALL:_.K.DEFAULT,a=t?.custom?.sizes?.flatMap((t=>t.uri?[{url:t.uri,width:t.width,height:t.height}]:[]))??(t?.uri?[{url:t?.uri}]:[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(_.z,{backgroundImages:a,backgroundColor:e,size:n,children:[(0,x.jsx)(A.h,{children:o?(0,x.jsx)(y.X,{text:o}):null}),(0,x.jsx)(v.Y,{children:o?(0,x.jsx)(f.mm,{children:o}):null})]}),(0,x.jsx)(L.f,{color:e})]})};var j=o(45005),N=o(13932),C=o(43318),F=o(65765);const M=t=>{if("number"==typeof t){return new Date(1e3*t).toISOString()}return null};const V=(t,e,o)=>{if(void 0===t.id)return null;const n=e.map(((t,e)=>function(t,e){const o=t.component?.id,n=t.id;if(void 0===o||void 0===n)return null;const a=t.events?.click?.data?.uri,i=t.images?.main?.uri,r=i?[{url:i}]:[];switch(o){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===a?null:(0,x.jsx)(C.U,{uri:a,name:t.text?.title??"",images:r,showImages:r,description:t.text?.description??t.text?.subtitle??"",durationMilliseconds:(s=t.custom?.duration,"number"==typeof s?s:0),releaseDate:M(t.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:e},n);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===a?null:(0,x.jsx)(F.B,{uri:a,name:t.text?.title??"",images:r,description:t.text?.description??"",authorName:t.text?.subtitle??"",index:e},n);default:return null}var s}(t,e))).flatMap((t=>t?[t]:[]));if(0===n.length)return null;const a=(0,j.o_h)(t.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,x.jsx)(N.p,{title:t.text?.title??"",total:n.length,seeAllUri:a,index:o,id:t.id,seeAllLabel:t.text?.accessory,children:n},t.id)};var E=o(3285),k=o(44004),P=o(17971),D=o(69897),I=o(58206);const S=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],T=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],B=t=>`images/download-badges/google/${T.includes(t)?t:"int"}.svg`;var R=o(15845),z=o(51283);const O="MT6jAR25XYfoarcSqHDd",H="IYZA3J2VTMydirxq_bdg",U="t6RJK1eND2uPmFYOi32l";var W=function(t){return t.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",t.IOS="https://apps.apple.com/app/spotify-music/id324684580",t}(W||{});const Z=({spec:t,model:e})=>{const o=h.Ru.getLocaleForTranslation(),n=(0,R.s)(),a=(0,z.t)(t),r=e.text?.title,s=e.text?.subtitle;if(void 0===r&&void 0===s)return null;const l=e=>{if(e===W.ANDROID){const o=t.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});n.logInteraction(o)}else{const o=t.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});n.logInteraction(o)}};return(0,x.jsxs)(E.a,{variant:"tinted",style:{width:600},ref:a,"data-testid":"unsupported-message",children:[(0,x.jsx)(k.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:P.v4},children:r}),(0,x.jsx)(k.E,{as:"p",variant:"bodySmall",style:{marginBottom:P.CD},children:s}),(0,x.jsxs)("div",{className:i()(U),children:[(0,x.jsx)(I.N,{to:W.IOS,target:"_blank",onClick:()=>l(W.IOS),children:(0,x.jsx)("img",{src:(0,D.b)((c=o,`images/download-badges/apple/${S.includes(c)?c:"int"}.svg`)),alt:h.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:O})}),(0,x.jsx)(I.N,{to:W.ANDROID,target:"_blank",onClick:()=>l(W.ANDROID),children:(0,x.jsx)("img",{src:(0,D.b)(B(o)),alt:h.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:i()(O,H)})})]})]});var c},q=(t,e)=>{const o=(t=>{const e=Array();let o,n=Array();return t.forEach((t=>{"culturalmoments:sectionHeaderWithAction"===t.component?.id?(o&&0!==n.length&&e.push({heading:o,components:n}),o=t,n=Array()):o&&("culturalmoments:carousel"===t.component?.id||"glue2:carousel"===t.component?.id?t.children?.forEach((t=>{n.push(t)})):n.push(t))})),o&&0!==n.length&&e.push({heading:o,components:n}),e})(t),n=(t=>t.find((t=>"culturalmoments:unavailableBanner"===t.component?.id)))(t);return(0,x.jsxs)(x.Fragment,{children:[n?(0,x.jsx)(Z,{spec:e,model:n},n.component?.id):null,o.map(((t,e)=>V(t.heading,t.components,e)))]})};var Y=o(8061),K=o(81907);const Q=(t,e)=>{const o=new Intl.DateTimeFormat;return t.build().withHost(K.LG).withPath("/hub").withQueryParameters({id:e,userHasRiF:!1,clientTimezone:o.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var $=o(29947),G=o(3161);const J="gtqpWbwIV4PTEp8Q0ZW4",X="edYsLe1QCBdzPglEiROZ",tt=({uri:t,id:e})=>{const{data:o,error:a,loading:r}=(0,$.Z)(Q,[e]),{spec:s,UBIFragment:l}=(0,G.r)(u,{data:{identifier:t,uri:t}}),c=(0,n.useMemo)((()=>s.shelvesFactory()),[s]),p=(0,n.useMemo)((()=>s.mobilePromptFactory()),[s]),b=o?.body.hubViewData?.body,_=o?.body.hubViewData?.header;if(null===o||void 0===b||void 0===_||r||null!==a)return(0,x.jsx)(g.LoadingPage,{hasError:null!==a,errorMessage:h.Ru.get("error.generic")});const v=o.body.hubViewData?.title,A=_?.text?.title;return(0,x.jsxs)(l,{spec:s,children:[(0,x.jsx)(m.Q,{children:v??""}),A?(0,x.jsx)("div",{children:(0,x.jsx)(w,{title:_?.text?.title,image:_.images?.background})}):null,(0,x.jsx)(l,{spec:c,children:(0,x.jsxs)("div",{className:X,children:[A&&(0,x.jsx)(d.K,{}),(0,x.jsx)("div",{className:i()("contentSpacing",J),children:(0,x.jsx)(Y._,{children:b?q(b,p):null})})]})})]})};var et=o(12304);const ot="https://accounts.spotify.com/login",nt=()=>{const t=window.location.href;return window.location.href=`${ot}?continue=${encodeURIComponent(t)}`,null},at=t=>(0,et.V)()?(0,x.jsx)(nt,{}):(0,x.jsx)(tt,{...t})}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map