"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{1148:(e,i,t)=>{t.d(i,{a:()=>o});var s=t(3528),a=t(31773),n=t(12299),r=t(77817),l=t(30758);const c=["play-history-contents"];function o(){const e=(0,r.q)(),i=(0,s.jE)();return function(e,i){const t=(0,r.q)();(0,l.useEffect)((()=>t.getEvents().addListener(e,i)),[e,i,t])}(n.X.UPDATE,(e=>i.setQueryData(c,e.data))),(0,a.I)({queryKey:c,queryFn:()=>e.getContents(),gcTime:3e5,staleTime:0})}},12503:(e,i,t)=>{t.d(i,{A:()=>s});const s={emptyContainer:"BP2Fv3OX_ZYbjdA4lovg",large:"Mxz3x1XNHpH4SvqEVkt0",titleContainer:"Olk6uKV_CIIVtWRrdRJc",icon:"AIW16bVmugXaJ42KBNKQ"}},20960:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri},42631:(e,i,t)=>{t.d(i,{u:()=>x});var s=t(97500),a=t.n(s),n=t(40638),r=t(35748),l=t(67847),c=t(92915),o=t(96231),d=t(15845),u=t(32574),m=t(86070);const x=({uri:e,src:i,playAriaLabel:t,onClick:s,isPlaying:x,isActive:h,isLocked:y,isEpisode:p,isVideo:j,spec:g})=>{const v=(0,c.W)(),f=(0,d.s)(),b=(0,n.YQ)((i=>{let t;if(v({type:"click",intent:x?"pause":"play"}),g){const i=g.playbackButtonFactory();let s;s=h&&x?i.hitPause({itemToBePaused:e}):h&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),t=f.logInteraction(s)}s(i,t)}),o.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(l.e,{src:i,isEpisode:p,isVideo:j}),(0,m.jsx)(r.x,{className:a()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:b,isPlaying:x,isLocked:y,playAriaLabel:t})]})}},49943:(e,i,t)=>{t.d(i,{H:()=>c});var s=t(92696),a=t(44004),n=t(79252),r=t(12503),l=t(86070);const c=()=>(0,l.jsxs)("div",{className:r.A.emptyContainer,children:[(0,l.jsx)(s.q,{size:"xxlarge","aria-hidden":"true"}),(0,l.jsxs)("div",{className:r.A.titleContainer,children:[(0,l.jsx)(a.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:n.Ru.get("history.empty-title")}),(0,l.jsx)("p",{children:n.Ru.get("history.empty-description")})]})]})},55925:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ne});var s=t(61702),a=t(44004),n=t(79252),r=t(49943),l=t(30758),c=t(93887),o=t(2336),d=t(44558),u=t(45005),m=t(47290),x=t(45804),h=t(27649),y=t(82980),p=t(60790),j=t(46283),g=t(87205),v=t(50791),f=t(69867),b=t(42631),k=t(50813),A=t(54287),C=t(70731),E=t(25811),P=t(38872),I=t(23823),R=t(61545),N=t(30775),w=t(24646),M=t(53112),B=t(35894),T=t(309),U=t(1425),z=t(90423),S=t(72308),O=t(69078),L=t(24848),_=t(1263),q=t(38138),D=t(32574),H=t(86070);const F=l.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:a,artists:r,album:l,isExplicit:c,isMOGEFRestricted:o,contextItem:d,type:F}){const{isActive:G,isPlaying:K,triggerPlay:Q,togglePlay:V}=(0,L.P)({uri:e,pages:[{items:[{...d}]}]},{featureIdentifier:"history"}),W=F===_.c.TRACK,X=F===_.c.EPISODE,J=F===_.c.CHAPTER,Y=(0,O.T)(e),{isPlayable:Z,isAnyArtistBanned:$}=(0,B.g)(e,{isPlayable:!0,isLocal:(0,u.PkR)(e),isOutOfMarket:!1,artistUris:r?.map((e=>e.uri))}),{unBanArtists:ee}=(0,M.M)(r.map((e=>e.uri))),{badges:ie,hasBadges:te}=(0,q.b)({downloadAvailability:Y,isExplicit:c,isMOGEFRestricted:o}),se=r?.map((e=>e.name)).join(n.Ru.getSeparator())||"";let ae;return X?ae=(0,H.jsx)(h.b,{uri:e,contextUri:e,showUri:l.uri}):J?ae=(0,H.jsx)(x.r,{uri:e}):W&&(0,u.PkR)(e)?ae=(0,H.jsx)(y.A,{uri:e,contextUri:e}):W&&(ae=(0,H.jsx)(p.P,{uri:e,contextUri:e,albumUri:l.uri,artists:r})),(0,H.jsx)(S.pZ,{value:"row",index:s,children:(0,H.jsx)(m.h,{menu:ae,children:(0,H.jsxs)(N.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{Q()},isActive:G,isPlayable:Z,isAnyArtistBanned:$,handleArtistBanUndoClick:ee,ageRestricted:o,dragMetadata:{name:i,createdBy:se},isExplicit:c,children:[(0,H.jsxs)(E.U,{ariaColIndex:0,children:[(0,H.jsx)(b.u,{uri:e,src:a,isPlaying:K,isActive:G,isLocked:!1,onClick:()=>{V()},isEpisode:(0,u.gHQ)(e),playAriaLabel:n.Ru.get("tracklist.a11y.play",i,se)}),(0,H.jsxs)(k.l,{children:[(0,H.jsx)(R.p,{titleText:i,children:i}),te&&(0,H.jsxs)(v.P,{children:[ie.download&&(0,H.jsx)(U._,{}),ie.explicit&&(0,H.jsx)(T.U,{}),ie.nineteen&&(0,H.jsx)(z.q,{className:D.A.nineteen,size:16})]}),(0,H.jsx)(I.p,{children:(0,u.U_m)(e)?(0,H.jsx)(g.l,{artists:r}):r[0]?.name??""})]})]}),(0,H.jsx)(P.o,{ariaColIndex:2,children:(0,H.jsx)(j.g,{nonInteractive:(0,u.PkR)(e),uri:l.uri,name:l.name,creatorUri:r?.[0]?.uri,children:l.name})}),(0,H.jsxs)(C.l,{ariaColIndex:1,children:[!J&&(0,H.jsx)(w.d,{uri:e,type:F}),(0,H.jsx)(f.P,{duration:t}),(0,H.jsx)(A.Y,{menu:ae,label:n.Ru.get("more.label.track",i,se)})]})]})})})}),((e,i)=>e.uri===i.uri));var G=t(20960),K=t(63365),Q=t(55),V=t(37639),W=t(12689),X=t(4945),J=t(43943),Y=t(61828);const Z=l.memo((function({items:e}){const i=(0,l.useCallback)(((e,i)=>{const t=(0,Y.g)(e.images??[],{desiredSize:40});return(0,W.v)(e)?(0,H.jsx)(F,{index:i,uri:e.isLocal?e.uri:(0,G.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:_.c.TRACK},i+e.uri):(0,V.p)(e)?(0,H.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:_.c.EPISODE},i+e.uri):(0,Q.d)(e)?(0,H.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:_.c.CHAPTER},i+e.uri):((0,K.N)(e)||(0,X.v)(e)||(0,J.k)(e),(0,H.jsx)(c.qq,{height:`${o.FL}px`}))}),[]),t=(0,l.useMemo)((()=>[d.$.TITLE_AND_ARTIST,d.$.ALBUM_OR_PODCAST,d.$.DURATION]),[]),s=(0,l.useCallback)((e=>({uri:e.uri})),[]);return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(S.pZ,{value:"play-history-tracklist",children:(0,H.jsx)(o.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var $=t(1148);const ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",te=()=>{const{isLoading:e,data:i}=(0,$.a)();return e?null:i?.items.length?(0,H.jsxs)("div",{className:ee,children:[(0,H.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:n.Ru.get("view.recently-played")}),(0,H.jsx)(Z,{items:i.items})]}):(0,H.jsx)(r.H,{})};var se=t(69920),ae=t(16491);const ne=()=>(0,ae.y)()?(0,H.jsx)(se.U,{children:(0,H.jsx)(te,{})}):(0,H.jsx)(s.$,{to:"/"})},69920:(e,i,t)=>{t.d(i,{U:()=>z});var s=t(79252),a=t(30758),n=t(97500),r=t.n(n),l=t(85387),c=t(44004),o=t(51174),d=t(23581),u=t(38514),m=t(90288),x=t(84206),h=t(62316);const y="BkpKedcdaMGbvgXMlmcg",p="muYk5XIwKmqR9iNibk_f",j="OEFWODerafYHGp09iLlA",g="m20ShRDiGGDpJ5LSABTi",v="Hvv0e7WKQ4kyftgSQJhg",f="yxf_6IsQEmHjijEBUMTP",b="oaNVBli46GtVjaQKB15g",k="JdlKTdpMquftpMwwegZo",A="Nts_ArOCGeROTDZND3M6",C="FvDsfgxSvLvL3q8d7nQv";var E=t(86070);const P=({items:e,activeItemId:i})=>(0,E.jsx)(x.W,{children:e.map((e=>e.disabled?(0,E.jsx)(h.D,{disabled:!0,role:"menuitemradio",className:f,onClick:e.handleClick,children:e.title},e.uri):(0,E.jsx)(h.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>r()(f,{[b]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var I=t(40638),R=t(743),N=t(36101);const w=(0,a.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:n}){const x=(0,a.useRef)(null),[h,f]=(0,a.useState)([]),[w,M]=(0,a.useState)(0),[B,T]=(0,a.useState)([]),U=function(){const[e,i]=(0,a.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,a.useContext)(R.bi),s=(0,I.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,N.w)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:z}=(0,l.zy)(),S=i.find((e=>e.to===z));return(0,a.useEffect)((()=>{x.current&&M(x.current.clientWidth)}),[U]),(0,a.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));f(e)}),[i]),(0,a.useEffect)((()=>{if(!x.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=w)return void T([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;h.forEach(((e,s)=>{w>=t+e?t+=e:i.push(s)})),T(i)}),[w,h]),(0,E.jsx)("nav",{className:r()(n,y),"aria-label":t,children:(0,E.jsxs)("ul",{className:e?p:A,ref:x,children:[i.filter(((e,i)=>!B.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,E.jsx)(a.Fragment,{children:i((0,E.jsx)("li",{className:j,children:e.disabled?(0,E.jsx)("div",{className:k,children:(0,E.jsx)(c.E,{variant:"bodySmallBold",children:e.title})}):(0,E.jsx)(m.k,{end:!0,className:({isActive:e})=>r()(k,{[b]:e}),to:e.to,onClick:e.handleClick,children:(0,E.jsx)(c.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),B.length||0===h.length?(0,E.jsx)("li",{className:j,children:(0,E.jsx)(u.t,{renderInline:!0,menu:(0,E.jsx)(P,{items:i.filter(((e,i)=>B.includes(i))),activeItemId:S?.itemId}),children:(e,i,t)=>(0,E.jsxs)("button",{className:r()(g,{[v]:S}),type:"button",onClick:i,ref:t,children:[(0,E.jsx)(c.E,{variant:"bodySmallBold",children:S?S.title:s.Ru.get("more")}),e?(0,E.jsx)(o.J,{size:"small",className:C,"aria-hidden":"true"}):(0,E.jsx)(d.y,{size:"small",className:C,"aria-hidden":"true"})]})})}):null]})})}));var M=t(16157);const B="XfifUos51Clgs5a6nf2m",T=()=>{const e=[{title:s.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:s.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,E.jsx)(M.g,{children:(0,E.jsx)(w,{className:B,links:e})})};var U=t(16491);const z=({children:e})=>{const i=(0,U.y)();return(0,E.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,E.jsx)(T,{})]})}},92696:(e,i,t)=>{t.d(i,{q:()=>n});var s=t(30758),a=t(18538);function n(e){var i,t,n,r,l,c=e.size?a.$Z[e.size]:e.iconSize,o=(0,a._C)([{size:16,svgContent:"<path d='M14.515 7.997a6.503 6.503 0 0 0-6.502-6.502.75.75 0 1 1 0-1.498 8 8 0 1 1-8 8 .75.75 0 0 1 1.5 0 6.501 6.501 0 0 0 13.002 0zM4.808 2.502a.906.906 0 1 1-.906-1.57.906.906 0 0 1 .906 1.57z'/><path d='M7.288 3.646a.75.75 0 0 1 1.5 0v3.601h2.125a.75.75 0 1 1 0 1.5H7.288v-5.1zm-6.04 1.51a.906.906 0 1 0 .906-1.57.906.906 0 0 0-.906 1.57z'/>"},{size:24,svgContent:"<path d='M21.001 12a9 9 0 0 0-9-9 1 1 0 1 1 0-2c6.075 0 11 4.925 11 11s-4.925 11-11 11-11-4.925-11-11a1 1 0 1 1 2 0 9 9 0 1 0 18 0zM7.58 4.422a1.25 1.25 0 1 1-1.25-2.165 1.25 1.25 0 0 1 1.25 2.165z'/><path d='M11.034 6a1 1 0 0 1 2 0v5H16a1 1 0 1 1 0 2h-4.966V6zM2.67 8.083a1.25 1.25 0 1 0 1.25-2.165 1.25 1.25 0 0 0-1.25 2.165z'/>"}],c||24),d=null!==(i=e.autoMirror)&&void 0!==i&&i;return s.createElement(a.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,l=e.titleId,r?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(r,"</title>"):"")).concat((t=e.desc,n=e.descId,t?"<desc ".concat(n?'id="'.concat(n,'"'):"",">").concat(t,"</desc>"):"")).concat(o.svgContent)}}))}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map